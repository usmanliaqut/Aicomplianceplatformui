(function(){const e=document.createElement("link").relList;if(e&&e.supports&&e.supports("modulepreload"))return;for(const i of document.querySelectorAll('link[rel="modulepreload"]'))s(i);new MutationObserver(i=>{for(const r of i)if(r.type==="childList")for(const o of r.addedNodes)o.tagName==="LINK"&&o.rel==="modulepreload"&&s(o)}).observe(document,{childList:!0,subtree:!0});function t(i){const r={};return i.integrity&&(r.integrity=i.integrity),i.referrerPolicy&&(r.referrerPolicy=i.referrerPolicy),i.crossOrigin==="use-credentials"?r.credentials="include":i.crossOrigin==="anonymous"?r.credentials="omit":r.credentials="same-origin",r}function s(i){if(i.ep)return;i.ep=!0;const r=t(i);fetch(i.href,r)}})();function bb(n){return n&&n.__esModule&&Object.prototype.hasOwnProperty.call(n,"default")?n.default:n}var Yd={exports:{}},va={},Qd={exports:{}},We={};/**
 * @license React
 * react.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var J0;function kC(){if(J0)return We;J0=1;var n=Symbol.for("react.element"),e=Symbol.for("react.portal"),t=Symbol.for("react.fragment"),s=Symbol.for("react.strict_mode"),i=Symbol.for("react.profiler"),r=Symbol.for("react.provider"),o=Symbol.for("react.context"),c=Symbol.for("react.forward_ref"),u=Symbol.for("react.suspense"),h=Symbol.for("react.memo"),f=Symbol.for("react.lazy"),p=Symbol.iterator;function g(O){return O===null||typeof O!="object"?null:(O=p&&O[p]||O["@@iterator"],typeof O=="function"?O:null)}var w={isMounted:function(){return!1},enqueueForceUpdate:function(){},enqueueReplaceState:function(){},enqueueSetState:function(){}},A=Object.assign,x={};function S(O,K,he){this.props=O,this.context=K,this.refs=x,this.updater=he||w}S.prototype.isReactComponent={},S.prototype.setState=function(O,K){if(typeof O!="object"&&typeof O!="function"&&O!=null)throw Error("setState(...): takes an object of state variables to update or a function which returns an object of state variables.");this.updater.enqueueSetState(this,O,K,"setState")},S.prototype.forceUpdate=function(O){this.updater.enqueueForceUpdate(this,O,"forceUpdate")};function E(){}E.prototype=S.prototype;function _(O,K,he){this.props=O,this.context=K,this.refs=x,this.updater=he||w}var k=_.prototype=new E;k.constructor=_,A(k,S.prototype),k.isPureReactComponent=!0;var T=Array.isArray,P=Object.prototype.hasOwnProperty,N={current:null},M={key:!0,ref:!0,__self:!0,__source:!0};function I(O,K,he){var be,Ce={},Pe=null,Ee=null;if(K!=null)for(be in K.ref!==void 0&&(Ee=K.ref),K.key!==void 0&&(Pe=""+K.key),K)P.call(K,be)&&!M.hasOwnProperty(be)&&(Ce[be]=K[be]);var je=arguments.length-2;if(je===1)Ce.children=he;else if(1<je){for(var Le=Array(je),$e=0;$e<je;$e++)Le[$e]=arguments[$e+2];Ce.children=Le}if(O&&O.defaultProps)for(be in je=O.defaultProps,je)Ce[be]===void 0&&(Ce[be]=je[be]);return{$$typeof:n,type:O,key:Pe,ref:Ee,props:Ce,_owner:N.current}}function $(O,K){return{$$typeof:n,type:O.type,key:K,ref:O.ref,props:O.props,_owner:O._owner}}function q(O){return typeof O=="object"&&O!==null&&O.$$typeof===n}function Z(O){var K={"=":"=0",":":"=2"};return"$"+O.replace(/[=:]/g,function(he){return K[he]})}var ie=/\/+/g;function U(O,K){return typeof O=="object"&&O!==null&&O.key!=null?Z(""+O.key):K.toString(36)}function ee(O,K,he,be,Ce){var Pe=typeof O;(Pe==="undefined"||Pe==="boolean")&&(O=null);var Ee=!1;if(O===null)Ee=!0;else switch(Pe){case"string":case"number":Ee=!0;break;case"object":switch(O.$$typeof){case n:case e:Ee=!0}}if(Ee)return Ee=O,Ce=Ce(Ee),O=be===""?"."+U(Ee,0):be,T(Ce)?(he="",O!=null&&(he=O.replace(ie,"$&/")+"/"),ee(Ce,K,he,"",function($e){return $e})):Ce!=null&&(q(Ce)&&(Ce=$(Ce,he+(!Ce.key||Ee&&Ee.key===Ce.key?"":(""+Ce.key).replace(ie,"$&/")+"/")+O)),K.push(Ce)),1;if(Ee=0,be=be===""?".":be+":",T(O))for(var je=0;je<O.length;je++){Pe=O[je];var Le=be+U(Pe,je);Ee+=ee(Pe,K,he,Le,Ce)}else if(Le=g(O),typeof Le=="function")for(O=Le.call(O),je=0;!(Pe=O.next()).done;)Pe=Pe.value,Le=be+U(Pe,je++),Ee+=ee(Pe,K,he,Le,Ce);else if(Pe==="object")throw K=String(O),Error("Objects are not valid as a React child (found: "+(K==="[object Object]"?"object with keys {"+Object.keys(O).join(", ")+"}":K)+"). If you meant to render a collection of children, use an array instead.");return Ee}function ue(O,K,he){if(O==null)return O;var be=[],Ce=0;return ee(O,be,"","",function(Pe){return K.call(he,Pe,Ce++)}),be}function Q(O){if(O._status===-1){var K=O._result;K=K(),K.then(function(he){(O._status===0||O._status===-1)&&(O._status=1,O._result=he)},function(he){(O._status===0||O._status===-1)&&(O._status=2,O._result=he)}),O._status===-1&&(O._status=0,O._result=K)}if(O._status===1)return O._result.default;throw O._result}var Y={current:null},W={transition:null},oe={ReactCurrentDispatcher:Y,ReactCurrentBatchConfig:W,ReactCurrentOwner:N};function J(){throw Error("act(...) is not supported in production builds of React.")}return We.Children={map:ue,forEach:function(O,K,he){ue(O,function(){K.apply(this,arguments)},he)},count:function(O){var K=0;return ue(O,function(){K++}),K},toArray:function(O){return ue(O,function(K){return K})||[]},only:function(O){if(!q(O))throw Error("React.Children.only expected to receive a single React element child.");return O}},We.Component=S,We.Fragment=t,We.Profiler=i,We.PureComponent=_,We.StrictMode=s,We.Suspense=u,We.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED=oe,We.act=J,We.cloneElement=function(O,K,he){if(O==null)throw Error("React.cloneElement(...): The argument must be a React element, but you passed "+O+".");var be=A({},O.props),Ce=O.key,Pe=O.ref,Ee=O._owner;if(K!=null){if(K.ref!==void 0&&(Pe=K.ref,Ee=N.current),K.key!==void 0&&(Ce=""+K.key),O.type&&O.type.defaultProps)var je=O.type.defaultProps;for(Le in K)P.call(K,Le)&&!M.hasOwnProperty(Le)&&(be[Le]=K[Le]===void 0&&je!==void 0?je[Le]:K[Le])}var Le=arguments.length-2;if(Le===1)be.children=he;else if(1<Le){je=Array(Le);for(var $e=0;$e<Le;$e++)je[$e]=arguments[$e+2];be.children=je}return{$$typeof:n,type:O.type,key:Ce,ref:Pe,props:be,_owner:Ee}},We.createContext=function(O){return O={$$typeof:o,_currentValue:O,_currentValue2:O,_threadCount:0,Provider:null,Consumer:null,_defaultValue:null,_globalName:null},O.Provider={$$typeof:r,_context:O},O.Consumer=O},We.createElement=I,We.createFactory=function(O){var K=I.bind(null,O);return K.type=O,K},We.createRef=function(){return{current:null}},We.forwardRef=function(O){return{$$typeof:c,render:O}},We.isValidElement=q,We.lazy=function(O){return{$$typeof:f,_payload:{_status:-1,_result:O},_init:Q}},We.memo=function(O,K){return{$$typeof:h,type:O,compare:K===void 0?null:K}},We.startTransition=function(O){var K=W.transition;W.transition={};try{O()}finally{W.transition=K}},We.unstable_act=J,We.useCallback=function(O,K){return Y.current.useCallback(O,K)},We.useContext=function(O){return Y.current.useContext(O)},We.useDebugValue=function(){},We.useDeferredValue=function(O){return Y.current.useDeferredValue(O)},We.useEffect=function(O,K){return Y.current.useEffect(O,K)},We.useId=function(){return Y.current.useId()},We.useImperativeHandle=function(O,K,he){return Y.current.useImperativeHandle(O,K,he)},We.useInsertionEffect=function(O,K){return Y.current.useInsertionEffect(O,K)},We.useLayoutEffect=function(O,K){return Y.current.useLayoutEffect(O,K)},We.useMemo=function(O,K){return Y.current.useMemo(O,K)},We.useReducer=function(O,K,he){return Y.current.useReducer(O,K,he)},We.useRef=function(O){return Y.current.useRef(O)},We.useState=function(O){return Y.current.useState(O)},We.useSyncExternalStore=function(O,K,he){return Y.current.useSyncExternalStore(O,K,he)},We.useTransition=function(){return Y.current.useTransition()},We.version="18.3.1",We}var ev;function jp(){return ev||(ev=1,Qd.exports=kC()),Qd.exports}/**
 * @license React
 * react-jsx-runtime.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var tv;function TC(){if(tv)return va;tv=1;var n=jp(),e=Symbol.for("react.element"),t=Symbol.for("react.fragment"),s=Object.prototype.hasOwnProperty,i=n.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED.ReactCurrentOwner,r={key:!0,ref:!0,__self:!0,__source:!0};function o(c,u,h){var f,p={},g=null,w=null;h!==void 0&&(g=""+h),u.key!==void 0&&(g=""+u.key),u.ref!==void 0&&(w=u.ref);for(f in u)s.call(u,f)&&!r.hasOwnProperty(f)&&(p[f]=u[f]);if(c&&c.defaultProps)for(f in u=c.defaultProps,u)p[f]===void 0&&(p[f]=u[f]);return{$$typeof:e,type:c,key:g,ref:w,props:p,_owner:i.current}}return va.Fragment=t,va.jsx=o,va.jsxs=o,va}var nv;function PC(){return nv||(nv=1,Yd.exports=TC()),Yd.exports}var y=PC(),Fc={},Jd={exports:{}},_n={},ef={exports:{}},tf={};/**
 * @license React
 * scheduler.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var sv;function FC(){return sv||(sv=1,(function(n){function e(W,oe){var J=W.length;W.push(oe);e:for(;0<J;){var O=J-1>>>1,K=W[O];if(0<i(K,oe))W[O]=oe,W[J]=K,J=O;else break e}}function t(W){return W.length===0?null:W[0]}function s(W){if(W.length===0)return null;var oe=W[0],J=W.pop();if(J!==oe){W[0]=J;e:for(var O=0,K=W.length,he=K>>>1;O<he;){var be=2*(O+1)-1,Ce=W[be],Pe=be+1,Ee=W[Pe];if(0>i(Ce,J))Pe<K&&0>i(Ee,Ce)?(W[O]=Ee,W[Pe]=J,O=Pe):(W[O]=Ce,W[be]=J,O=be);else if(Pe<K&&0>i(Ee,J))W[O]=Ee,W[Pe]=J,O=Pe;else break e}}return oe}function i(W,oe){var J=W.sortIndex-oe.sortIndex;return J!==0?J:W.id-oe.id}if(typeof performance=="object"&&typeof performance.now=="function"){var r=performance;n.unstable_now=function(){return r.now()}}else{var o=Date,c=o.now();n.unstable_now=function(){return o.now()-c}}var u=[],h=[],f=1,p=null,g=3,w=!1,A=!1,x=!1,S=typeof setTimeout=="function"?setTimeout:null,E=typeof clearTimeout=="function"?clearTimeout:null,_=typeof setImmediate<"u"?setImmediate:null;typeof navigator<"u"&&navigator.scheduling!==void 0&&navigator.scheduling.isInputPending!==void 0&&navigator.scheduling.isInputPending.bind(navigator.scheduling);function k(W){for(var oe=t(h);oe!==null;){if(oe.callback===null)s(h);else if(oe.startTime<=W)s(h),oe.sortIndex=oe.expirationTime,e(u,oe);else break;oe=t(h)}}function T(W){if(x=!1,k(W),!A)if(t(u)!==null)A=!0,Q(P);else{var oe=t(h);oe!==null&&Y(T,oe.startTime-W)}}function P(W,oe){A=!1,x&&(x=!1,E(I),I=-1),w=!0;var J=g;try{for(k(oe),p=t(u);p!==null&&(!(p.expirationTime>oe)||W&&!Z());){var O=p.callback;if(typeof O=="function"){p.callback=null,g=p.priorityLevel;var K=O(p.expirationTime<=oe);oe=n.unstable_now(),typeof K=="function"?p.callback=K:p===t(u)&&s(u),k(oe)}else s(u);p=t(u)}if(p!==null)var he=!0;else{var be=t(h);be!==null&&Y(T,be.startTime-oe),he=!1}return he}finally{p=null,g=J,w=!1}}var N=!1,M=null,I=-1,$=5,q=-1;function Z(){return!(n.unstable_now()-q<$)}function ie(){if(M!==null){var W=n.unstable_now();q=W;var oe=!0;try{oe=M(!0,W)}finally{oe?U():(N=!1,M=null)}}else N=!1}var U;if(typeof _=="function")U=function(){_(ie)};else if(typeof MessageChannel<"u"){var ee=new MessageChannel,ue=ee.port2;ee.port1.onmessage=ie,U=function(){ue.postMessage(null)}}else U=function(){S(ie,0)};function Q(W){M=W,N||(N=!0,U())}function Y(W,oe){I=S(function(){W(n.unstable_now())},oe)}n.unstable_IdlePriority=5,n.unstable_ImmediatePriority=1,n.unstable_LowPriority=4,n.unstable_NormalPriority=3,n.unstable_Profiling=null,n.unstable_UserBlockingPriority=2,n.unstable_cancelCallback=function(W){W.callback=null},n.unstable_continueExecution=function(){A||w||(A=!0,Q(P))},n.unstable_forceFrameRate=function(W){0>W||125<W?console.error("forceFrameRate takes a positive int between 0 and 125, forcing frame rates higher than 125 fps is not supported"):$=0<W?Math.floor(1e3/W):5},n.unstable_getCurrentPriorityLevel=function(){return g},n.unstable_getFirstCallbackNode=function(){return t(u)},n.unstable_next=function(W){switch(g){case 1:case 2:case 3:var oe=3;break;default:oe=g}var J=g;g=oe;try{return W()}finally{g=J}},n.unstable_pauseExecution=function(){},n.unstable_requestPaint=function(){},n.unstable_runWithPriority=function(W,oe){switch(W){case 1:case 2:case 3:case 4:case 5:break;default:W=3}var J=g;g=W;try{return oe()}finally{g=J}},n.unstable_scheduleCallback=function(W,oe,J){var O=n.unstable_now();switch(typeof J=="object"&&J!==null?(J=J.delay,J=typeof J=="number"&&0<J?O+J:O):J=O,W){case 1:var K=-1;break;case 2:K=250;break;case 5:K=1073741823;break;case 4:K=1e4;break;default:K=5e3}return K=J+K,W={id:f++,callback:oe,priorityLevel:W,startTime:J,expirationTime:K,sortIndex:-1},J>O?(W.sortIndex=J,e(h,W),t(u)===null&&W===t(h)&&(x?(E(I),I=-1):x=!0,Y(T,J-O))):(W.sortIndex=K,e(u,W),A||w||(A=!0,Q(P))),W},n.unstable_shouldYield=Z,n.unstable_wrapCallback=function(W){var oe=g;return function(){var J=g;g=oe;try{return W.apply(this,arguments)}finally{g=J}}}})(tf)),tf}var iv;function RC(){return iv||(iv=1,ef.exports=FC()),ef.exports}/**
 * @license React
 * react-dom.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var rv;function NC(){if(rv)return _n;rv=1;var n=jp(),e=RC();function t(a){for(var l="https://reactjs.org/docs/error-decoder.html?invariant="+a,d=1;d<arguments.length;d++)l+="&args[]="+encodeURIComponent(arguments[d]);return"Minified React error #"+a+"; visit "+l+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}var s=new Set,i={};function r(a,l){o(a,l),o(a+"Capture",l)}function o(a,l){for(i[a]=l,a=0;a<l.length;a++)s.add(l[a])}var c=!(typeof window>"u"||typeof window.document>"u"||typeof window.document.createElement>"u"),u=Object.prototype.hasOwnProperty,h=/^[:A-Z_a-z\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD][:A-Z_a-z\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD\-.0-9\u00B7\u0300-\u036F\u203F-\u2040]*$/,f={},p={};function g(a){return u.call(p,a)?!0:u.call(f,a)?!1:h.test(a)?p[a]=!0:(f[a]=!0,!1)}function w(a,l,d,m){if(d!==null&&d.type===0)return!1;switch(typeof l){case"function":case"symbol":return!0;case"boolean":return m?!1:d!==null?!d.acceptsBooleans:(a=a.toLowerCase().slice(0,5),a!=="data-"&&a!=="aria-");default:return!1}}function A(a,l,d,m){if(l===null||typeof l>"u"||w(a,l,d,m))return!0;if(m)return!1;if(d!==null)switch(d.type){case 3:return!l;case 4:return l===!1;case 5:return isNaN(l);case 6:return isNaN(l)||1>l}return!1}function x(a,l,d,m,v,b,C){this.acceptsBooleans=l===2||l===3||l===4,this.attributeName=m,this.attributeNamespace=v,this.mustUseProperty=d,this.propertyName=a,this.type=l,this.sanitizeURL=b,this.removeEmptyString=C}var S={};"children dangerouslySetInnerHTML defaultValue defaultChecked innerHTML suppressContentEditableWarning suppressHydrationWarning style".split(" ").forEach(function(a){S[a]=new x(a,0,!1,a,null,!1,!1)}),[["acceptCharset","accept-charset"],["className","class"],["htmlFor","for"],["httpEquiv","http-equiv"]].forEach(function(a){var l=a[0];S[l]=new x(l,1,!1,a[1],null,!1,!1)}),["contentEditable","draggable","spellCheck","value"].forEach(function(a){S[a]=new x(a,2,!1,a.toLowerCase(),null,!1,!1)}),["autoReverse","externalResourcesRequired","focusable","preserveAlpha"].forEach(function(a){S[a]=new x(a,2,!1,a,null,!1,!1)}),"allowFullScreen async autoFocus autoPlay controls default defer disabled disablePictureInPicture disableRemotePlayback formNoValidate hidden loop noModule noValidate open playsInline readOnly required reversed scoped seamless itemScope".split(" ").forEach(function(a){S[a]=new x(a,3,!1,a.toLowerCase(),null,!1,!1)}),["checked","multiple","muted","selected"].forEach(function(a){S[a]=new x(a,3,!0,a,null,!1,!1)}),["capture","download"].forEach(function(a){S[a]=new x(a,4,!1,a,null,!1,!1)}),["cols","rows","size","span"].forEach(function(a){S[a]=new x(a,6,!1,a,null,!1,!1)}),["rowSpan","start"].forEach(function(a){S[a]=new x(a,5,!1,a.toLowerCase(),null,!1,!1)});var E=/[\-:]([a-z])/g;function _(a){return a[1].toUpperCase()}"accent-height alignment-baseline arabic-form baseline-shift cap-height clip-path clip-rule color-interpolation color-interpolation-filters color-profile color-rendering dominant-baseline enable-background fill-opacity fill-rule flood-color flood-opacity font-family font-size font-size-adjust font-stretch font-style font-variant font-weight glyph-name glyph-orientation-horizontal glyph-orientation-vertical horiz-adv-x horiz-origin-x image-rendering letter-spacing lighting-color marker-end marker-mid marker-start overline-position overline-thickness paint-order panose-1 pointer-events rendering-intent shape-rendering stop-color stop-opacity strikethrough-position strikethrough-thickness stroke-dasharray stroke-dashoffset stroke-linecap stroke-linejoin stroke-miterlimit stroke-opacity stroke-width text-anchor text-decoration text-rendering underline-position underline-thickness unicode-bidi unicode-range units-per-em v-alphabetic v-hanging v-ideographic v-mathematical vector-effect vert-adv-y vert-origin-x vert-origin-y word-spacing writing-mode xmlns:xlink x-height".split(" ").forEach(function(a){var l=a.replace(E,_);S[l]=new x(l,1,!1,a,null,!1,!1)}),"xlink:actuate xlink:arcrole xlink:role xlink:show xlink:title xlink:type".split(" ").forEach(function(a){var l=a.replace(E,_);S[l]=new x(l,1,!1,a,"http://www.w3.org/1999/xlink",!1,!1)}),["xml:base","xml:lang","xml:space"].forEach(function(a){var l=a.replace(E,_);S[l]=new x(l,1,!1,a,"http://www.w3.org/XML/1998/namespace",!1,!1)}),["tabIndex","crossOrigin"].forEach(function(a){S[a]=new x(a,1,!1,a.toLowerCase(),null,!1,!1)}),S.xlinkHref=new x("xlinkHref",1,!1,"xlink:href","http://www.w3.org/1999/xlink",!0,!1),["src","href","action","formAction"].forEach(function(a){S[a]=new x(a,1,!1,a.toLowerCase(),null,!0,!0)});function k(a,l,d,m){var v=S.hasOwnProperty(l)?S[l]:null;(v!==null?v.type!==0:m||!(2<l.length)||l[0]!=="o"&&l[0]!=="O"||l[1]!=="n"&&l[1]!=="N")&&(A(l,d,v,m)&&(d=null),m||v===null?g(l)&&(d===null?a.removeAttribute(l):a.setAttribute(l,""+d)):v.mustUseProperty?a[v.propertyName]=d===null?v.type===3?!1:"":d:(l=v.attributeName,m=v.attributeNamespace,d===null?a.removeAttribute(l):(v=v.type,d=v===3||v===4&&d===!0?"":""+d,m?a.setAttributeNS(m,l,d):a.setAttribute(l,d))))}var T=n.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED,P=Symbol.for("react.element"),N=Symbol.for("react.portal"),M=Symbol.for("react.fragment"),I=Symbol.for("react.strict_mode"),$=Symbol.for("react.profiler"),q=Symbol.for("react.provider"),Z=Symbol.for("react.context"),ie=Symbol.for("react.forward_ref"),U=Symbol.for("react.suspense"),ee=Symbol.for("react.suspense_list"),ue=Symbol.for("react.memo"),Q=Symbol.for("react.lazy"),Y=Symbol.for("react.offscreen"),W=Symbol.iterator;function oe(a){return a===null||typeof a!="object"?null:(a=W&&a[W]||a["@@iterator"],typeof a=="function"?a:null)}var J=Object.assign,O;function K(a){if(O===void 0)try{throw Error()}catch(d){var l=d.stack.trim().match(/\n( *(at )?)/);O=l&&l[1]||""}return`
`+O+a}var he=!1;function be(a,l){if(!a||he)return"";he=!0;var d=Error.prepareStackTrace;Error.prepareStackTrace=void 0;try{if(l)if(l=function(){throw Error()},Object.defineProperty(l.prototype,"props",{set:function(){throw Error()}}),typeof Reflect=="object"&&Reflect.construct){try{Reflect.construct(l,[])}catch(H){var m=H}Reflect.construct(a,[],l)}else{try{l.call()}catch(H){m=H}a.call(l.prototype)}else{try{throw Error()}catch(H){m=H}a()}}catch(H){if(H&&m&&typeof H.stack=="string"){for(var v=H.stack.split(`
`),b=m.stack.split(`
`),C=v.length-1,R=b.length-1;1<=C&&0<=R&&v[C]!==b[R];)R--;for(;1<=C&&0<=R;C--,R--)if(v[C]!==b[R]){if(C!==1||R!==1)do if(C--,R--,0>R||v[C]!==b[R]){var L=`
`+v[C].replace(" at new "," at ");return a.displayName&&L.includes("<anonymous>")&&(L=L.replace("<anonymous>",a.displayName)),L}while(1<=C&&0<=R);break}}}finally{he=!1,Error.prepareStackTrace=d}return(a=a?a.displayName||a.name:"")?K(a):""}function Ce(a){switch(a.tag){case 5:return K(a.type);case 16:return K("Lazy");case 13:return K("Suspense");case 19:return K("SuspenseList");case 0:case 2:case 15:return a=be(a.type,!1),a;case 11:return a=be(a.type.render,!1),a;case 1:return a=be(a.type,!0),a;default:return""}}function Pe(a){if(a==null)return null;if(typeof a=="function")return a.displayName||a.name||null;if(typeof a=="string")return a;switch(a){case M:return"Fragment";case N:return"Portal";case $:return"Profiler";case I:return"StrictMode";case U:return"Suspense";case ee:return"SuspenseList"}if(typeof a=="object")switch(a.$$typeof){case Z:return(a.displayName||"Context")+".Consumer";case q:return(a._context.displayName||"Context")+".Provider";case ie:var l=a.render;return a=a.displayName,a||(a=l.displayName||l.name||"",a=a!==""?"ForwardRef("+a+")":"ForwardRef"),a;case ue:return l=a.displayName||null,l!==null?l:Pe(a.type)||"Memo";case Q:l=a._payload,a=a._init;try{return Pe(a(l))}catch{}}return null}function Ee(a){var l=a.type;switch(a.tag){case 24:return"Cache";case 9:return(l.displayName||"Context")+".Consumer";case 10:return(l._context.displayName||"Context")+".Provider";case 18:return"DehydratedFragment";case 11:return a=l.render,a=a.displayName||a.name||"",l.displayName||(a!==""?"ForwardRef("+a+")":"ForwardRef");case 7:return"Fragment";case 5:return l;case 4:return"Portal";case 3:return"Root";case 6:return"Text";case 16:return Pe(l);case 8:return l===I?"StrictMode":"Mode";case 22:return"Offscreen";case 12:return"Profiler";case 21:return"Scope";case 13:return"Suspense";case 19:return"SuspenseList";case 25:return"TracingMarker";case 1:case 0:case 17:case 2:case 14:case 15:if(typeof l=="function")return l.displayName||l.name||null;if(typeof l=="string")return l}return null}function je(a){switch(typeof a){case"boolean":case"number":case"string":case"undefined":return a;case"object":return a;default:return""}}function Le(a){var l=a.type;return(a=a.nodeName)&&a.toLowerCase()==="input"&&(l==="checkbox"||l==="radio")}function $e(a){var l=Le(a)?"checked":"value",d=Object.getOwnPropertyDescriptor(a.constructor.prototype,l),m=""+a[l];if(!a.hasOwnProperty(l)&&typeof d<"u"&&typeof d.get=="function"&&typeof d.set=="function"){var v=d.get,b=d.set;return Object.defineProperty(a,l,{configurable:!0,get:function(){return v.call(this)},set:function(C){m=""+C,b.call(this,C)}}),Object.defineProperty(a,l,{enumerable:d.enumerable}),{getValue:function(){return m},setValue:function(C){m=""+C},stopTracking:function(){a._valueTracker=null,delete a[l]}}}}function tn(a){a._valueTracker||(a._valueTracker=$e(a))}function hn(a){if(!a)return!1;var l=a._valueTracker;if(!l)return!0;var d=l.getValue(),m="";return a&&(m=Le(a)?a.checked?"true":"false":a.value),a=m,a!==d?(l.setValue(a),!0):!1}function Ue(a){if(a=a||(typeof document<"u"?document:void 0),typeof a>"u")return null;try{return a.activeElement||a.body}catch{return a.body}}function Ze(a,l){var d=l.checked;return J({},l,{defaultChecked:void 0,defaultValue:void 0,value:void 0,checked:d??a._wrapperState.initialChecked})}function rt(a,l){var d=l.defaultValue==null?"":l.defaultValue,m=l.checked!=null?l.checked:l.defaultChecked;d=je(l.value!=null?l.value:d),a._wrapperState={initialChecked:m,initialValue:d,controlled:l.type==="checkbox"||l.type==="radio"?l.checked!=null:l.value!=null}}function ft(a,l){l=l.checked,l!=null&&k(a,"checked",l,!1)}function Vn(a,l){ft(a,l);var d=je(l.value),m=l.type;if(d!=null)m==="number"?(d===0&&a.value===""||a.value!=d)&&(a.value=""+d):a.value!==""+d&&(a.value=""+d);else if(m==="submit"||m==="reset"){a.removeAttribute("value");return}l.hasOwnProperty("value")?xs(a,l.type,d):l.hasOwnProperty("defaultValue")&&xs(a,l.type,je(l.defaultValue)),l.checked==null&&l.defaultChecked!=null&&(a.defaultChecked=!!l.defaultChecked)}function zs(a,l,d){if(l.hasOwnProperty("value")||l.hasOwnProperty("defaultValue")){var m=l.type;if(!(m!=="submit"&&m!=="reset"||l.value!==void 0&&l.value!==null))return;l=""+a._wrapperState.initialValue,d||l===a.value||(a.value=l),a.defaultValue=l}d=a.name,d!==""&&(a.name=""),a.defaultChecked=!!a._wrapperState.initialChecked,d!==""&&(a.name=d)}function xs(a,l,d){(l!=="number"||Ue(a.ownerDocument)!==a)&&(d==null?a.defaultValue=""+a._wrapperState.initialValue:a.defaultValue!==""+d&&(a.defaultValue=""+d))}var D=Array.isArray;function z(a,l,d,m){if(a=a.options,l){l={};for(var v=0;v<d.length;v++)l["$"+d[v]]=!0;for(d=0;d<a.length;d++)v=l.hasOwnProperty("$"+a[d].value),a[d].selected!==v&&(a[d].selected=v),v&&m&&(a[d].defaultSelected=!0)}else{for(d=""+je(d),l=null,v=0;v<a.length;v++){if(a[v].value===d){a[v].selected=!0,m&&(a[v].defaultSelected=!0);return}l!==null||a[v].disabled||(l=a[v])}l!==null&&(l.selected=!0)}}function X(a,l){if(l.dangerouslySetInnerHTML!=null)throw Error(t(91));return J({},l,{value:void 0,defaultValue:void 0,children:""+a._wrapperState.initialValue})}function de(a,l){var d=l.value;if(d==null){if(d=l.children,l=l.defaultValue,d!=null){if(l!=null)throw Error(t(92));if(D(d)){if(1<d.length)throw Error(t(93));d=d[0]}l=d}l==null&&(l=""),d=l}a._wrapperState={initialValue:je(d)}}function ce(a,l){var d=je(l.value),m=je(l.defaultValue);d!=null&&(d=""+d,d!==a.value&&(a.value=d),l.defaultValue==null&&a.defaultValue!==d&&(a.defaultValue=d)),m!=null&&(a.defaultValue=""+m)}function ae(a){var l=a.textContent;l===a._wrapperState.initialValue&&l!==""&&l!==null&&(a.value=l)}function Se(a){switch(a){case"svg":return"http://www.w3.org/2000/svg";case"math":return"http://www.w3.org/1998/Math/MathML";default:return"http://www.w3.org/1999/xhtml"}}function Be(a,l){return a==null||a==="http://www.w3.org/1999/xhtml"?Se(l):a==="http://www.w3.org/2000/svg"&&l==="foreignObject"?"http://www.w3.org/1999/xhtml":a}var He,lt=(function(a){return typeof MSApp<"u"&&MSApp.execUnsafeLocalFunction?function(l,d,m,v){MSApp.execUnsafeLocalFunction(function(){return a(l,d,m,v)})}:a})(function(a,l){if(a.namespaceURI!=="http://www.w3.org/2000/svg"||"innerHTML"in a)a.innerHTML=l;else{for(He=He||document.createElement("div"),He.innerHTML="<svg>"+l.valueOf().toString()+"</svg>",l=He.firstChild;a.firstChild;)a.removeChild(a.firstChild);for(;l.firstChild;)a.appendChild(l.firstChild)}});function vn(a,l){if(l){var d=a.firstChild;if(d&&d===a.lastChild&&d.nodeType===3){d.nodeValue=l;return}}a.textContent=l}var wn={animationIterationCount:!0,aspectRatio:!0,borderImageOutset:!0,borderImageSlice:!0,borderImageWidth:!0,boxFlex:!0,boxFlexGroup:!0,boxOrdinalGroup:!0,columnCount:!0,columns:!0,flex:!0,flexGrow:!0,flexPositive:!0,flexShrink:!0,flexNegative:!0,flexOrder:!0,gridArea:!0,gridRow:!0,gridRowEnd:!0,gridRowSpan:!0,gridRowStart:!0,gridColumn:!0,gridColumnEnd:!0,gridColumnSpan:!0,gridColumnStart:!0,fontWeight:!0,lineClamp:!0,lineHeight:!0,opacity:!0,order:!0,orphans:!0,tabSize:!0,widows:!0,zIndex:!0,zoom:!0,fillOpacity:!0,floodOpacity:!0,stopOpacity:!0,strokeDasharray:!0,strokeDashoffset:!0,strokeMiterlimit:!0,strokeOpacity:!0,strokeWidth:!0},uh=["Webkit","ms","Moz","O"];Object.keys(wn).forEach(function(a){uh.forEach(function(l){l=l+a.charAt(0).toUpperCase()+a.substring(1),wn[l]=wn[a]})});function br(a,l,d){return l==null||typeof l=="boolean"||l===""?"":d||typeof l!="number"||l===0||wn.hasOwnProperty(a)&&wn[a]?(""+l).trim():l+"px"}function Ar(a,l){a=a.style;for(var d in l)if(l.hasOwnProperty(d)){var m=d.indexOf("--")===0,v=br(d,l[d],m);d==="float"&&(d="cssFloat"),m?a.setProperty(d,v):a[d]=v}}var hh=J({menuitem:!0},{area:!0,base:!0,br:!0,col:!0,embed:!0,hr:!0,img:!0,input:!0,keygen:!0,link:!0,meta:!0,param:!0,source:!0,track:!0,wbr:!0});function Sr(a,l){if(l){if(hh[a]&&(l.children!=null||l.dangerouslySetInnerHTML!=null))throw Error(t(137,a));if(l.dangerouslySetInnerHTML!=null){if(l.children!=null)throw Error(t(60));if(typeof l.dangerouslySetInnerHTML!="object"||!("__html"in l.dangerouslySetInnerHTML))throw Error(t(61))}if(l.style!=null&&typeof l.style!="object")throw Error(t(62))}}function Lo(a,l){if(a.indexOf("-")===-1)return typeof l.is=="string";switch(a){case"annotation-xml":case"color-profile":case"font-face":case"font-face-src":case"font-face-uri":case"font-face-format":case"font-face-name":case"missing-glyph":return!1;default:return!0}}var Er=null;function dh(a){return a=a.target||a.srcElement||window,a.correspondingUseElement&&(a=a.correspondingUseElement),a.nodeType===3?a.parentNode:a}var fh=null,_r=null,Cr=null;function gg(a){if(a=sa(a)){if(typeof fh!="function")throw Error(t(280));var l=a.stateNode;l&&(l=Wl(l),fh(a.stateNode,a.type,l))}}function yg(a){_r?Cr?Cr.push(a):Cr=[a]:_r=a}function vg(){if(_r){var a=_r,l=Cr;if(Cr=_r=null,gg(a),l)for(a=0;a<l.length;a++)gg(l[a])}}function wg(a,l){return a(l)}function xg(){}var ph=!1;function bg(a,l,d){if(ph)return a(l,d);ph=!0;try{return wg(a,l,d)}finally{ph=!1,(_r!==null||Cr!==null)&&(xg(),vg())}}function Io(a,l){var d=a.stateNode;if(d===null)return null;var m=Wl(d);if(m===null)return null;d=m[l];e:switch(l){case"onClick":case"onClickCapture":case"onDoubleClick":case"onDoubleClickCapture":case"onMouseDown":case"onMouseDownCapture":case"onMouseMove":case"onMouseMoveCapture":case"onMouseUp":case"onMouseUpCapture":case"onMouseEnter":(m=!m.disabled)||(a=a.type,m=!(a==="button"||a==="input"||a==="select"||a==="textarea")),a=!m;break e;default:a=!1}if(a)return null;if(d&&typeof d!="function")throw Error(t(231,l,typeof d));return d}var mh=!1;if(c)try{var Oo={};Object.defineProperty(Oo,"passive",{get:function(){mh=!0}}),window.addEventListener("test",Oo,Oo),window.removeEventListener("test",Oo,Oo)}catch{mh=!1}function ME(a,l,d,m,v,b,C,R,L){var H=Array.prototype.slice.call(arguments,3);try{l.apply(d,H)}catch(se){this.onError(se)}}var jo=!1,Sl=null,El=!1,gh=null,DE={onError:function(a){jo=!0,Sl=a}};function LE(a,l,d,m,v,b,C,R,L){jo=!1,Sl=null,ME.apply(DE,arguments)}function IE(a,l,d,m,v,b,C,R,L){if(LE.apply(this,arguments),jo){if(jo){var H=Sl;jo=!1,Sl=null}else throw Error(t(198));El||(El=!0,gh=H)}}function Oi(a){var l=a,d=a;if(a.alternate)for(;l.return;)l=l.return;else{a=l;do l=a,(l.flags&4098)!==0&&(d=l.return),a=l.return;while(a)}return l.tag===3?d:null}function Ag(a){if(a.tag===13){var l=a.memoizedState;if(l===null&&(a=a.alternate,a!==null&&(l=a.memoizedState)),l!==null)return l.dehydrated}return null}function Sg(a){if(Oi(a)!==a)throw Error(t(188))}function OE(a){var l=a.alternate;if(!l){if(l=Oi(a),l===null)throw Error(t(188));return l!==a?null:a}for(var d=a,m=l;;){var v=d.return;if(v===null)break;var b=v.alternate;if(b===null){if(m=v.return,m!==null){d=m;continue}break}if(v.child===b.child){for(b=v.child;b;){if(b===d)return Sg(v),a;if(b===m)return Sg(v),l;b=b.sibling}throw Error(t(188))}if(d.return!==m.return)d=v,m=b;else{for(var C=!1,R=v.child;R;){if(R===d){C=!0,d=v,m=b;break}if(R===m){C=!0,m=v,d=b;break}R=R.sibling}if(!C){for(R=b.child;R;){if(R===d){C=!0,d=b,m=v;break}if(R===m){C=!0,m=b,d=v;break}R=R.sibling}if(!C)throw Error(t(189))}}if(d.alternate!==m)throw Error(t(190))}if(d.tag!==3)throw Error(t(188));return d.stateNode.current===d?a:l}function Eg(a){return a=OE(a),a!==null?_g(a):null}function _g(a){if(a.tag===5||a.tag===6)return a;for(a=a.child;a!==null;){var l=_g(a);if(l!==null)return l;a=a.sibling}return null}var Cg=e.unstable_scheduleCallback,kg=e.unstable_cancelCallback,jE=e.unstable_shouldYield,BE=e.unstable_requestPaint,St=e.unstable_now,zE=e.unstable_getCurrentPriorityLevel,yh=e.unstable_ImmediatePriority,Tg=e.unstable_UserBlockingPriority,_l=e.unstable_NormalPriority,$E=e.unstable_LowPriority,Pg=e.unstable_IdlePriority,Cl=null,bs=null;function VE(a){if(bs&&typeof bs.onCommitFiberRoot=="function")try{bs.onCommitFiberRoot(Cl,a,void 0,(a.current.flags&128)===128)}catch{}}var os=Math.clz32?Math.clz32:WE,UE=Math.log,HE=Math.LN2;function WE(a){return a>>>=0,a===0?32:31-(UE(a)/HE|0)|0}var kl=64,Tl=4194304;function Bo(a){switch(a&-a){case 1:return 1;case 2:return 2;case 4:return 4;case 8:return 8;case 16:return 16;case 32:return 32;case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return a&4194240;case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:return a&130023424;case 134217728:return 134217728;case 268435456:return 268435456;case 536870912:return 536870912;case 1073741824:return 1073741824;default:return a}}function Pl(a,l){var d=a.pendingLanes;if(d===0)return 0;var m=0,v=a.suspendedLanes,b=a.pingedLanes,C=d&268435455;if(C!==0){var R=C&~v;R!==0?m=Bo(R):(b&=C,b!==0&&(m=Bo(b)))}else C=d&~v,C!==0?m=Bo(C):b!==0&&(m=Bo(b));if(m===0)return 0;if(l!==0&&l!==m&&(l&v)===0&&(v=m&-m,b=l&-l,v>=b||v===16&&(b&4194240)!==0))return l;if((m&4)!==0&&(m|=d&16),l=a.entangledLanes,l!==0)for(a=a.entanglements,l&=m;0<l;)d=31-os(l),v=1<<d,m|=a[d],l&=~v;return m}function GE(a,l){switch(a){case 1:case 2:case 4:return l+250;case 8:case 16:case 32:case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return l+5e3;case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:return-1;case 134217728:case 268435456:case 536870912:case 1073741824:return-1;default:return-1}}function qE(a,l){for(var d=a.suspendedLanes,m=a.pingedLanes,v=a.expirationTimes,b=a.pendingLanes;0<b;){var C=31-os(b),R=1<<C,L=v[C];L===-1?((R&d)===0||(R&m)!==0)&&(v[C]=GE(R,l)):L<=l&&(a.expiredLanes|=R),b&=~R}}function vh(a){return a=a.pendingLanes&-1073741825,a!==0?a:a&1073741824?1073741824:0}function Fg(){var a=kl;return kl<<=1,(kl&4194240)===0&&(kl=64),a}function wh(a){for(var l=[],d=0;31>d;d++)l.push(a);return l}function zo(a,l,d){a.pendingLanes|=l,l!==536870912&&(a.suspendedLanes=0,a.pingedLanes=0),a=a.eventTimes,l=31-os(l),a[l]=d}function KE(a,l){var d=a.pendingLanes&~l;a.pendingLanes=l,a.suspendedLanes=0,a.pingedLanes=0,a.expiredLanes&=l,a.mutableReadLanes&=l,a.entangledLanes&=l,l=a.entanglements;var m=a.eventTimes;for(a=a.expirationTimes;0<d;){var v=31-os(d),b=1<<v;l[v]=0,m[v]=-1,a[v]=-1,d&=~b}}function xh(a,l){var d=a.entangledLanes|=l;for(a=a.entanglements;d;){var m=31-os(d),v=1<<m;v&l|a[m]&l&&(a[m]|=l),d&=~v}}var Ye=0;function Rg(a){return a&=-a,1<a?4<a?(a&268435455)!==0?16:536870912:4:1}var Ng,bh,Mg,Dg,Lg,Ah=!1,Fl=[],oi=null,ai=null,li=null,$o=new Map,Vo=new Map,ci=[],XE="mousedown mouseup touchcancel touchend touchstart auxclick dblclick pointercancel pointerdown pointerup dragend dragstart drop compositionend compositionstart keydown keypress keyup input textInput copy cut paste click change contextmenu reset submit".split(" ");function Ig(a,l){switch(a){case"focusin":case"focusout":oi=null;break;case"dragenter":case"dragleave":ai=null;break;case"mouseover":case"mouseout":li=null;break;case"pointerover":case"pointerout":$o.delete(l.pointerId);break;case"gotpointercapture":case"lostpointercapture":Vo.delete(l.pointerId)}}function Uo(a,l,d,m,v,b){return a===null||a.nativeEvent!==b?(a={blockedOn:l,domEventName:d,eventSystemFlags:m,nativeEvent:b,targetContainers:[v]},l!==null&&(l=sa(l),l!==null&&bh(l)),a):(a.eventSystemFlags|=m,l=a.targetContainers,v!==null&&l.indexOf(v)===-1&&l.push(v),a)}function ZE(a,l,d,m,v){switch(l){case"focusin":return oi=Uo(oi,a,l,d,m,v),!0;case"dragenter":return ai=Uo(ai,a,l,d,m,v),!0;case"mouseover":return li=Uo(li,a,l,d,m,v),!0;case"pointerover":var b=v.pointerId;return $o.set(b,Uo($o.get(b)||null,a,l,d,m,v)),!0;case"gotpointercapture":return b=v.pointerId,Vo.set(b,Uo(Vo.get(b)||null,a,l,d,m,v)),!0}return!1}function Og(a){var l=ji(a.target);if(l!==null){var d=Oi(l);if(d!==null){if(l=d.tag,l===13){if(l=Ag(d),l!==null){a.blockedOn=l,Lg(a.priority,function(){Mg(d)});return}}else if(l===3&&d.stateNode.current.memoizedState.isDehydrated){a.blockedOn=d.tag===3?d.stateNode.containerInfo:null;return}}}a.blockedOn=null}function Rl(a){if(a.blockedOn!==null)return!1;for(var l=a.targetContainers;0<l.length;){var d=Eh(a.domEventName,a.eventSystemFlags,l[0],a.nativeEvent);if(d===null){d=a.nativeEvent;var m=new d.constructor(d.type,d);Er=m,d.target.dispatchEvent(m),Er=null}else return l=sa(d),l!==null&&bh(l),a.blockedOn=d,!1;l.shift()}return!0}function jg(a,l,d){Rl(a)&&d.delete(l)}function YE(){Ah=!1,oi!==null&&Rl(oi)&&(oi=null),ai!==null&&Rl(ai)&&(ai=null),li!==null&&Rl(li)&&(li=null),$o.forEach(jg),Vo.forEach(jg)}function Ho(a,l){a.blockedOn===l&&(a.blockedOn=null,Ah||(Ah=!0,e.unstable_scheduleCallback(e.unstable_NormalPriority,YE)))}function Wo(a){function l(v){return Ho(v,a)}if(0<Fl.length){Ho(Fl[0],a);for(var d=1;d<Fl.length;d++){var m=Fl[d];m.blockedOn===a&&(m.blockedOn=null)}}for(oi!==null&&Ho(oi,a),ai!==null&&Ho(ai,a),li!==null&&Ho(li,a),$o.forEach(l),Vo.forEach(l),d=0;d<ci.length;d++)m=ci[d],m.blockedOn===a&&(m.blockedOn=null);for(;0<ci.length&&(d=ci[0],d.blockedOn===null);)Og(d),d.blockedOn===null&&ci.shift()}var kr=T.ReactCurrentBatchConfig,Nl=!0;function QE(a,l,d,m){var v=Ye,b=kr.transition;kr.transition=null;try{Ye=1,Sh(a,l,d,m)}finally{Ye=v,kr.transition=b}}function JE(a,l,d,m){var v=Ye,b=kr.transition;kr.transition=null;try{Ye=4,Sh(a,l,d,m)}finally{Ye=v,kr.transition=b}}function Sh(a,l,d,m){if(Nl){var v=Eh(a,l,d,m);if(v===null)$h(a,l,m,Ml,d),Ig(a,m);else if(ZE(v,a,l,d,m))m.stopPropagation();else if(Ig(a,m),l&4&&-1<XE.indexOf(a)){for(;v!==null;){var b=sa(v);if(b!==null&&Ng(b),b=Eh(a,l,d,m),b===null&&$h(a,l,m,Ml,d),b===v)break;v=b}v!==null&&m.stopPropagation()}else $h(a,l,m,null,d)}}var Ml=null;function Eh(a,l,d,m){if(Ml=null,a=dh(m),a=ji(a),a!==null)if(l=Oi(a),l===null)a=null;else if(d=l.tag,d===13){if(a=Ag(l),a!==null)return a;a=null}else if(d===3){if(l.stateNode.current.memoizedState.isDehydrated)return l.tag===3?l.stateNode.containerInfo:null;a=null}else l!==a&&(a=null);return Ml=a,null}function Bg(a){switch(a){case"cancel":case"click":case"close":case"contextmenu":case"copy":case"cut":case"auxclick":case"dblclick":case"dragend":case"dragstart":case"drop":case"focusin":case"focusout":case"input":case"invalid":case"keydown":case"keypress":case"keyup":case"mousedown":case"mouseup":case"paste":case"pause":case"play":case"pointercancel":case"pointerdown":case"pointerup":case"ratechange":case"reset":case"resize":case"seeked":case"submit":case"touchcancel":case"touchend":case"touchstart":case"volumechange":case"change":case"selectionchange":case"textInput":case"compositionstart":case"compositionend":case"compositionupdate":case"beforeblur":case"afterblur":case"beforeinput":case"blur":case"fullscreenchange":case"focus":case"hashchange":case"popstate":case"select":case"selectstart":return 1;case"drag":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"mousemove":case"mouseout":case"mouseover":case"pointermove":case"pointerout":case"pointerover":case"scroll":case"toggle":case"touchmove":case"wheel":case"mouseenter":case"mouseleave":case"pointerenter":case"pointerleave":return 4;case"message":switch(zE()){case yh:return 1;case Tg:return 4;case _l:case $E:return 16;case Pg:return 536870912;default:return 16}default:return 16}}var ui=null,_h=null,Dl=null;function zg(){if(Dl)return Dl;var a,l=_h,d=l.length,m,v="value"in ui?ui.value:ui.textContent,b=v.length;for(a=0;a<d&&l[a]===v[a];a++);var C=d-a;for(m=1;m<=C&&l[d-m]===v[b-m];m++);return Dl=v.slice(a,1<m?1-m:void 0)}function Ll(a){var l=a.keyCode;return"charCode"in a?(a=a.charCode,a===0&&l===13&&(a=13)):a=l,a===10&&(a=13),32<=a||a===13?a:0}function Il(){return!0}function $g(){return!1}function Nn(a){function l(d,m,v,b,C){this._reactName=d,this._targetInst=v,this.type=m,this.nativeEvent=b,this.target=C,this.currentTarget=null;for(var R in a)a.hasOwnProperty(R)&&(d=a[R],this[R]=d?d(b):b[R]);return this.isDefaultPrevented=(b.defaultPrevented!=null?b.defaultPrevented:b.returnValue===!1)?Il:$g,this.isPropagationStopped=$g,this}return J(l.prototype,{preventDefault:function(){this.defaultPrevented=!0;var d=this.nativeEvent;d&&(d.preventDefault?d.preventDefault():typeof d.returnValue!="unknown"&&(d.returnValue=!1),this.isDefaultPrevented=Il)},stopPropagation:function(){var d=this.nativeEvent;d&&(d.stopPropagation?d.stopPropagation():typeof d.cancelBubble!="unknown"&&(d.cancelBubble=!0),this.isPropagationStopped=Il)},persist:function(){},isPersistent:Il}),l}var Tr={eventPhase:0,bubbles:0,cancelable:0,timeStamp:function(a){return a.timeStamp||Date.now()},defaultPrevented:0,isTrusted:0},Ch=Nn(Tr),Go=J({},Tr,{view:0,detail:0}),e_=Nn(Go),kh,Th,qo,Ol=J({},Go,{screenX:0,screenY:0,clientX:0,clientY:0,pageX:0,pageY:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,getModifierState:Fh,button:0,buttons:0,relatedTarget:function(a){return a.relatedTarget===void 0?a.fromElement===a.srcElement?a.toElement:a.fromElement:a.relatedTarget},movementX:function(a){return"movementX"in a?a.movementX:(a!==qo&&(qo&&a.type==="mousemove"?(kh=a.screenX-qo.screenX,Th=a.screenY-qo.screenY):Th=kh=0,qo=a),kh)},movementY:function(a){return"movementY"in a?a.movementY:Th}}),Vg=Nn(Ol),t_=J({},Ol,{dataTransfer:0}),n_=Nn(t_),s_=J({},Go,{relatedTarget:0}),Ph=Nn(s_),i_=J({},Tr,{animationName:0,elapsedTime:0,pseudoElement:0}),r_=Nn(i_),o_=J({},Tr,{clipboardData:function(a){return"clipboardData"in a?a.clipboardData:window.clipboardData}}),a_=Nn(o_),l_=J({},Tr,{data:0}),Ug=Nn(l_),c_={Esc:"Escape",Spacebar:" ",Left:"ArrowLeft",Up:"ArrowUp",Right:"ArrowRight",Down:"ArrowDown",Del:"Delete",Win:"OS",Menu:"ContextMenu",Apps:"ContextMenu",Scroll:"ScrollLock",MozPrintableKey:"Unidentified"},u_={8:"Backspace",9:"Tab",12:"Clear",13:"Enter",16:"Shift",17:"Control",18:"Alt",19:"Pause",20:"CapsLock",27:"Escape",32:" ",33:"PageUp",34:"PageDown",35:"End",36:"Home",37:"ArrowLeft",38:"ArrowUp",39:"ArrowRight",40:"ArrowDown",45:"Insert",46:"Delete",112:"F1",113:"F2",114:"F3",115:"F4",116:"F5",117:"F6",118:"F7",119:"F8",120:"F9",121:"F10",122:"F11",123:"F12",144:"NumLock",145:"ScrollLock",224:"Meta"},h_={Alt:"altKey",Control:"ctrlKey",Meta:"metaKey",Shift:"shiftKey"};function d_(a){var l=this.nativeEvent;return l.getModifierState?l.getModifierState(a):(a=h_[a])?!!l[a]:!1}function Fh(){return d_}var f_=J({},Go,{key:function(a){if(a.key){var l=c_[a.key]||a.key;if(l!=="Unidentified")return l}return a.type==="keypress"?(a=Ll(a),a===13?"Enter":String.fromCharCode(a)):a.type==="keydown"||a.type==="keyup"?u_[a.keyCode]||"Unidentified":""},code:0,location:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,repeat:0,locale:0,getModifierState:Fh,charCode:function(a){return a.type==="keypress"?Ll(a):0},keyCode:function(a){return a.type==="keydown"||a.type==="keyup"?a.keyCode:0},which:function(a){return a.type==="keypress"?Ll(a):a.type==="keydown"||a.type==="keyup"?a.keyCode:0}}),p_=Nn(f_),m_=J({},Ol,{pointerId:0,width:0,height:0,pressure:0,tangentialPressure:0,tiltX:0,tiltY:0,twist:0,pointerType:0,isPrimary:0}),Hg=Nn(m_),g_=J({},Go,{touches:0,targetTouches:0,changedTouches:0,altKey:0,metaKey:0,ctrlKey:0,shiftKey:0,getModifierState:Fh}),y_=Nn(g_),v_=J({},Tr,{propertyName:0,elapsedTime:0,pseudoElement:0}),w_=Nn(v_),x_=J({},Ol,{deltaX:function(a){return"deltaX"in a?a.deltaX:"wheelDeltaX"in a?-a.wheelDeltaX:0},deltaY:function(a){return"deltaY"in a?a.deltaY:"wheelDeltaY"in a?-a.wheelDeltaY:"wheelDelta"in a?-a.wheelDelta:0},deltaZ:0,deltaMode:0}),b_=Nn(x_),A_=[9,13,27,32],Rh=c&&"CompositionEvent"in window,Ko=null;c&&"documentMode"in document&&(Ko=document.documentMode);var S_=c&&"TextEvent"in window&&!Ko,Wg=c&&(!Rh||Ko&&8<Ko&&11>=Ko),Gg=" ",qg=!1;function Kg(a,l){switch(a){case"keyup":return A_.indexOf(l.keyCode)!==-1;case"keydown":return l.keyCode!==229;case"keypress":case"mousedown":case"focusout":return!0;default:return!1}}function Xg(a){return a=a.detail,typeof a=="object"&&"data"in a?a.data:null}var Pr=!1;function E_(a,l){switch(a){case"compositionend":return Xg(l);case"keypress":return l.which!==32?null:(qg=!0,Gg);case"textInput":return a=l.data,a===Gg&&qg?null:a;default:return null}}function __(a,l){if(Pr)return a==="compositionend"||!Rh&&Kg(a,l)?(a=zg(),Dl=_h=ui=null,Pr=!1,a):null;switch(a){case"paste":return null;case"keypress":if(!(l.ctrlKey||l.altKey||l.metaKey)||l.ctrlKey&&l.altKey){if(l.char&&1<l.char.length)return l.char;if(l.which)return String.fromCharCode(l.which)}return null;case"compositionend":return Wg&&l.locale!=="ko"?null:l.data;default:return null}}var C_={color:!0,date:!0,datetime:!0,"datetime-local":!0,email:!0,month:!0,number:!0,password:!0,range:!0,search:!0,tel:!0,text:!0,time:!0,url:!0,week:!0};function Zg(a){var l=a&&a.nodeName&&a.nodeName.toLowerCase();return l==="input"?!!C_[a.type]:l==="textarea"}function Yg(a,l,d,m){yg(m),l=Vl(l,"onChange"),0<l.length&&(d=new Ch("onChange","change",null,d,m),a.push({event:d,listeners:l}))}var Xo=null,Zo=null;function k_(a){my(a,0)}function jl(a){var l=Dr(a);if(hn(l))return a}function T_(a,l){if(a==="change")return l}var Qg=!1;if(c){var Nh;if(c){var Mh="oninput"in document;if(!Mh){var Jg=document.createElement("div");Jg.setAttribute("oninput","return;"),Mh=typeof Jg.oninput=="function"}Nh=Mh}else Nh=!1;Qg=Nh&&(!document.documentMode||9<document.documentMode)}function ey(){Xo&&(Xo.detachEvent("onpropertychange",ty),Zo=Xo=null)}function ty(a){if(a.propertyName==="value"&&jl(Zo)){var l=[];Yg(l,Zo,a,dh(a)),bg(k_,l)}}function P_(a,l,d){a==="focusin"?(ey(),Xo=l,Zo=d,Xo.attachEvent("onpropertychange",ty)):a==="focusout"&&ey()}function F_(a){if(a==="selectionchange"||a==="keyup"||a==="keydown")return jl(Zo)}function R_(a,l){if(a==="click")return jl(l)}function N_(a,l){if(a==="input"||a==="change")return jl(l)}function M_(a,l){return a===l&&(a!==0||1/a===1/l)||a!==a&&l!==l}var as=typeof Object.is=="function"?Object.is:M_;function Yo(a,l){if(as(a,l))return!0;if(typeof a!="object"||a===null||typeof l!="object"||l===null)return!1;var d=Object.keys(a),m=Object.keys(l);if(d.length!==m.length)return!1;for(m=0;m<d.length;m++){var v=d[m];if(!u.call(l,v)||!as(a[v],l[v]))return!1}return!0}function ny(a){for(;a&&a.firstChild;)a=a.firstChild;return a}function sy(a,l){var d=ny(a);a=0;for(var m;d;){if(d.nodeType===3){if(m=a+d.textContent.length,a<=l&&m>=l)return{node:d,offset:l-a};a=m}e:{for(;d;){if(d.nextSibling){d=d.nextSibling;break e}d=d.parentNode}d=void 0}d=ny(d)}}function iy(a,l){return a&&l?a===l?!0:a&&a.nodeType===3?!1:l&&l.nodeType===3?iy(a,l.parentNode):"contains"in a?a.contains(l):a.compareDocumentPosition?!!(a.compareDocumentPosition(l)&16):!1:!1}function ry(){for(var a=window,l=Ue();l instanceof a.HTMLIFrameElement;){try{var d=typeof l.contentWindow.location.href=="string"}catch{d=!1}if(d)a=l.contentWindow;else break;l=Ue(a.document)}return l}function Dh(a){var l=a&&a.nodeName&&a.nodeName.toLowerCase();return l&&(l==="input"&&(a.type==="text"||a.type==="search"||a.type==="tel"||a.type==="url"||a.type==="password")||l==="textarea"||a.contentEditable==="true")}function D_(a){var l=ry(),d=a.focusedElem,m=a.selectionRange;if(l!==d&&d&&d.ownerDocument&&iy(d.ownerDocument.documentElement,d)){if(m!==null&&Dh(d)){if(l=m.start,a=m.end,a===void 0&&(a=l),"selectionStart"in d)d.selectionStart=l,d.selectionEnd=Math.min(a,d.value.length);else if(a=(l=d.ownerDocument||document)&&l.defaultView||window,a.getSelection){a=a.getSelection();var v=d.textContent.length,b=Math.min(m.start,v);m=m.end===void 0?b:Math.min(m.end,v),!a.extend&&b>m&&(v=m,m=b,b=v),v=sy(d,b);var C=sy(d,m);v&&C&&(a.rangeCount!==1||a.anchorNode!==v.node||a.anchorOffset!==v.offset||a.focusNode!==C.node||a.focusOffset!==C.offset)&&(l=l.createRange(),l.setStart(v.node,v.offset),a.removeAllRanges(),b>m?(a.addRange(l),a.extend(C.node,C.offset)):(l.setEnd(C.node,C.offset),a.addRange(l)))}}for(l=[],a=d;a=a.parentNode;)a.nodeType===1&&l.push({element:a,left:a.scrollLeft,top:a.scrollTop});for(typeof d.focus=="function"&&d.focus(),d=0;d<l.length;d++)a=l[d],a.element.scrollLeft=a.left,a.element.scrollTop=a.top}}var L_=c&&"documentMode"in document&&11>=document.documentMode,Fr=null,Lh=null,Qo=null,Ih=!1;function oy(a,l,d){var m=d.window===d?d.document:d.nodeType===9?d:d.ownerDocument;Ih||Fr==null||Fr!==Ue(m)||(m=Fr,"selectionStart"in m&&Dh(m)?m={start:m.selectionStart,end:m.selectionEnd}:(m=(m.ownerDocument&&m.ownerDocument.defaultView||window).getSelection(),m={anchorNode:m.anchorNode,anchorOffset:m.anchorOffset,focusNode:m.focusNode,focusOffset:m.focusOffset}),Qo&&Yo(Qo,m)||(Qo=m,m=Vl(Lh,"onSelect"),0<m.length&&(l=new Ch("onSelect","select",null,l,d),a.push({event:l,listeners:m}),l.target=Fr)))}function Bl(a,l){var d={};return d[a.toLowerCase()]=l.toLowerCase(),d["Webkit"+a]="webkit"+l,d["Moz"+a]="moz"+l,d}var Rr={animationend:Bl("Animation","AnimationEnd"),animationiteration:Bl("Animation","AnimationIteration"),animationstart:Bl("Animation","AnimationStart"),transitionend:Bl("Transition","TransitionEnd")},Oh={},ay={};c&&(ay=document.createElement("div").style,"AnimationEvent"in window||(delete Rr.animationend.animation,delete Rr.animationiteration.animation,delete Rr.animationstart.animation),"TransitionEvent"in window||delete Rr.transitionend.transition);function zl(a){if(Oh[a])return Oh[a];if(!Rr[a])return a;var l=Rr[a],d;for(d in l)if(l.hasOwnProperty(d)&&d in ay)return Oh[a]=l[d];return a}var ly=zl("animationend"),cy=zl("animationiteration"),uy=zl("animationstart"),hy=zl("transitionend"),dy=new Map,fy="abort auxClick cancel canPlay canPlayThrough click close contextMenu copy cut drag dragEnd dragEnter dragExit dragLeave dragOver dragStart drop durationChange emptied encrypted ended error gotPointerCapture input invalid keyDown keyPress keyUp load loadedData loadedMetadata loadStart lostPointerCapture mouseDown mouseMove mouseOut mouseOver mouseUp paste pause play playing pointerCancel pointerDown pointerMove pointerOut pointerOver pointerUp progress rateChange reset resize seeked seeking stalled submit suspend timeUpdate touchCancel touchEnd touchStart volumeChange scroll toggle touchMove waiting wheel".split(" ");function hi(a,l){dy.set(a,l),r(l,[a])}for(var jh=0;jh<fy.length;jh++){var Bh=fy[jh],I_=Bh.toLowerCase(),O_=Bh[0].toUpperCase()+Bh.slice(1);hi(I_,"on"+O_)}hi(ly,"onAnimationEnd"),hi(cy,"onAnimationIteration"),hi(uy,"onAnimationStart"),hi("dblclick","onDoubleClick"),hi("focusin","onFocus"),hi("focusout","onBlur"),hi(hy,"onTransitionEnd"),o("onMouseEnter",["mouseout","mouseover"]),o("onMouseLeave",["mouseout","mouseover"]),o("onPointerEnter",["pointerout","pointerover"]),o("onPointerLeave",["pointerout","pointerover"]),r("onChange","change click focusin focusout input keydown keyup selectionchange".split(" ")),r("onSelect","focusout contextmenu dragend focusin keydown keyup mousedown mouseup selectionchange".split(" ")),r("onBeforeInput",["compositionend","keypress","textInput","paste"]),r("onCompositionEnd","compositionend focusout keydown keypress keyup mousedown".split(" ")),r("onCompositionStart","compositionstart focusout keydown keypress keyup mousedown".split(" ")),r("onCompositionUpdate","compositionupdate focusout keydown keypress keyup mousedown".split(" "));var Jo="abort canplay canplaythrough durationchange emptied encrypted ended error loadeddata loadedmetadata loadstart pause play playing progress ratechange resize seeked seeking stalled suspend timeupdate volumechange waiting".split(" "),j_=new Set("cancel close invalid load scroll toggle".split(" ").concat(Jo));function py(a,l,d){var m=a.type||"unknown-event";a.currentTarget=d,IE(m,l,void 0,a),a.currentTarget=null}function my(a,l){l=(l&4)!==0;for(var d=0;d<a.length;d++){var m=a[d],v=m.event;m=m.listeners;e:{var b=void 0;if(l)for(var C=m.length-1;0<=C;C--){var R=m[C],L=R.instance,H=R.currentTarget;if(R=R.listener,L!==b&&v.isPropagationStopped())break e;py(v,R,H),b=L}else for(C=0;C<m.length;C++){if(R=m[C],L=R.instance,H=R.currentTarget,R=R.listener,L!==b&&v.isPropagationStopped())break e;py(v,R,H),b=L}}}if(El)throw a=gh,El=!1,gh=null,a}function ot(a,l){var d=l[qh];d===void 0&&(d=l[qh]=new Set);var m=a+"__bubble";d.has(m)||(gy(l,a,2,!1),d.add(m))}function zh(a,l,d){var m=0;l&&(m|=4),gy(d,a,m,l)}var $l="_reactListening"+Math.random().toString(36).slice(2);function ea(a){if(!a[$l]){a[$l]=!0,s.forEach(function(d){d!=="selectionchange"&&(j_.has(d)||zh(d,!1,a),zh(d,!0,a))});var l=a.nodeType===9?a:a.ownerDocument;l===null||l[$l]||(l[$l]=!0,zh("selectionchange",!1,l))}}function gy(a,l,d,m){switch(Bg(l)){case 1:var v=QE;break;case 4:v=JE;break;default:v=Sh}d=v.bind(null,l,d,a),v=void 0,!mh||l!=="touchstart"&&l!=="touchmove"&&l!=="wheel"||(v=!0),m?v!==void 0?a.addEventListener(l,d,{capture:!0,passive:v}):a.addEventListener(l,d,!0):v!==void 0?a.addEventListener(l,d,{passive:v}):a.addEventListener(l,d,!1)}function $h(a,l,d,m,v){var b=m;if((l&1)===0&&(l&2)===0&&m!==null)e:for(;;){if(m===null)return;var C=m.tag;if(C===3||C===4){var R=m.stateNode.containerInfo;if(R===v||R.nodeType===8&&R.parentNode===v)break;if(C===4)for(C=m.return;C!==null;){var L=C.tag;if((L===3||L===4)&&(L=C.stateNode.containerInfo,L===v||L.nodeType===8&&L.parentNode===v))return;C=C.return}for(;R!==null;){if(C=ji(R),C===null)return;if(L=C.tag,L===5||L===6){m=b=C;continue e}R=R.parentNode}}m=m.return}bg(function(){var H=b,se=dh(d),re=[];e:{var te=dy.get(a);if(te!==void 0){var fe=Ch,ye=a;switch(a){case"keypress":if(Ll(d)===0)break e;case"keydown":case"keyup":fe=p_;break;case"focusin":ye="focus",fe=Ph;break;case"focusout":ye="blur",fe=Ph;break;case"beforeblur":case"afterblur":fe=Ph;break;case"click":if(d.button===2)break e;case"auxclick":case"dblclick":case"mousedown":case"mousemove":case"mouseup":case"mouseout":case"mouseover":case"contextmenu":fe=Vg;break;case"drag":case"dragend":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"dragstart":case"drop":fe=n_;break;case"touchcancel":case"touchend":case"touchmove":case"touchstart":fe=y_;break;case ly:case cy:case uy:fe=r_;break;case hy:fe=w_;break;case"scroll":fe=e_;break;case"wheel":fe=b_;break;case"copy":case"cut":case"paste":fe=a_;break;case"gotpointercapture":case"lostpointercapture":case"pointercancel":case"pointerdown":case"pointermove":case"pointerout":case"pointerover":case"pointerup":fe=Hg}var xe=(l&4)!==0,Et=!xe&&a==="scroll",B=xe?te!==null?te+"Capture":null:te;xe=[];for(var j=H,V;j!==null;){V=j;var le=V.stateNode;if(V.tag===5&&le!==null&&(V=le,B!==null&&(le=Io(j,B),le!=null&&xe.push(ta(j,le,V)))),Et)break;j=j.return}0<xe.length&&(te=new fe(te,ye,null,d,se),re.push({event:te,listeners:xe}))}}if((l&7)===0){e:{if(te=a==="mouseover"||a==="pointerover",fe=a==="mouseout"||a==="pointerout",te&&d!==Er&&(ye=d.relatedTarget||d.fromElement)&&(ji(ye)||ye[$s]))break e;if((fe||te)&&(te=se.window===se?se:(te=se.ownerDocument)?te.defaultView||te.parentWindow:window,fe?(ye=d.relatedTarget||d.toElement,fe=H,ye=ye?ji(ye):null,ye!==null&&(Et=Oi(ye),ye!==Et||ye.tag!==5&&ye.tag!==6)&&(ye=null)):(fe=null,ye=H),fe!==ye)){if(xe=Vg,le="onMouseLeave",B="onMouseEnter",j="mouse",(a==="pointerout"||a==="pointerover")&&(xe=Hg,le="onPointerLeave",B="onPointerEnter",j="pointer"),Et=fe==null?te:Dr(fe),V=ye==null?te:Dr(ye),te=new xe(le,j+"leave",fe,d,se),te.target=Et,te.relatedTarget=V,le=null,ji(se)===H&&(xe=new xe(B,j+"enter",ye,d,se),xe.target=V,xe.relatedTarget=Et,le=xe),Et=le,fe&&ye)t:{for(xe=fe,B=ye,j=0,V=xe;V;V=Nr(V))j++;for(V=0,le=B;le;le=Nr(le))V++;for(;0<j-V;)xe=Nr(xe),j--;for(;0<V-j;)B=Nr(B),V--;for(;j--;){if(xe===B||B!==null&&xe===B.alternate)break t;xe=Nr(xe),B=Nr(B)}xe=null}else xe=null;fe!==null&&yy(re,te,fe,xe,!1),ye!==null&&Et!==null&&yy(re,Et,ye,xe,!0)}}e:{if(te=H?Dr(H):window,fe=te.nodeName&&te.nodeName.toLowerCase(),fe==="select"||fe==="input"&&te.type==="file")var Ae=T_;else if(Zg(te))if(Qg)Ae=N_;else{Ae=F_;var ke=P_}else(fe=te.nodeName)&&fe.toLowerCase()==="input"&&(te.type==="checkbox"||te.type==="radio")&&(Ae=R_);if(Ae&&(Ae=Ae(a,H))){Yg(re,Ae,d,se);break e}ke&&ke(a,te,H),a==="focusout"&&(ke=te._wrapperState)&&ke.controlled&&te.type==="number"&&xs(te,"number",te.value)}switch(ke=H?Dr(H):window,a){case"focusin":(Zg(ke)||ke.contentEditable==="true")&&(Fr=ke,Lh=H,Qo=null);break;case"focusout":Qo=Lh=Fr=null;break;case"mousedown":Ih=!0;break;case"contextmenu":case"mouseup":case"dragend":Ih=!1,oy(re,d,se);break;case"selectionchange":if(L_)break;case"keydown":case"keyup":oy(re,d,se)}var Te;if(Rh)e:{switch(a){case"compositionstart":var Ne="onCompositionStart";break e;case"compositionend":Ne="onCompositionEnd";break e;case"compositionupdate":Ne="onCompositionUpdate";break e}Ne=void 0}else Pr?Kg(a,d)&&(Ne="onCompositionEnd"):a==="keydown"&&d.keyCode===229&&(Ne="onCompositionStart");Ne&&(Wg&&d.locale!=="ko"&&(Pr||Ne!=="onCompositionStart"?Ne==="onCompositionEnd"&&Pr&&(Te=zg()):(ui=se,_h="value"in ui?ui.value:ui.textContent,Pr=!0)),ke=Vl(H,Ne),0<ke.length&&(Ne=new Ug(Ne,a,null,d,se),re.push({event:Ne,listeners:ke}),Te?Ne.data=Te:(Te=Xg(d),Te!==null&&(Ne.data=Te)))),(Te=S_?E_(a,d):__(a,d))&&(H=Vl(H,"onBeforeInput"),0<H.length&&(se=new Ug("onBeforeInput","beforeinput",null,d,se),re.push({event:se,listeners:H}),se.data=Te))}my(re,l)})}function ta(a,l,d){return{instance:a,listener:l,currentTarget:d}}function Vl(a,l){for(var d=l+"Capture",m=[];a!==null;){var v=a,b=v.stateNode;v.tag===5&&b!==null&&(v=b,b=Io(a,d),b!=null&&m.unshift(ta(a,b,v)),b=Io(a,l),b!=null&&m.push(ta(a,b,v))),a=a.return}return m}function Nr(a){if(a===null)return null;do a=a.return;while(a&&a.tag!==5);return a||null}function yy(a,l,d,m,v){for(var b=l._reactName,C=[];d!==null&&d!==m;){var R=d,L=R.alternate,H=R.stateNode;if(L!==null&&L===m)break;R.tag===5&&H!==null&&(R=H,v?(L=Io(d,b),L!=null&&C.unshift(ta(d,L,R))):v||(L=Io(d,b),L!=null&&C.push(ta(d,L,R)))),d=d.return}C.length!==0&&a.push({event:l,listeners:C})}var B_=/\r\n?/g,z_=/\u0000|\uFFFD/g;function vy(a){return(typeof a=="string"?a:""+a).replace(B_,`
`).replace(z_,"")}function Ul(a,l,d){if(l=vy(l),vy(a)!==l&&d)throw Error(t(425))}function Hl(){}var Vh=null,Uh=null;function Hh(a,l){return a==="textarea"||a==="noscript"||typeof l.children=="string"||typeof l.children=="number"||typeof l.dangerouslySetInnerHTML=="object"&&l.dangerouslySetInnerHTML!==null&&l.dangerouslySetInnerHTML.__html!=null}var Wh=typeof setTimeout=="function"?setTimeout:void 0,$_=typeof clearTimeout=="function"?clearTimeout:void 0,wy=typeof Promise=="function"?Promise:void 0,V_=typeof queueMicrotask=="function"?queueMicrotask:typeof wy<"u"?function(a){return wy.resolve(null).then(a).catch(U_)}:Wh;function U_(a){setTimeout(function(){throw a})}function Gh(a,l){var d=l,m=0;do{var v=d.nextSibling;if(a.removeChild(d),v&&v.nodeType===8)if(d=v.data,d==="/$"){if(m===0){a.removeChild(v),Wo(l);return}m--}else d!=="$"&&d!=="$?"&&d!=="$!"||m++;d=v}while(d);Wo(l)}function di(a){for(;a!=null;a=a.nextSibling){var l=a.nodeType;if(l===1||l===3)break;if(l===8){if(l=a.data,l==="$"||l==="$!"||l==="$?")break;if(l==="/$")return null}}return a}function xy(a){a=a.previousSibling;for(var l=0;a;){if(a.nodeType===8){var d=a.data;if(d==="$"||d==="$!"||d==="$?"){if(l===0)return a;l--}else d==="/$"&&l++}a=a.previousSibling}return null}var Mr=Math.random().toString(36).slice(2),As="__reactFiber$"+Mr,na="__reactProps$"+Mr,$s="__reactContainer$"+Mr,qh="__reactEvents$"+Mr,H_="__reactListeners$"+Mr,W_="__reactHandles$"+Mr;function ji(a){var l=a[As];if(l)return l;for(var d=a.parentNode;d;){if(l=d[$s]||d[As]){if(d=l.alternate,l.child!==null||d!==null&&d.child!==null)for(a=xy(a);a!==null;){if(d=a[As])return d;a=xy(a)}return l}a=d,d=a.parentNode}return null}function sa(a){return a=a[As]||a[$s],!a||a.tag!==5&&a.tag!==6&&a.tag!==13&&a.tag!==3?null:a}function Dr(a){if(a.tag===5||a.tag===6)return a.stateNode;throw Error(t(33))}function Wl(a){return a[na]||null}var Kh=[],Lr=-1;function fi(a){return{current:a}}function at(a){0>Lr||(a.current=Kh[Lr],Kh[Lr]=null,Lr--)}function st(a,l){Lr++,Kh[Lr]=a.current,a.current=l}var pi={},nn=fi(pi),xn=fi(!1),Bi=pi;function Ir(a,l){var d=a.type.contextTypes;if(!d)return pi;var m=a.stateNode;if(m&&m.__reactInternalMemoizedUnmaskedChildContext===l)return m.__reactInternalMemoizedMaskedChildContext;var v={},b;for(b in d)v[b]=l[b];return m&&(a=a.stateNode,a.__reactInternalMemoizedUnmaskedChildContext=l,a.__reactInternalMemoizedMaskedChildContext=v),v}function bn(a){return a=a.childContextTypes,a!=null}function Gl(){at(xn),at(nn)}function by(a,l,d){if(nn.current!==pi)throw Error(t(168));st(nn,l),st(xn,d)}function Ay(a,l,d){var m=a.stateNode;if(l=l.childContextTypes,typeof m.getChildContext!="function")return d;m=m.getChildContext();for(var v in m)if(!(v in l))throw Error(t(108,Ee(a)||"Unknown",v));return J({},d,m)}function ql(a){return a=(a=a.stateNode)&&a.__reactInternalMemoizedMergedChildContext||pi,Bi=nn.current,st(nn,a),st(xn,xn.current),!0}function Sy(a,l,d){var m=a.stateNode;if(!m)throw Error(t(169));d?(a=Ay(a,l,Bi),m.__reactInternalMemoizedMergedChildContext=a,at(xn),at(nn),st(nn,a)):at(xn),st(xn,d)}var Vs=null,Kl=!1,Xh=!1;function Ey(a){Vs===null?Vs=[a]:Vs.push(a)}function G_(a){Kl=!0,Ey(a)}function mi(){if(!Xh&&Vs!==null){Xh=!0;var a=0,l=Ye;try{var d=Vs;for(Ye=1;a<d.length;a++){var m=d[a];do m=m(!0);while(m!==null)}Vs=null,Kl=!1}catch(v){throw Vs!==null&&(Vs=Vs.slice(a+1)),Cg(yh,mi),v}finally{Ye=l,Xh=!1}}return null}var Or=[],jr=0,Xl=null,Zl=0,Un=[],Hn=0,zi=null,Us=1,Hs="";function $i(a,l){Or[jr++]=Zl,Or[jr++]=Xl,Xl=a,Zl=l}function _y(a,l,d){Un[Hn++]=Us,Un[Hn++]=Hs,Un[Hn++]=zi,zi=a;var m=Us;a=Hs;var v=32-os(m)-1;m&=~(1<<v),d+=1;var b=32-os(l)+v;if(30<b){var C=v-v%5;b=(m&(1<<C)-1).toString(32),m>>=C,v-=C,Us=1<<32-os(l)+v|d<<v|m,Hs=b+a}else Us=1<<b|d<<v|m,Hs=a}function Zh(a){a.return!==null&&($i(a,1),_y(a,1,0))}function Yh(a){for(;a===Xl;)Xl=Or[--jr],Or[jr]=null,Zl=Or[--jr],Or[jr]=null;for(;a===zi;)zi=Un[--Hn],Un[Hn]=null,Hs=Un[--Hn],Un[Hn]=null,Us=Un[--Hn],Un[Hn]=null}var Mn=null,Dn=null,ct=!1,ls=null;function Cy(a,l){var d=Kn(5,null,null,0);d.elementType="DELETED",d.stateNode=l,d.return=a,l=a.deletions,l===null?(a.deletions=[d],a.flags|=16):l.push(d)}function ky(a,l){switch(a.tag){case 5:var d=a.type;return l=l.nodeType!==1||d.toLowerCase()!==l.nodeName.toLowerCase()?null:l,l!==null?(a.stateNode=l,Mn=a,Dn=di(l.firstChild),!0):!1;case 6:return l=a.pendingProps===""||l.nodeType!==3?null:l,l!==null?(a.stateNode=l,Mn=a,Dn=null,!0):!1;case 13:return l=l.nodeType!==8?null:l,l!==null?(d=zi!==null?{id:Us,overflow:Hs}:null,a.memoizedState={dehydrated:l,treeContext:d,retryLane:1073741824},d=Kn(18,null,null,0),d.stateNode=l,d.return=a,a.child=d,Mn=a,Dn=null,!0):!1;default:return!1}}function Qh(a){return(a.mode&1)!==0&&(a.flags&128)===0}function Jh(a){if(ct){var l=Dn;if(l){var d=l;if(!ky(a,l)){if(Qh(a))throw Error(t(418));l=di(d.nextSibling);var m=Mn;l&&ky(a,l)?Cy(m,d):(a.flags=a.flags&-4097|2,ct=!1,Mn=a)}}else{if(Qh(a))throw Error(t(418));a.flags=a.flags&-4097|2,ct=!1,Mn=a}}}function Ty(a){for(a=a.return;a!==null&&a.tag!==5&&a.tag!==3&&a.tag!==13;)a=a.return;Mn=a}function Yl(a){if(a!==Mn)return!1;if(!ct)return Ty(a),ct=!0,!1;var l;if((l=a.tag!==3)&&!(l=a.tag!==5)&&(l=a.type,l=l!=="head"&&l!=="body"&&!Hh(a.type,a.memoizedProps)),l&&(l=Dn)){if(Qh(a))throw Py(),Error(t(418));for(;l;)Cy(a,l),l=di(l.nextSibling)}if(Ty(a),a.tag===13){if(a=a.memoizedState,a=a!==null?a.dehydrated:null,!a)throw Error(t(317));e:{for(a=a.nextSibling,l=0;a;){if(a.nodeType===8){var d=a.data;if(d==="/$"){if(l===0){Dn=di(a.nextSibling);break e}l--}else d!=="$"&&d!=="$!"&&d!=="$?"||l++}a=a.nextSibling}Dn=null}}else Dn=Mn?di(a.stateNode.nextSibling):null;return!0}function Py(){for(var a=Dn;a;)a=di(a.nextSibling)}function Br(){Dn=Mn=null,ct=!1}function ed(a){ls===null?ls=[a]:ls.push(a)}var q_=T.ReactCurrentBatchConfig;function ia(a,l,d){if(a=d.ref,a!==null&&typeof a!="function"&&typeof a!="object"){if(d._owner){if(d=d._owner,d){if(d.tag!==1)throw Error(t(309));var m=d.stateNode}if(!m)throw Error(t(147,a));var v=m,b=""+a;return l!==null&&l.ref!==null&&typeof l.ref=="function"&&l.ref._stringRef===b?l.ref:(l=function(C){var R=v.refs;C===null?delete R[b]:R[b]=C},l._stringRef=b,l)}if(typeof a!="string")throw Error(t(284));if(!d._owner)throw Error(t(290,a))}return a}function Ql(a,l){throw a=Object.prototype.toString.call(l),Error(t(31,a==="[object Object]"?"object with keys {"+Object.keys(l).join(", ")+"}":a))}function Fy(a){var l=a._init;return l(a._payload)}function Ry(a){function l(B,j){if(a){var V=B.deletions;V===null?(B.deletions=[j],B.flags|=16):V.push(j)}}function d(B,j){if(!a)return null;for(;j!==null;)l(B,j),j=j.sibling;return null}function m(B,j){for(B=new Map;j!==null;)j.key!==null?B.set(j.key,j):B.set(j.index,j),j=j.sibling;return B}function v(B,j){return B=Si(B,j),B.index=0,B.sibling=null,B}function b(B,j,V){return B.index=V,a?(V=B.alternate,V!==null?(V=V.index,V<j?(B.flags|=2,j):V):(B.flags|=2,j)):(B.flags|=1048576,j)}function C(B){return a&&B.alternate===null&&(B.flags|=2),B}function R(B,j,V,le){return j===null||j.tag!==6?(j=Wd(V,B.mode,le),j.return=B,j):(j=v(j,V),j.return=B,j)}function L(B,j,V,le){var Ae=V.type;return Ae===M?se(B,j,V.props.children,le,V.key):j!==null&&(j.elementType===Ae||typeof Ae=="object"&&Ae!==null&&Ae.$$typeof===Q&&Fy(Ae)===j.type)?(le=v(j,V.props),le.ref=ia(B,j,V),le.return=B,le):(le=Ac(V.type,V.key,V.props,null,B.mode,le),le.ref=ia(B,j,V),le.return=B,le)}function H(B,j,V,le){return j===null||j.tag!==4||j.stateNode.containerInfo!==V.containerInfo||j.stateNode.implementation!==V.implementation?(j=Gd(V,B.mode,le),j.return=B,j):(j=v(j,V.children||[]),j.return=B,j)}function se(B,j,V,le,Ae){return j===null||j.tag!==7?(j=Xi(V,B.mode,le,Ae),j.return=B,j):(j=v(j,V),j.return=B,j)}function re(B,j,V){if(typeof j=="string"&&j!==""||typeof j=="number")return j=Wd(""+j,B.mode,V),j.return=B,j;if(typeof j=="object"&&j!==null){switch(j.$$typeof){case P:return V=Ac(j.type,j.key,j.props,null,B.mode,V),V.ref=ia(B,null,j),V.return=B,V;case N:return j=Gd(j,B.mode,V),j.return=B,j;case Q:var le=j._init;return re(B,le(j._payload),V)}if(D(j)||oe(j))return j=Xi(j,B.mode,V,null),j.return=B,j;Ql(B,j)}return null}function te(B,j,V,le){var Ae=j!==null?j.key:null;if(typeof V=="string"&&V!==""||typeof V=="number")return Ae!==null?null:R(B,j,""+V,le);if(typeof V=="object"&&V!==null){switch(V.$$typeof){case P:return V.key===Ae?L(B,j,V,le):null;case N:return V.key===Ae?H(B,j,V,le):null;case Q:return Ae=V._init,te(B,j,Ae(V._payload),le)}if(D(V)||oe(V))return Ae!==null?null:se(B,j,V,le,null);Ql(B,V)}return null}function fe(B,j,V,le,Ae){if(typeof le=="string"&&le!==""||typeof le=="number")return B=B.get(V)||null,R(j,B,""+le,Ae);if(typeof le=="object"&&le!==null){switch(le.$$typeof){case P:return B=B.get(le.key===null?V:le.key)||null,L(j,B,le,Ae);case N:return B=B.get(le.key===null?V:le.key)||null,H(j,B,le,Ae);case Q:var ke=le._init;return fe(B,j,V,ke(le._payload),Ae)}if(D(le)||oe(le))return B=B.get(V)||null,se(j,B,le,Ae,null);Ql(j,le)}return null}function ye(B,j,V,le){for(var Ae=null,ke=null,Te=j,Ne=j=0,Vt=null;Te!==null&&Ne<V.length;Ne++){Te.index>Ne?(Vt=Te,Te=null):Vt=Te.sibling;var Xe=te(B,Te,V[Ne],le);if(Xe===null){Te===null&&(Te=Vt);break}a&&Te&&Xe.alternate===null&&l(B,Te),j=b(Xe,j,Ne),ke===null?Ae=Xe:ke.sibling=Xe,ke=Xe,Te=Vt}if(Ne===V.length)return d(B,Te),ct&&$i(B,Ne),Ae;if(Te===null){for(;Ne<V.length;Ne++)Te=re(B,V[Ne],le),Te!==null&&(j=b(Te,j,Ne),ke===null?Ae=Te:ke.sibling=Te,ke=Te);return ct&&$i(B,Ne),Ae}for(Te=m(B,Te);Ne<V.length;Ne++)Vt=fe(Te,B,Ne,V[Ne],le),Vt!==null&&(a&&Vt.alternate!==null&&Te.delete(Vt.key===null?Ne:Vt.key),j=b(Vt,j,Ne),ke===null?Ae=Vt:ke.sibling=Vt,ke=Vt);return a&&Te.forEach(function(Ei){return l(B,Ei)}),ct&&$i(B,Ne),Ae}function xe(B,j,V,le){var Ae=oe(V);if(typeof Ae!="function")throw Error(t(150));if(V=Ae.call(V),V==null)throw Error(t(151));for(var ke=Ae=null,Te=j,Ne=j=0,Vt=null,Xe=V.next();Te!==null&&!Xe.done;Ne++,Xe=V.next()){Te.index>Ne?(Vt=Te,Te=null):Vt=Te.sibling;var Ei=te(B,Te,Xe.value,le);if(Ei===null){Te===null&&(Te=Vt);break}a&&Te&&Ei.alternate===null&&l(B,Te),j=b(Ei,j,Ne),ke===null?Ae=Ei:ke.sibling=Ei,ke=Ei,Te=Vt}if(Xe.done)return d(B,Te),ct&&$i(B,Ne),Ae;if(Te===null){for(;!Xe.done;Ne++,Xe=V.next())Xe=re(B,Xe.value,le),Xe!==null&&(j=b(Xe,j,Ne),ke===null?Ae=Xe:ke.sibling=Xe,ke=Xe);return ct&&$i(B,Ne),Ae}for(Te=m(B,Te);!Xe.done;Ne++,Xe=V.next())Xe=fe(Te,B,Ne,Xe.value,le),Xe!==null&&(a&&Xe.alternate!==null&&Te.delete(Xe.key===null?Ne:Xe.key),j=b(Xe,j,Ne),ke===null?Ae=Xe:ke.sibling=Xe,ke=Xe);return a&&Te.forEach(function(CC){return l(B,CC)}),ct&&$i(B,Ne),Ae}function Et(B,j,V,le){if(typeof V=="object"&&V!==null&&V.type===M&&V.key===null&&(V=V.props.children),typeof V=="object"&&V!==null){switch(V.$$typeof){case P:e:{for(var Ae=V.key,ke=j;ke!==null;){if(ke.key===Ae){if(Ae=V.type,Ae===M){if(ke.tag===7){d(B,ke.sibling),j=v(ke,V.props.children),j.return=B,B=j;break e}}else if(ke.elementType===Ae||typeof Ae=="object"&&Ae!==null&&Ae.$$typeof===Q&&Fy(Ae)===ke.type){d(B,ke.sibling),j=v(ke,V.props),j.ref=ia(B,ke,V),j.return=B,B=j;break e}d(B,ke);break}else l(B,ke);ke=ke.sibling}V.type===M?(j=Xi(V.props.children,B.mode,le,V.key),j.return=B,B=j):(le=Ac(V.type,V.key,V.props,null,B.mode,le),le.ref=ia(B,j,V),le.return=B,B=le)}return C(B);case N:e:{for(ke=V.key;j!==null;){if(j.key===ke)if(j.tag===4&&j.stateNode.containerInfo===V.containerInfo&&j.stateNode.implementation===V.implementation){d(B,j.sibling),j=v(j,V.children||[]),j.return=B,B=j;break e}else{d(B,j);break}else l(B,j);j=j.sibling}j=Gd(V,B.mode,le),j.return=B,B=j}return C(B);case Q:return ke=V._init,Et(B,j,ke(V._payload),le)}if(D(V))return ye(B,j,V,le);if(oe(V))return xe(B,j,V,le);Ql(B,V)}return typeof V=="string"&&V!==""||typeof V=="number"?(V=""+V,j!==null&&j.tag===6?(d(B,j.sibling),j=v(j,V),j.return=B,B=j):(d(B,j),j=Wd(V,B.mode,le),j.return=B,B=j),C(B)):d(B,j)}return Et}var zr=Ry(!0),Ny=Ry(!1),Jl=fi(null),ec=null,$r=null,td=null;function nd(){td=$r=ec=null}function sd(a){var l=Jl.current;at(Jl),a._currentValue=l}function id(a,l,d){for(;a!==null;){var m=a.alternate;if((a.childLanes&l)!==l?(a.childLanes|=l,m!==null&&(m.childLanes|=l)):m!==null&&(m.childLanes&l)!==l&&(m.childLanes|=l),a===d)break;a=a.return}}function Vr(a,l){ec=a,td=$r=null,a=a.dependencies,a!==null&&a.firstContext!==null&&((a.lanes&l)!==0&&(An=!0),a.firstContext=null)}function Wn(a){var l=a._currentValue;if(td!==a)if(a={context:a,memoizedValue:l,next:null},$r===null){if(ec===null)throw Error(t(308));$r=a,ec.dependencies={lanes:0,firstContext:a}}else $r=$r.next=a;return l}var Vi=null;function rd(a){Vi===null?Vi=[a]:Vi.push(a)}function My(a,l,d,m){var v=l.interleaved;return v===null?(d.next=d,rd(l)):(d.next=v.next,v.next=d),l.interleaved=d,Ws(a,m)}function Ws(a,l){a.lanes|=l;var d=a.alternate;for(d!==null&&(d.lanes|=l),d=a,a=a.return;a!==null;)a.childLanes|=l,d=a.alternate,d!==null&&(d.childLanes|=l),d=a,a=a.return;return d.tag===3?d.stateNode:null}var gi=!1;function od(a){a.updateQueue={baseState:a.memoizedState,firstBaseUpdate:null,lastBaseUpdate:null,shared:{pending:null,interleaved:null,lanes:0},effects:null}}function Dy(a,l){a=a.updateQueue,l.updateQueue===a&&(l.updateQueue={baseState:a.baseState,firstBaseUpdate:a.firstBaseUpdate,lastBaseUpdate:a.lastBaseUpdate,shared:a.shared,effects:a.effects})}function Gs(a,l){return{eventTime:a,lane:l,tag:0,payload:null,callback:null,next:null}}function yi(a,l,d){var m=a.updateQueue;if(m===null)return null;if(m=m.shared,(Ke&2)!==0){var v=m.pending;return v===null?l.next=l:(l.next=v.next,v.next=l),m.pending=l,Ws(a,d)}return v=m.interleaved,v===null?(l.next=l,rd(m)):(l.next=v.next,v.next=l),m.interleaved=l,Ws(a,d)}function tc(a,l,d){if(l=l.updateQueue,l!==null&&(l=l.shared,(d&4194240)!==0)){var m=l.lanes;m&=a.pendingLanes,d|=m,l.lanes=d,xh(a,d)}}function Ly(a,l){var d=a.updateQueue,m=a.alternate;if(m!==null&&(m=m.updateQueue,d===m)){var v=null,b=null;if(d=d.firstBaseUpdate,d!==null){do{var C={eventTime:d.eventTime,lane:d.lane,tag:d.tag,payload:d.payload,callback:d.callback,next:null};b===null?v=b=C:b=b.next=C,d=d.next}while(d!==null);b===null?v=b=l:b=b.next=l}else v=b=l;d={baseState:m.baseState,firstBaseUpdate:v,lastBaseUpdate:b,shared:m.shared,effects:m.effects},a.updateQueue=d;return}a=d.lastBaseUpdate,a===null?d.firstBaseUpdate=l:a.next=l,d.lastBaseUpdate=l}function nc(a,l,d,m){var v=a.updateQueue;gi=!1;var b=v.firstBaseUpdate,C=v.lastBaseUpdate,R=v.shared.pending;if(R!==null){v.shared.pending=null;var L=R,H=L.next;L.next=null,C===null?b=H:C.next=H,C=L;var se=a.alternate;se!==null&&(se=se.updateQueue,R=se.lastBaseUpdate,R!==C&&(R===null?se.firstBaseUpdate=H:R.next=H,se.lastBaseUpdate=L))}if(b!==null){var re=v.baseState;C=0,se=H=L=null,R=b;do{var te=R.lane,fe=R.eventTime;if((m&te)===te){se!==null&&(se=se.next={eventTime:fe,lane:0,tag:R.tag,payload:R.payload,callback:R.callback,next:null});e:{var ye=a,xe=R;switch(te=l,fe=d,xe.tag){case 1:if(ye=xe.payload,typeof ye=="function"){re=ye.call(fe,re,te);break e}re=ye;break e;case 3:ye.flags=ye.flags&-65537|128;case 0:if(ye=xe.payload,te=typeof ye=="function"?ye.call(fe,re,te):ye,te==null)break e;re=J({},re,te);break e;case 2:gi=!0}}R.callback!==null&&R.lane!==0&&(a.flags|=64,te=v.effects,te===null?v.effects=[R]:te.push(R))}else fe={eventTime:fe,lane:te,tag:R.tag,payload:R.payload,callback:R.callback,next:null},se===null?(H=se=fe,L=re):se=se.next=fe,C|=te;if(R=R.next,R===null){if(R=v.shared.pending,R===null)break;te=R,R=te.next,te.next=null,v.lastBaseUpdate=te,v.shared.pending=null}}while(!0);if(se===null&&(L=re),v.baseState=L,v.firstBaseUpdate=H,v.lastBaseUpdate=se,l=v.shared.interleaved,l!==null){v=l;do C|=v.lane,v=v.next;while(v!==l)}else b===null&&(v.shared.lanes=0);Wi|=C,a.lanes=C,a.memoizedState=re}}function Iy(a,l,d){if(a=l.effects,l.effects=null,a!==null)for(l=0;l<a.length;l++){var m=a[l],v=m.callback;if(v!==null){if(m.callback=null,m=d,typeof v!="function")throw Error(t(191,v));v.call(m)}}}var ra={},Ss=fi(ra),oa=fi(ra),aa=fi(ra);function Ui(a){if(a===ra)throw Error(t(174));return a}function ad(a,l){switch(st(aa,l),st(oa,a),st(Ss,ra),a=l.nodeType,a){case 9:case 11:l=(l=l.documentElement)?l.namespaceURI:Be(null,"");break;default:a=a===8?l.parentNode:l,l=a.namespaceURI||null,a=a.tagName,l=Be(l,a)}at(Ss),st(Ss,l)}function Ur(){at(Ss),at(oa),at(aa)}function Oy(a){Ui(aa.current);var l=Ui(Ss.current),d=Be(l,a.type);l!==d&&(st(oa,a),st(Ss,d))}function ld(a){oa.current===a&&(at(Ss),at(oa))}var pt=fi(0);function sc(a){for(var l=a;l!==null;){if(l.tag===13){var d=l.memoizedState;if(d!==null&&(d=d.dehydrated,d===null||d.data==="$?"||d.data==="$!"))return l}else if(l.tag===19&&l.memoizedProps.revealOrder!==void 0){if((l.flags&128)!==0)return l}else if(l.child!==null){l.child.return=l,l=l.child;continue}if(l===a)break;for(;l.sibling===null;){if(l.return===null||l.return===a)return null;l=l.return}l.sibling.return=l.return,l=l.sibling}return null}var cd=[];function ud(){for(var a=0;a<cd.length;a++)cd[a]._workInProgressVersionPrimary=null;cd.length=0}var ic=T.ReactCurrentDispatcher,hd=T.ReactCurrentBatchConfig,Hi=0,mt=null,Lt=null,zt=null,rc=!1,la=!1,ca=0,K_=0;function sn(){throw Error(t(321))}function dd(a,l){if(l===null)return!1;for(var d=0;d<l.length&&d<a.length;d++)if(!as(a[d],l[d]))return!1;return!0}function fd(a,l,d,m,v,b){if(Hi=b,mt=l,l.memoizedState=null,l.updateQueue=null,l.lanes=0,ic.current=a===null||a.memoizedState===null?Q_:J_,a=d(m,v),la){b=0;do{if(la=!1,ca=0,25<=b)throw Error(t(301));b+=1,zt=Lt=null,l.updateQueue=null,ic.current=eC,a=d(m,v)}while(la)}if(ic.current=lc,l=Lt!==null&&Lt.next!==null,Hi=0,zt=Lt=mt=null,rc=!1,l)throw Error(t(300));return a}function pd(){var a=ca!==0;return ca=0,a}function Es(){var a={memoizedState:null,baseState:null,baseQueue:null,queue:null,next:null};return zt===null?mt.memoizedState=zt=a:zt=zt.next=a,zt}function Gn(){if(Lt===null){var a=mt.alternate;a=a!==null?a.memoizedState:null}else a=Lt.next;var l=zt===null?mt.memoizedState:zt.next;if(l!==null)zt=l,Lt=a;else{if(a===null)throw Error(t(310));Lt=a,a={memoizedState:Lt.memoizedState,baseState:Lt.baseState,baseQueue:Lt.baseQueue,queue:Lt.queue,next:null},zt===null?mt.memoizedState=zt=a:zt=zt.next=a}return zt}function ua(a,l){return typeof l=="function"?l(a):l}function md(a){var l=Gn(),d=l.queue;if(d===null)throw Error(t(311));d.lastRenderedReducer=a;var m=Lt,v=m.baseQueue,b=d.pending;if(b!==null){if(v!==null){var C=v.next;v.next=b.next,b.next=C}m.baseQueue=v=b,d.pending=null}if(v!==null){b=v.next,m=m.baseState;var R=C=null,L=null,H=b;do{var se=H.lane;if((Hi&se)===se)L!==null&&(L=L.next={lane:0,action:H.action,hasEagerState:H.hasEagerState,eagerState:H.eagerState,next:null}),m=H.hasEagerState?H.eagerState:a(m,H.action);else{var re={lane:se,action:H.action,hasEagerState:H.hasEagerState,eagerState:H.eagerState,next:null};L===null?(R=L=re,C=m):L=L.next=re,mt.lanes|=se,Wi|=se}H=H.next}while(H!==null&&H!==b);L===null?C=m:L.next=R,as(m,l.memoizedState)||(An=!0),l.memoizedState=m,l.baseState=C,l.baseQueue=L,d.lastRenderedState=m}if(a=d.interleaved,a!==null){v=a;do b=v.lane,mt.lanes|=b,Wi|=b,v=v.next;while(v!==a)}else v===null&&(d.lanes=0);return[l.memoizedState,d.dispatch]}function gd(a){var l=Gn(),d=l.queue;if(d===null)throw Error(t(311));d.lastRenderedReducer=a;var m=d.dispatch,v=d.pending,b=l.memoizedState;if(v!==null){d.pending=null;var C=v=v.next;do b=a(b,C.action),C=C.next;while(C!==v);as(b,l.memoizedState)||(An=!0),l.memoizedState=b,l.baseQueue===null&&(l.baseState=b),d.lastRenderedState=b}return[b,m]}function jy(){}function By(a,l){var d=mt,m=Gn(),v=l(),b=!as(m.memoizedState,v);if(b&&(m.memoizedState=v,An=!0),m=m.queue,yd(Vy.bind(null,d,m,a),[a]),m.getSnapshot!==l||b||zt!==null&&zt.memoizedState.tag&1){if(d.flags|=2048,ha(9,$y.bind(null,d,m,v,l),void 0,null),$t===null)throw Error(t(349));(Hi&30)!==0||zy(d,l,v)}return v}function zy(a,l,d){a.flags|=16384,a={getSnapshot:l,value:d},l=mt.updateQueue,l===null?(l={lastEffect:null,stores:null},mt.updateQueue=l,l.stores=[a]):(d=l.stores,d===null?l.stores=[a]:d.push(a))}function $y(a,l,d,m){l.value=d,l.getSnapshot=m,Uy(l)&&Hy(a)}function Vy(a,l,d){return d(function(){Uy(l)&&Hy(a)})}function Uy(a){var l=a.getSnapshot;a=a.value;try{var d=l();return!as(a,d)}catch{return!0}}function Hy(a){var l=Ws(a,1);l!==null&&ds(l,a,1,-1)}function Wy(a){var l=Es();return typeof a=="function"&&(a=a()),l.memoizedState=l.baseState=a,a={pending:null,interleaved:null,lanes:0,dispatch:null,lastRenderedReducer:ua,lastRenderedState:a},l.queue=a,a=a.dispatch=Y_.bind(null,mt,a),[l.memoizedState,a]}function ha(a,l,d,m){return a={tag:a,create:l,destroy:d,deps:m,next:null},l=mt.updateQueue,l===null?(l={lastEffect:null,stores:null},mt.updateQueue=l,l.lastEffect=a.next=a):(d=l.lastEffect,d===null?l.lastEffect=a.next=a:(m=d.next,d.next=a,a.next=m,l.lastEffect=a)),a}function Gy(){return Gn().memoizedState}function oc(a,l,d,m){var v=Es();mt.flags|=a,v.memoizedState=ha(1|l,d,void 0,m===void 0?null:m)}function ac(a,l,d,m){var v=Gn();m=m===void 0?null:m;var b=void 0;if(Lt!==null){var C=Lt.memoizedState;if(b=C.destroy,m!==null&&dd(m,C.deps)){v.memoizedState=ha(l,d,b,m);return}}mt.flags|=a,v.memoizedState=ha(1|l,d,b,m)}function qy(a,l){return oc(8390656,8,a,l)}function yd(a,l){return ac(2048,8,a,l)}function Ky(a,l){return ac(4,2,a,l)}function Xy(a,l){return ac(4,4,a,l)}function Zy(a,l){if(typeof l=="function")return a=a(),l(a),function(){l(null)};if(l!=null)return a=a(),l.current=a,function(){l.current=null}}function Yy(a,l,d){return d=d!=null?d.concat([a]):null,ac(4,4,Zy.bind(null,l,a),d)}function vd(){}function Qy(a,l){var d=Gn();l=l===void 0?null:l;var m=d.memoizedState;return m!==null&&l!==null&&dd(l,m[1])?m[0]:(d.memoizedState=[a,l],a)}function Jy(a,l){var d=Gn();l=l===void 0?null:l;var m=d.memoizedState;return m!==null&&l!==null&&dd(l,m[1])?m[0]:(a=a(),d.memoizedState=[a,l],a)}function e0(a,l,d){return(Hi&21)===0?(a.baseState&&(a.baseState=!1,An=!0),a.memoizedState=d):(as(d,l)||(d=Fg(),mt.lanes|=d,Wi|=d,a.baseState=!0),l)}function X_(a,l){var d=Ye;Ye=d!==0&&4>d?d:4,a(!0);var m=hd.transition;hd.transition={};try{a(!1),l()}finally{Ye=d,hd.transition=m}}function t0(){return Gn().memoizedState}function Z_(a,l,d){var m=bi(a);if(d={lane:m,action:d,hasEagerState:!1,eagerState:null,next:null},n0(a))s0(l,d);else if(d=My(a,l,d,m),d!==null){var v=fn();ds(d,a,m,v),i0(d,l,m)}}function Y_(a,l,d){var m=bi(a),v={lane:m,action:d,hasEagerState:!1,eagerState:null,next:null};if(n0(a))s0(l,v);else{var b=a.alternate;if(a.lanes===0&&(b===null||b.lanes===0)&&(b=l.lastRenderedReducer,b!==null))try{var C=l.lastRenderedState,R=b(C,d);if(v.hasEagerState=!0,v.eagerState=R,as(R,C)){var L=l.interleaved;L===null?(v.next=v,rd(l)):(v.next=L.next,L.next=v),l.interleaved=v;return}}catch{}finally{}d=My(a,l,v,m),d!==null&&(v=fn(),ds(d,a,m,v),i0(d,l,m))}}function n0(a){var l=a.alternate;return a===mt||l!==null&&l===mt}function s0(a,l){la=rc=!0;var d=a.pending;d===null?l.next=l:(l.next=d.next,d.next=l),a.pending=l}function i0(a,l,d){if((d&4194240)!==0){var m=l.lanes;m&=a.pendingLanes,d|=m,l.lanes=d,xh(a,d)}}var lc={readContext:Wn,useCallback:sn,useContext:sn,useEffect:sn,useImperativeHandle:sn,useInsertionEffect:sn,useLayoutEffect:sn,useMemo:sn,useReducer:sn,useRef:sn,useState:sn,useDebugValue:sn,useDeferredValue:sn,useTransition:sn,useMutableSource:sn,useSyncExternalStore:sn,useId:sn,unstable_isNewReconciler:!1},Q_={readContext:Wn,useCallback:function(a,l){return Es().memoizedState=[a,l===void 0?null:l],a},useContext:Wn,useEffect:qy,useImperativeHandle:function(a,l,d){return d=d!=null?d.concat([a]):null,oc(4194308,4,Zy.bind(null,l,a),d)},useLayoutEffect:function(a,l){return oc(4194308,4,a,l)},useInsertionEffect:function(a,l){return oc(4,2,a,l)},useMemo:function(a,l){var d=Es();return l=l===void 0?null:l,a=a(),d.memoizedState=[a,l],a},useReducer:function(a,l,d){var m=Es();return l=d!==void 0?d(l):l,m.memoizedState=m.baseState=l,a={pending:null,interleaved:null,lanes:0,dispatch:null,lastRenderedReducer:a,lastRenderedState:l},m.queue=a,a=a.dispatch=Z_.bind(null,mt,a),[m.memoizedState,a]},useRef:function(a){var l=Es();return a={current:a},l.memoizedState=a},useState:Wy,useDebugValue:vd,useDeferredValue:function(a){return Es().memoizedState=a},useTransition:function(){var a=Wy(!1),l=a[0];return a=X_.bind(null,a[1]),Es().memoizedState=a,[l,a]},useMutableSource:function(){},useSyncExternalStore:function(a,l,d){var m=mt,v=Es();if(ct){if(d===void 0)throw Error(t(407));d=d()}else{if(d=l(),$t===null)throw Error(t(349));(Hi&30)!==0||zy(m,l,d)}v.memoizedState=d;var b={value:d,getSnapshot:l};return v.queue=b,qy(Vy.bind(null,m,b,a),[a]),m.flags|=2048,ha(9,$y.bind(null,m,b,d,l),void 0,null),d},useId:function(){var a=Es(),l=$t.identifierPrefix;if(ct){var d=Hs,m=Us;d=(m&~(1<<32-os(m)-1)).toString(32)+d,l=":"+l+"R"+d,d=ca++,0<d&&(l+="H"+d.toString(32)),l+=":"}else d=K_++,l=":"+l+"r"+d.toString(32)+":";return a.memoizedState=l},unstable_isNewReconciler:!1},J_={readContext:Wn,useCallback:Qy,useContext:Wn,useEffect:yd,useImperativeHandle:Yy,useInsertionEffect:Ky,useLayoutEffect:Xy,useMemo:Jy,useReducer:md,useRef:Gy,useState:function(){return md(ua)},useDebugValue:vd,useDeferredValue:function(a){var l=Gn();return e0(l,Lt.memoizedState,a)},useTransition:function(){var a=md(ua)[0],l=Gn().memoizedState;return[a,l]},useMutableSource:jy,useSyncExternalStore:By,useId:t0,unstable_isNewReconciler:!1},eC={readContext:Wn,useCallback:Qy,useContext:Wn,useEffect:yd,useImperativeHandle:Yy,useInsertionEffect:Ky,useLayoutEffect:Xy,useMemo:Jy,useReducer:gd,useRef:Gy,useState:function(){return gd(ua)},useDebugValue:vd,useDeferredValue:function(a){var l=Gn();return Lt===null?l.memoizedState=a:e0(l,Lt.memoizedState,a)},useTransition:function(){var a=gd(ua)[0],l=Gn().memoizedState;return[a,l]},useMutableSource:jy,useSyncExternalStore:By,useId:t0,unstable_isNewReconciler:!1};function cs(a,l){if(a&&a.defaultProps){l=J({},l),a=a.defaultProps;for(var d in a)l[d]===void 0&&(l[d]=a[d]);return l}return l}function wd(a,l,d,m){l=a.memoizedState,d=d(m,l),d=d==null?l:J({},l,d),a.memoizedState=d,a.lanes===0&&(a.updateQueue.baseState=d)}var cc={isMounted:function(a){return(a=a._reactInternals)?Oi(a)===a:!1},enqueueSetState:function(a,l,d){a=a._reactInternals;var m=fn(),v=bi(a),b=Gs(m,v);b.payload=l,d!=null&&(b.callback=d),l=yi(a,b,v),l!==null&&(ds(l,a,v,m),tc(l,a,v))},enqueueReplaceState:function(a,l,d){a=a._reactInternals;var m=fn(),v=bi(a),b=Gs(m,v);b.tag=1,b.payload=l,d!=null&&(b.callback=d),l=yi(a,b,v),l!==null&&(ds(l,a,v,m),tc(l,a,v))},enqueueForceUpdate:function(a,l){a=a._reactInternals;var d=fn(),m=bi(a),v=Gs(d,m);v.tag=2,l!=null&&(v.callback=l),l=yi(a,v,m),l!==null&&(ds(l,a,m,d),tc(l,a,m))}};function r0(a,l,d,m,v,b,C){return a=a.stateNode,typeof a.shouldComponentUpdate=="function"?a.shouldComponentUpdate(m,b,C):l.prototype&&l.prototype.isPureReactComponent?!Yo(d,m)||!Yo(v,b):!0}function o0(a,l,d){var m=!1,v=pi,b=l.contextType;return typeof b=="object"&&b!==null?b=Wn(b):(v=bn(l)?Bi:nn.current,m=l.contextTypes,b=(m=m!=null)?Ir(a,v):pi),l=new l(d,b),a.memoizedState=l.state!==null&&l.state!==void 0?l.state:null,l.updater=cc,a.stateNode=l,l._reactInternals=a,m&&(a=a.stateNode,a.__reactInternalMemoizedUnmaskedChildContext=v,a.__reactInternalMemoizedMaskedChildContext=b),l}function a0(a,l,d,m){a=l.state,typeof l.componentWillReceiveProps=="function"&&l.componentWillReceiveProps(d,m),typeof l.UNSAFE_componentWillReceiveProps=="function"&&l.UNSAFE_componentWillReceiveProps(d,m),l.state!==a&&cc.enqueueReplaceState(l,l.state,null)}function xd(a,l,d,m){var v=a.stateNode;v.props=d,v.state=a.memoizedState,v.refs={},od(a);var b=l.contextType;typeof b=="object"&&b!==null?v.context=Wn(b):(b=bn(l)?Bi:nn.current,v.context=Ir(a,b)),v.state=a.memoizedState,b=l.getDerivedStateFromProps,typeof b=="function"&&(wd(a,l,b,d),v.state=a.memoizedState),typeof l.getDerivedStateFromProps=="function"||typeof v.getSnapshotBeforeUpdate=="function"||typeof v.UNSAFE_componentWillMount!="function"&&typeof v.componentWillMount!="function"||(l=v.state,typeof v.componentWillMount=="function"&&v.componentWillMount(),typeof v.UNSAFE_componentWillMount=="function"&&v.UNSAFE_componentWillMount(),l!==v.state&&cc.enqueueReplaceState(v,v.state,null),nc(a,d,v,m),v.state=a.memoizedState),typeof v.componentDidMount=="function"&&(a.flags|=4194308)}function Hr(a,l){try{var d="",m=l;do d+=Ce(m),m=m.return;while(m);var v=d}catch(b){v=`
Error generating stack: `+b.message+`
`+b.stack}return{value:a,source:l,stack:v,digest:null}}function bd(a,l,d){return{value:a,source:null,stack:d??null,digest:l??null}}function Ad(a,l){try{console.error(l.value)}catch(d){setTimeout(function(){throw d})}}var tC=typeof WeakMap=="function"?WeakMap:Map;function l0(a,l,d){d=Gs(-1,d),d.tag=3,d.payload={element:null};var m=l.value;return d.callback=function(){gc||(gc=!0,Od=m),Ad(a,l)},d}function c0(a,l,d){d=Gs(-1,d),d.tag=3;var m=a.type.getDerivedStateFromError;if(typeof m=="function"){var v=l.value;d.payload=function(){return m(v)},d.callback=function(){Ad(a,l)}}var b=a.stateNode;return b!==null&&typeof b.componentDidCatch=="function"&&(d.callback=function(){Ad(a,l),typeof m!="function"&&(wi===null?wi=new Set([this]):wi.add(this));var C=l.stack;this.componentDidCatch(l.value,{componentStack:C!==null?C:""})}),d}function u0(a,l,d){var m=a.pingCache;if(m===null){m=a.pingCache=new tC;var v=new Set;m.set(l,v)}else v=m.get(l),v===void 0&&(v=new Set,m.set(l,v));v.has(d)||(v.add(d),a=mC.bind(null,a,l,d),l.then(a,a))}function h0(a){do{var l;if((l=a.tag===13)&&(l=a.memoizedState,l=l!==null?l.dehydrated!==null:!0),l)return a;a=a.return}while(a!==null);return null}function d0(a,l,d,m,v){return(a.mode&1)===0?(a===l?a.flags|=65536:(a.flags|=128,d.flags|=131072,d.flags&=-52805,d.tag===1&&(d.alternate===null?d.tag=17:(l=Gs(-1,1),l.tag=2,yi(d,l,1))),d.lanes|=1),a):(a.flags|=65536,a.lanes=v,a)}var nC=T.ReactCurrentOwner,An=!1;function dn(a,l,d,m){l.child=a===null?Ny(l,null,d,m):zr(l,a.child,d,m)}function f0(a,l,d,m,v){d=d.render;var b=l.ref;return Vr(l,v),m=fd(a,l,d,m,b,v),d=pd(),a!==null&&!An?(l.updateQueue=a.updateQueue,l.flags&=-2053,a.lanes&=~v,qs(a,l,v)):(ct&&d&&Zh(l),l.flags|=1,dn(a,l,m,v),l.child)}function p0(a,l,d,m,v){if(a===null){var b=d.type;return typeof b=="function"&&!Hd(b)&&b.defaultProps===void 0&&d.compare===null&&d.defaultProps===void 0?(l.tag=15,l.type=b,m0(a,l,b,m,v)):(a=Ac(d.type,null,m,l,l.mode,v),a.ref=l.ref,a.return=l,l.child=a)}if(b=a.child,(a.lanes&v)===0){var C=b.memoizedProps;if(d=d.compare,d=d!==null?d:Yo,d(C,m)&&a.ref===l.ref)return qs(a,l,v)}return l.flags|=1,a=Si(b,m),a.ref=l.ref,a.return=l,l.child=a}function m0(a,l,d,m,v){if(a!==null){var b=a.memoizedProps;if(Yo(b,m)&&a.ref===l.ref)if(An=!1,l.pendingProps=m=b,(a.lanes&v)!==0)(a.flags&131072)!==0&&(An=!0);else return l.lanes=a.lanes,qs(a,l,v)}return Sd(a,l,d,m,v)}function g0(a,l,d){var m=l.pendingProps,v=m.children,b=a!==null?a.memoizedState:null;if(m.mode==="hidden")if((l.mode&1)===0)l.memoizedState={baseLanes:0,cachePool:null,transitions:null},st(Gr,Ln),Ln|=d;else{if((d&1073741824)===0)return a=b!==null?b.baseLanes|d:d,l.lanes=l.childLanes=1073741824,l.memoizedState={baseLanes:a,cachePool:null,transitions:null},l.updateQueue=null,st(Gr,Ln),Ln|=a,null;l.memoizedState={baseLanes:0,cachePool:null,transitions:null},m=b!==null?b.baseLanes:d,st(Gr,Ln),Ln|=m}else b!==null?(m=b.baseLanes|d,l.memoizedState=null):m=d,st(Gr,Ln),Ln|=m;return dn(a,l,v,d),l.child}function y0(a,l){var d=l.ref;(a===null&&d!==null||a!==null&&a.ref!==d)&&(l.flags|=512,l.flags|=2097152)}function Sd(a,l,d,m,v){var b=bn(d)?Bi:nn.current;return b=Ir(l,b),Vr(l,v),d=fd(a,l,d,m,b,v),m=pd(),a!==null&&!An?(l.updateQueue=a.updateQueue,l.flags&=-2053,a.lanes&=~v,qs(a,l,v)):(ct&&m&&Zh(l),l.flags|=1,dn(a,l,d,v),l.child)}function v0(a,l,d,m,v){if(bn(d)){var b=!0;ql(l)}else b=!1;if(Vr(l,v),l.stateNode===null)hc(a,l),o0(l,d,m),xd(l,d,m,v),m=!0;else if(a===null){var C=l.stateNode,R=l.memoizedProps;C.props=R;var L=C.context,H=d.contextType;typeof H=="object"&&H!==null?H=Wn(H):(H=bn(d)?Bi:nn.current,H=Ir(l,H));var se=d.getDerivedStateFromProps,re=typeof se=="function"||typeof C.getSnapshotBeforeUpdate=="function";re||typeof C.UNSAFE_componentWillReceiveProps!="function"&&typeof C.componentWillReceiveProps!="function"||(R!==m||L!==H)&&a0(l,C,m,H),gi=!1;var te=l.memoizedState;C.state=te,nc(l,m,C,v),L=l.memoizedState,R!==m||te!==L||xn.current||gi?(typeof se=="function"&&(wd(l,d,se,m),L=l.memoizedState),(R=gi||r0(l,d,R,m,te,L,H))?(re||typeof C.UNSAFE_componentWillMount!="function"&&typeof C.componentWillMount!="function"||(typeof C.componentWillMount=="function"&&C.componentWillMount(),typeof C.UNSAFE_componentWillMount=="function"&&C.UNSAFE_componentWillMount()),typeof C.componentDidMount=="function"&&(l.flags|=4194308)):(typeof C.componentDidMount=="function"&&(l.flags|=4194308),l.memoizedProps=m,l.memoizedState=L),C.props=m,C.state=L,C.context=H,m=R):(typeof C.componentDidMount=="function"&&(l.flags|=4194308),m=!1)}else{C=l.stateNode,Dy(a,l),R=l.memoizedProps,H=l.type===l.elementType?R:cs(l.type,R),C.props=H,re=l.pendingProps,te=C.context,L=d.contextType,typeof L=="object"&&L!==null?L=Wn(L):(L=bn(d)?Bi:nn.current,L=Ir(l,L));var fe=d.getDerivedStateFromProps;(se=typeof fe=="function"||typeof C.getSnapshotBeforeUpdate=="function")||typeof C.UNSAFE_componentWillReceiveProps!="function"&&typeof C.componentWillReceiveProps!="function"||(R!==re||te!==L)&&a0(l,C,m,L),gi=!1,te=l.memoizedState,C.state=te,nc(l,m,C,v);var ye=l.memoizedState;R!==re||te!==ye||xn.current||gi?(typeof fe=="function"&&(wd(l,d,fe,m),ye=l.memoizedState),(H=gi||r0(l,d,H,m,te,ye,L)||!1)?(se||typeof C.UNSAFE_componentWillUpdate!="function"&&typeof C.componentWillUpdate!="function"||(typeof C.componentWillUpdate=="function"&&C.componentWillUpdate(m,ye,L),typeof C.UNSAFE_componentWillUpdate=="function"&&C.UNSAFE_componentWillUpdate(m,ye,L)),typeof C.componentDidUpdate=="function"&&(l.flags|=4),typeof C.getSnapshotBeforeUpdate=="function"&&(l.flags|=1024)):(typeof C.componentDidUpdate!="function"||R===a.memoizedProps&&te===a.memoizedState||(l.flags|=4),typeof C.getSnapshotBeforeUpdate!="function"||R===a.memoizedProps&&te===a.memoizedState||(l.flags|=1024),l.memoizedProps=m,l.memoizedState=ye),C.props=m,C.state=ye,C.context=L,m=H):(typeof C.componentDidUpdate!="function"||R===a.memoizedProps&&te===a.memoizedState||(l.flags|=4),typeof C.getSnapshotBeforeUpdate!="function"||R===a.memoizedProps&&te===a.memoizedState||(l.flags|=1024),m=!1)}return Ed(a,l,d,m,b,v)}function Ed(a,l,d,m,v,b){y0(a,l);var C=(l.flags&128)!==0;if(!m&&!C)return v&&Sy(l,d,!1),qs(a,l,b);m=l.stateNode,nC.current=l;var R=C&&typeof d.getDerivedStateFromError!="function"?null:m.render();return l.flags|=1,a!==null&&C?(l.child=zr(l,a.child,null,b),l.child=zr(l,null,R,b)):dn(a,l,R,b),l.memoizedState=m.state,v&&Sy(l,d,!0),l.child}function w0(a){var l=a.stateNode;l.pendingContext?by(a,l.pendingContext,l.pendingContext!==l.context):l.context&&by(a,l.context,!1),ad(a,l.containerInfo)}function x0(a,l,d,m,v){return Br(),ed(v),l.flags|=256,dn(a,l,d,m),l.child}var _d={dehydrated:null,treeContext:null,retryLane:0};function Cd(a){return{baseLanes:a,cachePool:null,transitions:null}}function b0(a,l,d){var m=l.pendingProps,v=pt.current,b=!1,C=(l.flags&128)!==0,R;if((R=C)||(R=a!==null&&a.memoizedState===null?!1:(v&2)!==0),R?(b=!0,l.flags&=-129):(a===null||a.memoizedState!==null)&&(v|=1),st(pt,v&1),a===null)return Jh(l),a=l.memoizedState,a!==null&&(a=a.dehydrated,a!==null)?((l.mode&1)===0?l.lanes=1:a.data==="$!"?l.lanes=8:l.lanes=1073741824,null):(C=m.children,a=m.fallback,b?(m=l.mode,b=l.child,C={mode:"hidden",children:C},(m&1)===0&&b!==null?(b.childLanes=0,b.pendingProps=C):b=Sc(C,m,0,null),a=Xi(a,m,d,null),b.return=l,a.return=l,b.sibling=a,l.child=b,l.child.memoizedState=Cd(d),l.memoizedState=_d,a):kd(l,C));if(v=a.memoizedState,v!==null&&(R=v.dehydrated,R!==null))return sC(a,l,C,m,R,v,d);if(b){b=m.fallback,C=l.mode,v=a.child,R=v.sibling;var L={mode:"hidden",children:m.children};return(C&1)===0&&l.child!==v?(m=l.child,m.childLanes=0,m.pendingProps=L,l.deletions=null):(m=Si(v,L),m.subtreeFlags=v.subtreeFlags&14680064),R!==null?b=Si(R,b):(b=Xi(b,C,d,null),b.flags|=2),b.return=l,m.return=l,m.sibling=b,l.child=m,m=b,b=l.child,C=a.child.memoizedState,C=C===null?Cd(d):{baseLanes:C.baseLanes|d,cachePool:null,transitions:C.transitions},b.memoizedState=C,b.childLanes=a.childLanes&~d,l.memoizedState=_d,m}return b=a.child,a=b.sibling,m=Si(b,{mode:"visible",children:m.children}),(l.mode&1)===0&&(m.lanes=d),m.return=l,m.sibling=null,a!==null&&(d=l.deletions,d===null?(l.deletions=[a],l.flags|=16):d.push(a)),l.child=m,l.memoizedState=null,m}function kd(a,l){return l=Sc({mode:"visible",children:l},a.mode,0,null),l.return=a,a.child=l}function uc(a,l,d,m){return m!==null&&ed(m),zr(l,a.child,null,d),a=kd(l,l.pendingProps.children),a.flags|=2,l.memoizedState=null,a}function sC(a,l,d,m,v,b,C){if(d)return l.flags&256?(l.flags&=-257,m=bd(Error(t(422))),uc(a,l,C,m)):l.memoizedState!==null?(l.child=a.child,l.flags|=128,null):(b=m.fallback,v=l.mode,m=Sc({mode:"visible",children:m.children},v,0,null),b=Xi(b,v,C,null),b.flags|=2,m.return=l,b.return=l,m.sibling=b,l.child=m,(l.mode&1)!==0&&zr(l,a.child,null,C),l.child.memoizedState=Cd(C),l.memoizedState=_d,b);if((l.mode&1)===0)return uc(a,l,C,null);if(v.data==="$!"){if(m=v.nextSibling&&v.nextSibling.dataset,m)var R=m.dgst;return m=R,b=Error(t(419)),m=bd(b,m,void 0),uc(a,l,C,m)}if(R=(C&a.childLanes)!==0,An||R){if(m=$t,m!==null){switch(C&-C){case 4:v=2;break;case 16:v=8;break;case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:v=32;break;case 536870912:v=268435456;break;default:v=0}v=(v&(m.suspendedLanes|C))!==0?0:v,v!==0&&v!==b.retryLane&&(b.retryLane=v,Ws(a,v),ds(m,a,v,-1))}return Ud(),m=bd(Error(t(421))),uc(a,l,C,m)}return v.data==="$?"?(l.flags|=128,l.child=a.child,l=gC.bind(null,a),v._reactRetry=l,null):(a=b.treeContext,Dn=di(v.nextSibling),Mn=l,ct=!0,ls=null,a!==null&&(Un[Hn++]=Us,Un[Hn++]=Hs,Un[Hn++]=zi,Us=a.id,Hs=a.overflow,zi=l),l=kd(l,m.children),l.flags|=4096,l)}function A0(a,l,d){a.lanes|=l;var m=a.alternate;m!==null&&(m.lanes|=l),id(a.return,l,d)}function Td(a,l,d,m,v){var b=a.memoizedState;b===null?a.memoizedState={isBackwards:l,rendering:null,renderingStartTime:0,last:m,tail:d,tailMode:v}:(b.isBackwards=l,b.rendering=null,b.renderingStartTime=0,b.last=m,b.tail=d,b.tailMode=v)}function S0(a,l,d){var m=l.pendingProps,v=m.revealOrder,b=m.tail;if(dn(a,l,m.children,d),m=pt.current,(m&2)!==0)m=m&1|2,l.flags|=128;else{if(a!==null&&(a.flags&128)!==0)e:for(a=l.child;a!==null;){if(a.tag===13)a.memoizedState!==null&&A0(a,d,l);else if(a.tag===19)A0(a,d,l);else if(a.child!==null){a.child.return=a,a=a.child;continue}if(a===l)break e;for(;a.sibling===null;){if(a.return===null||a.return===l)break e;a=a.return}a.sibling.return=a.return,a=a.sibling}m&=1}if(st(pt,m),(l.mode&1)===0)l.memoizedState=null;else switch(v){case"forwards":for(d=l.child,v=null;d!==null;)a=d.alternate,a!==null&&sc(a)===null&&(v=d),d=d.sibling;d=v,d===null?(v=l.child,l.child=null):(v=d.sibling,d.sibling=null),Td(l,!1,v,d,b);break;case"backwards":for(d=null,v=l.child,l.child=null;v!==null;){if(a=v.alternate,a!==null&&sc(a)===null){l.child=v;break}a=v.sibling,v.sibling=d,d=v,v=a}Td(l,!0,d,null,b);break;case"together":Td(l,!1,null,null,void 0);break;default:l.memoizedState=null}return l.child}function hc(a,l){(l.mode&1)===0&&a!==null&&(a.alternate=null,l.alternate=null,l.flags|=2)}function qs(a,l,d){if(a!==null&&(l.dependencies=a.dependencies),Wi|=l.lanes,(d&l.childLanes)===0)return null;if(a!==null&&l.child!==a.child)throw Error(t(153));if(l.child!==null){for(a=l.child,d=Si(a,a.pendingProps),l.child=d,d.return=l;a.sibling!==null;)a=a.sibling,d=d.sibling=Si(a,a.pendingProps),d.return=l;d.sibling=null}return l.child}function iC(a,l,d){switch(l.tag){case 3:w0(l),Br();break;case 5:Oy(l);break;case 1:bn(l.type)&&ql(l);break;case 4:ad(l,l.stateNode.containerInfo);break;case 10:var m=l.type._context,v=l.memoizedProps.value;st(Jl,m._currentValue),m._currentValue=v;break;case 13:if(m=l.memoizedState,m!==null)return m.dehydrated!==null?(st(pt,pt.current&1),l.flags|=128,null):(d&l.child.childLanes)!==0?b0(a,l,d):(st(pt,pt.current&1),a=qs(a,l,d),a!==null?a.sibling:null);st(pt,pt.current&1);break;case 19:if(m=(d&l.childLanes)!==0,(a.flags&128)!==0){if(m)return S0(a,l,d);l.flags|=128}if(v=l.memoizedState,v!==null&&(v.rendering=null,v.tail=null,v.lastEffect=null),st(pt,pt.current),m)break;return null;case 22:case 23:return l.lanes=0,g0(a,l,d)}return qs(a,l,d)}var E0,Pd,_0,C0;E0=function(a,l){for(var d=l.child;d!==null;){if(d.tag===5||d.tag===6)a.appendChild(d.stateNode);else if(d.tag!==4&&d.child!==null){d.child.return=d,d=d.child;continue}if(d===l)break;for(;d.sibling===null;){if(d.return===null||d.return===l)return;d=d.return}d.sibling.return=d.return,d=d.sibling}},Pd=function(){},_0=function(a,l,d,m){var v=a.memoizedProps;if(v!==m){a=l.stateNode,Ui(Ss.current);var b=null;switch(d){case"input":v=Ze(a,v),m=Ze(a,m),b=[];break;case"select":v=J({},v,{value:void 0}),m=J({},m,{value:void 0}),b=[];break;case"textarea":v=X(a,v),m=X(a,m),b=[];break;default:typeof v.onClick!="function"&&typeof m.onClick=="function"&&(a.onclick=Hl)}Sr(d,m);var C;d=null;for(H in v)if(!m.hasOwnProperty(H)&&v.hasOwnProperty(H)&&v[H]!=null)if(H==="style"){var R=v[H];for(C in R)R.hasOwnProperty(C)&&(d||(d={}),d[C]="")}else H!=="dangerouslySetInnerHTML"&&H!=="children"&&H!=="suppressContentEditableWarning"&&H!=="suppressHydrationWarning"&&H!=="autoFocus"&&(i.hasOwnProperty(H)?b||(b=[]):(b=b||[]).push(H,null));for(H in m){var L=m[H];if(R=v?.[H],m.hasOwnProperty(H)&&L!==R&&(L!=null||R!=null))if(H==="style")if(R){for(C in R)!R.hasOwnProperty(C)||L&&L.hasOwnProperty(C)||(d||(d={}),d[C]="");for(C in L)L.hasOwnProperty(C)&&R[C]!==L[C]&&(d||(d={}),d[C]=L[C])}else d||(b||(b=[]),b.push(H,d)),d=L;else H==="dangerouslySetInnerHTML"?(L=L?L.__html:void 0,R=R?R.__html:void 0,L!=null&&R!==L&&(b=b||[]).push(H,L)):H==="children"?typeof L!="string"&&typeof L!="number"||(b=b||[]).push(H,""+L):H!=="suppressContentEditableWarning"&&H!=="suppressHydrationWarning"&&(i.hasOwnProperty(H)?(L!=null&&H==="onScroll"&&ot("scroll",a),b||R===L||(b=[])):(b=b||[]).push(H,L))}d&&(b=b||[]).push("style",d);var H=b;(l.updateQueue=H)&&(l.flags|=4)}},C0=function(a,l,d,m){d!==m&&(l.flags|=4)};function da(a,l){if(!ct)switch(a.tailMode){case"hidden":l=a.tail;for(var d=null;l!==null;)l.alternate!==null&&(d=l),l=l.sibling;d===null?a.tail=null:d.sibling=null;break;case"collapsed":d=a.tail;for(var m=null;d!==null;)d.alternate!==null&&(m=d),d=d.sibling;m===null?l||a.tail===null?a.tail=null:a.tail.sibling=null:m.sibling=null}}function rn(a){var l=a.alternate!==null&&a.alternate.child===a.child,d=0,m=0;if(l)for(var v=a.child;v!==null;)d|=v.lanes|v.childLanes,m|=v.subtreeFlags&14680064,m|=v.flags&14680064,v.return=a,v=v.sibling;else for(v=a.child;v!==null;)d|=v.lanes|v.childLanes,m|=v.subtreeFlags,m|=v.flags,v.return=a,v=v.sibling;return a.subtreeFlags|=m,a.childLanes=d,l}function rC(a,l,d){var m=l.pendingProps;switch(Yh(l),l.tag){case 2:case 16:case 15:case 0:case 11:case 7:case 8:case 12:case 9:case 14:return rn(l),null;case 1:return bn(l.type)&&Gl(),rn(l),null;case 3:return m=l.stateNode,Ur(),at(xn),at(nn),ud(),m.pendingContext&&(m.context=m.pendingContext,m.pendingContext=null),(a===null||a.child===null)&&(Yl(l)?l.flags|=4:a===null||a.memoizedState.isDehydrated&&(l.flags&256)===0||(l.flags|=1024,ls!==null&&(zd(ls),ls=null))),Pd(a,l),rn(l),null;case 5:ld(l);var v=Ui(aa.current);if(d=l.type,a!==null&&l.stateNode!=null)_0(a,l,d,m,v),a.ref!==l.ref&&(l.flags|=512,l.flags|=2097152);else{if(!m){if(l.stateNode===null)throw Error(t(166));return rn(l),null}if(a=Ui(Ss.current),Yl(l)){m=l.stateNode,d=l.type;var b=l.memoizedProps;switch(m[As]=l,m[na]=b,a=(l.mode&1)!==0,d){case"dialog":ot("cancel",m),ot("close",m);break;case"iframe":case"object":case"embed":ot("load",m);break;case"video":case"audio":for(v=0;v<Jo.length;v++)ot(Jo[v],m);break;case"source":ot("error",m);break;case"img":case"image":case"link":ot("error",m),ot("load",m);break;case"details":ot("toggle",m);break;case"input":rt(m,b),ot("invalid",m);break;case"select":m._wrapperState={wasMultiple:!!b.multiple},ot("invalid",m);break;case"textarea":de(m,b),ot("invalid",m)}Sr(d,b),v=null;for(var C in b)if(b.hasOwnProperty(C)){var R=b[C];C==="children"?typeof R=="string"?m.textContent!==R&&(b.suppressHydrationWarning!==!0&&Ul(m.textContent,R,a),v=["children",R]):typeof R=="number"&&m.textContent!==""+R&&(b.suppressHydrationWarning!==!0&&Ul(m.textContent,R,a),v=["children",""+R]):i.hasOwnProperty(C)&&R!=null&&C==="onScroll"&&ot("scroll",m)}switch(d){case"input":tn(m),zs(m,b,!0);break;case"textarea":tn(m),ae(m);break;case"select":case"option":break;default:typeof b.onClick=="function"&&(m.onclick=Hl)}m=v,l.updateQueue=m,m!==null&&(l.flags|=4)}else{C=v.nodeType===9?v:v.ownerDocument,a==="http://www.w3.org/1999/xhtml"&&(a=Se(d)),a==="http://www.w3.org/1999/xhtml"?d==="script"?(a=C.createElement("div"),a.innerHTML="<script><\/script>",a=a.removeChild(a.firstChild)):typeof m.is=="string"?a=C.createElement(d,{is:m.is}):(a=C.createElement(d),d==="select"&&(C=a,m.multiple?C.multiple=!0:m.size&&(C.size=m.size))):a=C.createElementNS(a,d),a[As]=l,a[na]=m,E0(a,l,!1,!1),l.stateNode=a;e:{switch(C=Lo(d,m),d){case"dialog":ot("cancel",a),ot("close",a),v=m;break;case"iframe":case"object":case"embed":ot("load",a),v=m;break;case"video":case"audio":for(v=0;v<Jo.length;v++)ot(Jo[v],a);v=m;break;case"source":ot("error",a),v=m;break;case"img":case"image":case"link":ot("error",a),ot("load",a),v=m;break;case"details":ot("toggle",a),v=m;break;case"input":rt(a,m),v=Ze(a,m),ot("invalid",a);break;case"option":v=m;break;case"select":a._wrapperState={wasMultiple:!!m.multiple},v=J({},m,{value:void 0}),ot("invalid",a);break;case"textarea":de(a,m),v=X(a,m),ot("invalid",a);break;default:v=m}Sr(d,v),R=v;for(b in R)if(R.hasOwnProperty(b)){var L=R[b];b==="style"?Ar(a,L):b==="dangerouslySetInnerHTML"?(L=L?L.__html:void 0,L!=null&&lt(a,L)):b==="children"?typeof L=="string"?(d!=="textarea"||L!=="")&&vn(a,L):typeof L=="number"&&vn(a,""+L):b!=="suppressContentEditableWarning"&&b!=="suppressHydrationWarning"&&b!=="autoFocus"&&(i.hasOwnProperty(b)?L!=null&&b==="onScroll"&&ot("scroll",a):L!=null&&k(a,b,L,C))}switch(d){case"input":tn(a),zs(a,m,!1);break;case"textarea":tn(a),ae(a);break;case"option":m.value!=null&&a.setAttribute("value",""+je(m.value));break;case"select":a.multiple=!!m.multiple,b=m.value,b!=null?z(a,!!m.multiple,b,!1):m.defaultValue!=null&&z(a,!!m.multiple,m.defaultValue,!0);break;default:typeof v.onClick=="function"&&(a.onclick=Hl)}switch(d){case"button":case"input":case"select":case"textarea":m=!!m.autoFocus;break e;case"img":m=!0;break e;default:m=!1}}m&&(l.flags|=4)}l.ref!==null&&(l.flags|=512,l.flags|=2097152)}return rn(l),null;case 6:if(a&&l.stateNode!=null)C0(a,l,a.memoizedProps,m);else{if(typeof m!="string"&&l.stateNode===null)throw Error(t(166));if(d=Ui(aa.current),Ui(Ss.current),Yl(l)){if(m=l.stateNode,d=l.memoizedProps,m[As]=l,(b=m.nodeValue!==d)&&(a=Mn,a!==null))switch(a.tag){case 3:Ul(m.nodeValue,d,(a.mode&1)!==0);break;case 5:a.memoizedProps.suppressHydrationWarning!==!0&&Ul(m.nodeValue,d,(a.mode&1)!==0)}b&&(l.flags|=4)}else m=(d.nodeType===9?d:d.ownerDocument).createTextNode(m),m[As]=l,l.stateNode=m}return rn(l),null;case 13:if(at(pt),m=l.memoizedState,a===null||a.memoizedState!==null&&a.memoizedState.dehydrated!==null){if(ct&&Dn!==null&&(l.mode&1)!==0&&(l.flags&128)===0)Py(),Br(),l.flags|=98560,b=!1;else if(b=Yl(l),m!==null&&m.dehydrated!==null){if(a===null){if(!b)throw Error(t(318));if(b=l.memoizedState,b=b!==null?b.dehydrated:null,!b)throw Error(t(317));b[As]=l}else Br(),(l.flags&128)===0&&(l.memoizedState=null),l.flags|=4;rn(l),b=!1}else ls!==null&&(zd(ls),ls=null),b=!0;if(!b)return l.flags&65536?l:null}return(l.flags&128)!==0?(l.lanes=d,l):(m=m!==null,m!==(a!==null&&a.memoizedState!==null)&&m&&(l.child.flags|=8192,(l.mode&1)!==0&&(a===null||(pt.current&1)!==0?It===0&&(It=3):Ud())),l.updateQueue!==null&&(l.flags|=4),rn(l),null);case 4:return Ur(),Pd(a,l),a===null&&ea(l.stateNode.containerInfo),rn(l),null;case 10:return sd(l.type._context),rn(l),null;case 17:return bn(l.type)&&Gl(),rn(l),null;case 19:if(at(pt),b=l.memoizedState,b===null)return rn(l),null;if(m=(l.flags&128)!==0,C=b.rendering,C===null)if(m)da(b,!1);else{if(It!==0||a!==null&&(a.flags&128)!==0)for(a=l.child;a!==null;){if(C=sc(a),C!==null){for(l.flags|=128,da(b,!1),m=C.updateQueue,m!==null&&(l.updateQueue=m,l.flags|=4),l.subtreeFlags=0,m=d,d=l.child;d!==null;)b=d,a=m,b.flags&=14680066,C=b.alternate,C===null?(b.childLanes=0,b.lanes=a,b.child=null,b.subtreeFlags=0,b.memoizedProps=null,b.memoizedState=null,b.updateQueue=null,b.dependencies=null,b.stateNode=null):(b.childLanes=C.childLanes,b.lanes=C.lanes,b.child=C.child,b.subtreeFlags=0,b.deletions=null,b.memoizedProps=C.memoizedProps,b.memoizedState=C.memoizedState,b.updateQueue=C.updateQueue,b.type=C.type,a=C.dependencies,b.dependencies=a===null?null:{lanes:a.lanes,firstContext:a.firstContext}),d=d.sibling;return st(pt,pt.current&1|2),l.child}a=a.sibling}b.tail!==null&&St()>qr&&(l.flags|=128,m=!0,da(b,!1),l.lanes=4194304)}else{if(!m)if(a=sc(C),a!==null){if(l.flags|=128,m=!0,d=a.updateQueue,d!==null&&(l.updateQueue=d,l.flags|=4),da(b,!0),b.tail===null&&b.tailMode==="hidden"&&!C.alternate&&!ct)return rn(l),null}else 2*St()-b.renderingStartTime>qr&&d!==1073741824&&(l.flags|=128,m=!0,da(b,!1),l.lanes=4194304);b.isBackwards?(C.sibling=l.child,l.child=C):(d=b.last,d!==null?d.sibling=C:l.child=C,b.last=C)}return b.tail!==null?(l=b.tail,b.rendering=l,b.tail=l.sibling,b.renderingStartTime=St(),l.sibling=null,d=pt.current,st(pt,m?d&1|2:d&1),l):(rn(l),null);case 22:case 23:return Vd(),m=l.memoizedState!==null,a!==null&&a.memoizedState!==null!==m&&(l.flags|=8192),m&&(l.mode&1)!==0?(Ln&1073741824)!==0&&(rn(l),l.subtreeFlags&6&&(l.flags|=8192)):rn(l),null;case 24:return null;case 25:return null}throw Error(t(156,l.tag))}function oC(a,l){switch(Yh(l),l.tag){case 1:return bn(l.type)&&Gl(),a=l.flags,a&65536?(l.flags=a&-65537|128,l):null;case 3:return Ur(),at(xn),at(nn),ud(),a=l.flags,(a&65536)!==0&&(a&128)===0?(l.flags=a&-65537|128,l):null;case 5:return ld(l),null;case 13:if(at(pt),a=l.memoizedState,a!==null&&a.dehydrated!==null){if(l.alternate===null)throw Error(t(340));Br()}return a=l.flags,a&65536?(l.flags=a&-65537|128,l):null;case 19:return at(pt),null;case 4:return Ur(),null;case 10:return sd(l.type._context),null;case 22:case 23:return Vd(),null;case 24:return null;default:return null}}var dc=!1,on=!1,aC=typeof WeakSet=="function"?WeakSet:Set,pe=null;function Wr(a,l){var d=a.ref;if(d!==null)if(typeof d=="function")try{d(null)}catch(m){bt(a,l,m)}else d.current=null}function Fd(a,l,d){try{d()}catch(m){bt(a,l,m)}}var k0=!1;function lC(a,l){if(Vh=Nl,a=ry(),Dh(a)){if("selectionStart"in a)var d={start:a.selectionStart,end:a.selectionEnd};else e:{d=(d=a.ownerDocument)&&d.defaultView||window;var m=d.getSelection&&d.getSelection();if(m&&m.rangeCount!==0){d=m.anchorNode;var v=m.anchorOffset,b=m.focusNode;m=m.focusOffset;try{d.nodeType,b.nodeType}catch{d=null;break e}var C=0,R=-1,L=-1,H=0,se=0,re=a,te=null;t:for(;;){for(var fe;re!==d||v!==0&&re.nodeType!==3||(R=C+v),re!==b||m!==0&&re.nodeType!==3||(L=C+m),re.nodeType===3&&(C+=re.nodeValue.length),(fe=re.firstChild)!==null;)te=re,re=fe;for(;;){if(re===a)break t;if(te===d&&++H===v&&(R=C),te===b&&++se===m&&(L=C),(fe=re.nextSibling)!==null)break;re=te,te=re.parentNode}re=fe}d=R===-1||L===-1?null:{start:R,end:L}}else d=null}d=d||{start:0,end:0}}else d=null;for(Uh={focusedElem:a,selectionRange:d},Nl=!1,pe=l;pe!==null;)if(l=pe,a=l.child,(l.subtreeFlags&1028)!==0&&a!==null)a.return=l,pe=a;else for(;pe!==null;){l=pe;try{var ye=l.alternate;if((l.flags&1024)!==0)switch(l.tag){case 0:case 11:case 15:break;case 1:if(ye!==null){var xe=ye.memoizedProps,Et=ye.memoizedState,B=l.stateNode,j=B.getSnapshotBeforeUpdate(l.elementType===l.type?xe:cs(l.type,xe),Et);B.__reactInternalSnapshotBeforeUpdate=j}break;case 3:var V=l.stateNode.containerInfo;V.nodeType===1?V.textContent="":V.nodeType===9&&V.documentElement&&V.removeChild(V.documentElement);break;case 5:case 6:case 4:case 17:break;default:throw Error(t(163))}}catch(le){bt(l,l.return,le)}if(a=l.sibling,a!==null){a.return=l.return,pe=a;break}pe=l.return}return ye=k0,k0=!1,ye}function fa(a,l,d){var m=l.updateQueue;if(m=m!==null?m.lastEffect:null,m!==null){var v=m=m.next;do{if((v.tag&a)===a){var b=v.destroy;v.destroy=void 0,b!==void 0&&Fd(l,d,b)}v=v.next}while(v!==m)}}function fc(a,l){if(l=l.updateQueue,l=l!==null?l.lastEffect:null,l!==null){var d=l=l.next;do{if((d.tag&a)===a){var m=d.create;d.destroy=m()}d=d.next}while(d!==l)}}function Rd(a){var l=a.ref;if(l!==null){var d=a.stateNode;switch(a.tag){case 5:a=d;break;default:a=d}typeof l=="function"?l(a):l.current=a}}function T0(a){var l=a.alternate;l!==null&&(a.alternate=null,T0(l)),a.child=null,a.deletions=null,a.sibling=null,a.tag===5&&(l=a.stateNode,l!==null&&(delete l[As],delete l[na],delete l[qh],delete l[H_],delete l[W_])),a.stateNode=null,a.return=null,a.dependencies=null,a.memoizedProps=null,a.memoizedState=null,a.pendingProps=null,a.stateNode=null,a.updateQueue=null}function P0(a){return a.tag===5||a.tag===3||a.tag===4}function F0(a){e:for(;;){for(;a.sibling===null;){if(a.return===null||P0(a.return))return null;a=a.return}for(a.sibling.return=a.return,a=a.sibling;a.tag!==5&&a.tag!==6&&a.tag!==18;){if(a.flags&2||a.child===null||a.tag===4)continue e;a.child.return=a,a=a.child}if(!(a.flags&2))return a.stateNode}}function Nd(a,l,d){var m=a.tag;if(m===5||m===6)a=a.stateNode,l?d.nodeType===8?d.parentNode.insertBefore(a,l):d.insertBefore(a,l):(d.nodeType===8?(l=d.parentNode,l.insertBefore(a,d)):(l=d,l.appendChild(a)),d=d._reactRootContainer,d!=null||l.onclick!==null||(l.onclick=Hl));else if(m!==4&&(a=a.child,a!==null))for(Nd(a,l,d),a=a.sibling;a!==null;)Nd(a,l,d),a=a.sibling}function Md(a,l,d){var m=a.tag;if(m===5||m===6)a=a.stateNode,l?d.insertBefore(a,l):d.appendChild(a);else if(m!==4&&(a=a.child,a!==null))for(Md(a,l,d),a=a.sibling;a!==null;)Md(a,l,d),a=a.sibling}var Xt=null,us=!1;function vi(a,l,d){for(d=d.child;d!==null;)R0(a,l,d),d=d.sibling}function R0(a,l,d){if(bs&&typeof bs.onCommitFiberUnmount=="function")try{bs.onCommitFiberUnmount(Cl,d)}catch{}switch(d.tag){case 5:on||Wr(d,l);case 6:var m=Xt,v=us;Xt=null,vi(a,l,d),Xt=m,us=v,Xt!==null&&(us?(a=Xt,d=d.stateNode,a.nodeType===8?a.parentNode.removeChild(d):a.removeChild(d)):Xt.removeChild(d.stateNode));break;case 18:Xt!==null&&(us?(a=Xt,d=d.stateNode,a.nodeType===8?Gh(a.parentNode,d):a.nodeType===1&&Gh(a,d),Wo(a)):Gh(Xt,d.stateNode));break;case 4:m=Xt,v=us,Xt=d.stateNode.containerInfo,us=!0,vi(a,l,d),Xt=m,us=v;break;case 0:case 11:case 14:case 15:if(!on&&(m=d.updateQueue,m!==null&&(m=m.lastEffect,m!==null))){v=m=m.next;do{var b=v,C=b.destroy;b=b.tag,C!==void 0&&((b&2)!==0||(b&4)!==0)&&Fd(d,l,C),v=v.next}while(v!==m)}vi(a,l,d);break;case 1:if(!on&&(Wr(d,l),m=d.stateNode,typeof m.componentWillUnmount=="function"))try{m.props=d.memoizedProps,m.state=d.memoizedState,m.componentWillUnmount()}catch(R){bt(d,l,R)}vi(a,l,d);break;case 21:vi(a,l,d);break;case 22:d.mode&1?(on=(m=on)||d.memoizedState!==null,vi(a,l,d),on=m):vi(a,l,d);break;default:vi(a,l,d)}}function N0(a){var l=a.updateQueue;if(l!==null){a.updateQueue=null;var d=a.stateNode;d===null&&(d=a.stateNode=new aC),l.forEach(function(m){var v=yC.bind(null,a,m);d.has(m)||(d.add(m),m.then(v,v))})}}function hs(a,l){var d=l.deletions;if(d!==null)for(var m=0;m<d.length;m++){var v=d[m];try{var b=a,C=l,R=C;e:for(;R!==null;){switch(R.tag){case 5:Xt=R.stateNode,us=!1;break e;case 3:Xt=R.stateNode.containerInfo,us=!0;break e;case 4:Xt=R.stateNode.containerInfo,us=!0;break e}R=R.return}if(Xt===null)throw Error(t(160));R0(b,C,v),Xt=null,us=!1;var L=v.alternate;L!==null&&(L.return=null),v.return=null}catch(H){bt(v,l,H)}}if(l.subtreeFlags&12854)for(l=l.child;l!==null;)M0(l,a),l=l.sibling}function M0(a,l){var d=a.alternate,m=a.flags;switch(a.tag){case 0:case 11:case 14:case 15:if(hs(l,a),_s(a),m&4){try{fa(3,a,a.return),fc(3,a)}catch(xe){bt(a,a.return,xe)}try{fa(5,a,a.return)}catch(xe){bt(a,a.return,xe)}}break;case 1:hs(l,a),_s(a),m&512&&d!==null&&Wr(d,d.return);break;case 5:if(hs(l,a),_s(a),m&512&&d!==null&&Wr(d,d.return),a.flags&32){var v=a.stateNode;try{vn(v,"")}catch(xe){bt(a,a.return,xe)}}if(m&4&&(v=a.stateNode,v!=null)){var b=a.memoizedProps,C=d!==null?d.memoizedProps:b,R=a.type,L=a.updateQueue;if(a.updateQueue=null,L!==null)try{R==="input"&&b.type==="radio"&&b.name!=null&&ft(v,b),Lo(R,C);var H=Lo(R,b);for(C=0;C<L.length;C+=2){var se=L[C],re=L[C+1];se==="style"?Ar(v,re):se==="dangerouslySetInnerHTML"?lt(v,re):se==="children"?vn(v,re):k(v,se,re,H)}switch(R){case"input":Vn(v,b);break;case"textarea":ce(v,b);break;case"select":var te=v._wrapperState.wasMultiple;v._wrapperState.wasMultiple=!!b.multiple;var fe=b.value;fe!=null?z(v,!!b.multiple,fe,!1):te!==!!b.multiple&&(b.defaultValue!=null?z(v,!!b.multiple,b.defaultValue,!0):z(v,!!b.multiple,b.multiple?[]:"",!1))}v[na]=b}catch(xe){bt(a,a.return,xe)}}break;case 6:if(hs(l,a),_s(a),m&4){if(a.stateNode===null)throw Error(t(162));v=a.stateNode,b=a.memoizedProps;try{v.nodeValue=b}catch(xe){bt(a,a.return,xe)}}break;case 3:if(hs(l,a),_s(a),m&4&&d!==null&&d.memoizedState.isDehydrated)try{Wo(l.containerInfo)}catch(xe){bt(a,a.return,xe)}break;case 4:hs(l,a),_s(a);break;case 13:hs(l,a),_s(a),v=a.child,v.flags&8192&&(b=v.memoizedState!==null,v.stateNode.isHidden=b,!b||v.alternate!==null&&v.alternate.memoizedState!==null||(Id=St())),m&4&&N0(a);break;case 22:if(se=d!==null&&d.memoizedState!==null,a.mode&1?(on=(H=on)||se,hs(l,a),on=H):hs(l,a),_s(a),m&8192){if(H=a.memoizedState!==null,(a.stateNode.isHidden=H)&&!se&&(a.mode&1)!==0)for(pe=a,se=a.child;se!==null;){for(re=pe=se;pe!==null;){switch(te=pe,fe=te.child,te.tag){case 0:case 11:case 14:case 15:fa(4,te,te.return);break;case 1:Wr(te,te.return);var ye=te.stateNode;if(typeof ye.componentWillUnmount=="function"){m=te,d=te.return;try{l=m,ye.props=l.memoizedProps,ye.state=l.memoizedState,ye.componentWillUnmount()}catch(xe){bt(m,d,xe)}}break;case 5:Wr(te,te.return);break;case 22:if(te.memoizedState!==null){I0(re);continue}}fe!==null?(fe.return=te,pe=fe):I0(re)}se=se.sibling}e:for(se=null,re=a;;){if(re.tag===5){if(se===null){se=re;try{v=re.stateNode,H?(b=v.style,typeof b.setProperty=="function"?b.setProperty("display","none","important"):b.display="none"):(R=re.stateNode,L=re.memoizedProps.style,C=L!=null&&L.hasOwnProperty("display")?L.display:null,R.style.display=br("display",C))}catch(xe){bt(a,a.return,xe)}}}else if(re.tag===6){if(se===null)try{re.stateNode.nodeValue=H?"":re.memoizedProps}catch(xe){bt(a,a.return,xe)}}else if((re.tag!==22&&re.tag!==23||re.memoizedState===null||re===a)&&re.child!==null){re.child.return=re,re=re.child;continue}if(re===a)break e;for(;re.sibling===null;){if(re.return===null||re.return===a)break e;se===re&&(se=null),re=re.return}se===re&&(se=null),re.sibling.return=re.return,re=re.sibling}}break;case 19:hs(l,a),_s(a),m&4&&N0(a);break;case 21:break;default:hs(l,a),_s(a)}}function _s(a){var l=a.flags;if(l&2){try{e:{for(var d=a.return;d!==null;){if(P0(d)){var m=d;break e}d=d.return}throw Error(t(160))}switch(m.tag){case 5:var v=m.stateNode;m.flags&32&&(vn(v,""),m.flags&=-33);var b=F0(a);Md(a,b,v);break;case 3:case 4:var C=m.stateNode.containerInfo,R=F0(a);Nd(a,R,C);break;default:throw Error(t(161))}}catch(L){bt(a,a.return,L)}a.flags&=-3}l&4096&&(a.flags&=-4097)}function cC(a,l,d){pe=a,D0(a)}function D0(a,l,d){for(var m=(a.mode&1)!==0;pe!==null;){var v=pe,b=v.child;if(v.tag===22&&m){var C=v.memoizedState!==null||dc;if(!C){var R=v.alternate,L=R!==null&&R.memoizedState!==null||on;R=dc;var H=on;if(dc=C,(on=L)&&!H)for(pe=v;pe!==null;)C=pe,L=C.child,C.tag===22&&C.memoizedState!==null?O0(v):L!==null?(L.return=C,pe=L):O0(v);for(;b!==null;)pe=b,D0(b),b=b.sibling;pe=v,dc=R,on=H}L0(a)}else(v.subtreeFlags&8772)!==0&&b!==null?(b.return=v,pe=b):L0(a)}}function L0(a){for(;pe!==null;){var l=pe;if((l.flags&8772)!==0){var d=l.alternate;try{if((l.flags&8772)!==0)switch(l.tag){case 0:case 11:case 15:on||fc(5,l);break;case 1:var m=l.stateNode;if(l.flags&4&&!on)if(d===null)m.componentDidMount();else{var v=l.elementType===l.type?d.memoizedProps:cs(l.type,d.memoizedProps);m.componentDidUpdate(v,d.memoizedState,m.__reactInternalSnapshotBeforeUpdate)}var b=l.updateQueue;b!==null&&Iy(l,b,m);break;case 3:var C=l.updateQueue;if(C!==null){if(d=null,l.child!==null)switch(l.child.tag){case 5:d=l.child.stateNode;break;case 1:d=l.child.stateNode}Iy(l,C,d)}break;case 5:var R=l.stateNode;if(d===null&&l.flags&4){d=R;var L=l.memoizedProps;switch(l.type){case"button":case"input":case"select":case"textarea":L.autoFocus&&d.focus();break;case"img":L.src&&(d.src=L.src)}}break;case 6:break;case 4:break;case 12:break;case 13:if(l.memoizedState===null){var H=l.alternate;if(H!==null){var se=H.memoizedState;if(se!==null){var re=se.dehydrated;re!==null&&Wo(re)}}}break;case 19:case 17:case 21:case 22:case 23:case 25:break;default:throw Error(t(163))}on||l.flags&512&&Rd(l)}catch(te){bt(l,l.return,te)}}if(l===a){pe=null;break}if(d=l.sibling,d!==null){d.return=l.return,pe=d;break}pe=l.return}}function I0(a){for(;pe!==null;){var l=pe;if(l===a){pe=null;break}var d=l.sibling;if(d!==null){d.return=l.return,pe=d;break}pe=l.return}}function O0(a){for(;pe!==null;){var l=pe;try{switch(l.tag){case 0:case 11:case 15:var d=l.return;try{fc(4,l)}catch(L){bt(l,d,L)}break;case 1:var m=l.stateNode;if(typeof m.componentDidMount=="function"){var v=l.return;try{m.componentDidMount()}catch(L){bt(l,v,L)}}var b=l.return;try{Rd(l)}catch(L){bt(l,b,L)}break;case 5:var C=l.return;try{Rd(l)}catch(L){bt(l,C,L)}}}catch(L){bt(l,l.return,L)}if(l===a){pe=null;break}var R=l.sibling;if(R!==null){R.return=l.return,pe=R;break}pe=l.return}}var uC=Math.ceil,pc=T.ReactCurrentDispatcher,Dd=T.ReactCurrentOwner,qn=T.ReactCurrentBatchConfig,Ke=0,$t=null,Ft=null,Zt=0,Ln=0,Gr=fi(0),It=0,pa=null,Wi=0,mc=0,Ld=0,ma=null,Sn=null,Id=0,qr=1/0,Ks=null,gc=!1,Od=null,wi=null,yc=!1,xi=null,vc=0,ga=0,jd=null,wc=-1,xc=0;function fn(){return(Ke&6)!==0?St():wc!==-1?wc:wc=St()}function bi(a){return(a.mode&1)===0?1:(Ke&2)!==0&&Zt!==0?Zt&-Zt:q_.transition!==null?(xc===0&&(xc=Fg()),xc):(a=Ye,a!==0||(a=window.event,a=a===void 0?16:Bg(a.type)),a)}function ds(a,l,d,m){if(50<ga)throw ga=0,jd=null,Error(t(185));zo(a,d,m),((Ke&2)===0||a!==$t)&&(a===$t&&((Ke&2)===0&&(mc|=d),It===4&&Ai(a,Zt)),En(a,m),d===1&&Ke===0&&(l.mode&1)===0&&(qr=St()+500,Kl&&mi()))}function En(a,l){var d=a.callbackNode;qE(a,l);var m=Pl(a,a===$t?Zt:0);if(m===0)d!==null&&kg(d),a.callbackNode=null,a.callbackPriority=0;else if(l=m&-m,a.callbackPriority!==l){if(d!=null&&kg(d),l===1)a.tag===0?G_(B0.bind(null,a)):Ey(B0.bind(null,a)),V_(function(){(Ke&6)===0&&mi()}),d=null;else{switch(Rg(m)){case 1:d=yh;break;case 4:d=Tg;break;case 16:d=_l;break;case 536870912:d=Pg;break;default:d=_l}d=q0(d,j0.bind(null,a))}a.callbackPriority=l,a.callbackNode=d}}function j0(a,l){if(wc=-1,xc=0,(Ke&6)!==0)throw Error(t(327));var d=a.callbackNode;if(Kr()&&a.callbackNode!==d)return null;var m=Pl(a,a===$t?Zt:0);if(m===0)return null;if((m&30)!==0||(m&a.expiredLanes)!==0||l)l=bc(a,m);else{l=m;var v=Ke;Ke|=2;var b=$0();($t!==a||Zt!==l)&&(Ks=null,qr=St()+500,qi(a,l));do try{fC();break}catch(R){z0(a,R)}while(!0);nd(),pc.current=b,Ke=v,Ft!==null?l=0:($t=null,Zt=0,l=It)}if(l!==0){if(l===2&&(v=vh(a),v!==0&&(m=v,l=Bd(a,v))),l===1)throw d=pa,qi(a,0),Ai(a,m),En(a,St()),d;if(l===6)Ai(a,m);else{if(v=a.current.alternate,(m&30)===0&&!hC(v)&&(l=bc(a,m),l===2&&(b=vh(a),b!==0&&(m=b,l=Bd(a,b))),l===1))throw d=pa,qi(a,0),Ai(a,m),En(a,St()),d;switch(a.finishedWork=v,a.finishedLanes=m,l){case 0:case 1:throw Error(t(345));case 2:Ki(a,Sn,Ks);break;case 3:if(Ai(a,m),(m&130023424)===m&&(l=Id+500-St(),10<l)){if(Pl(a,0)!==0)break;if(v=a.suspendedLanes,(v&m)!==m){fn(),a.pingedLanes|=a.suspendedLanes&v;break}a.timeoutHandle=Wh(Ki.bind(null,a,Sn,Ks),l);break}Ki(a,Sn,Ks);break;case 4:if(Ai(a,m),(m&4194240)===m)break;for(l=a.eventTimes,v=-1;0<m;){var C=31-os(m);b=1<<C,C=l[C],C>v&&(v=C),m&=~b}if(m=v,m=St()-m,m=(120>m?120:480>m?480:1080>m?1080:1920>m?1920:3e3>m?3e3:4320>m?4320:1960*uC(m/1960))-m,10<m){a.timeoutHandle=Wh(Ki.bind(null,a,Sn,Ks),m);break}Ki(a,Sn,Ks);break;case 5:Ki(a,Sn,Ks);break;default:throw Error(t(329))}}}return En(a,St()),a.callbackNode===d?j0.bind(null,a):null}function Bd(a,l){var d=ma;return a.current.memoizedState.isDehydrated&&(qi(a,l).flags|=256),a=bc(a,l),a!==2&&(l=Sn,Sn=d,l!==null&&zd(l)),a}function zd(a){Sn===null?Sn=a:Sn.push.apply(Sn,a)}function hC(a){for(var l=a;;){if(l.flags&16384){var d=l.updateQueue;if(d!==null&&(d=d.stores,d!==null))for(var m=0;m<d.length;m++){var v=d[m],b=v.getSnapshot;v=v.value;try{if(!as(b(),v))return!1}catch{return!1}}}if(d=l.child,l.subtreeFlags&16384&&d!==null)d.return=l,l=d;else{if(l===a)break;for(;l.sibling===null;){if(l.return===null||l.return===a)return!0;l=l.return}l.sibling.return=l.return,l=l.sibling}}return!0}function Ai(a,l){for(l&=~Ld,l&=~mc,a.suspendedLanes|=l,a.pingedLanes&=~l,a=a.expirationTimes;0<l;){var d=31-os(l),m=1<<d;a[d]=-1,l&=~m}}function B0(a){if((Ke&6)!==0)throw Error(t(327));Kr();var l=Pl(a,0);if((l&1)===0)return En(a,St()),null;var d=bc(a,l);if(a.tag!==0&&d===2){var m=vh(a);m!==0&&(l=m,d=Bd(a,m))}if(d===1)throw d=pa,qi(a,0),Ai(a,l),En(a,St()),d;if(d===6)throw Error(t(345));return a.finishedWork=a.current.alternate,a.finishedLanes=l,Ki(a,Sn,Ks),En(a,St()),null}function $d(a,l){var d=Ke;Ke|=1;try{return a(l)}finally{Ke=d,Ke===0&&(qr=St()+500,Kl&&mi())}}function Gi(a){xi!==null&&xi.tag===0&&(Ke&6)===0&&Kr();var l=Ke;Ke|=1;var d=qn.transition,m=Ye;try{if(qn.transition=null,Ye=1,a)return a()}finally{Ye=m,qn.transition=d,Ke=l,(Ke&6)===0&&mi()}}function Vd(){Ln=Gr.current,at(Gr)}function qi(a,l){a.finishedWork=null,a.finishedLanes=0;var d=a.timeoutHandle;if(d!==-1&&(a.timeoutHandle=-1,$_(d)),Ft!==null)for(d=Ft.return;d!==null;){var m=d;switch(Yh(m),m.tag){case 1:m=m.type.childContextTypes,m!=null&&Gl();break;case 3:Ur(),at(xn),at(nn),ud();break;case 5:ld(m);break;case 4:Ur();break;case 13:at(pt);break;case 19:at(pt);break;case 10:sd(m.type._context);break;case 22:case 23:Vd()}d=d.return}if($t=a,Ft=a=Si(a.current,null),Zt=Ln=l,It=0,pa=null,Ld=mc=Wi=0,Sn=ma=null,Vi!==null){for(l=0;l<Vi.length;l++)if(d=Vi[l],m=d.interleaved,m!==null){d.interleaved=null;var v=m.next,b=d.pending;if(b!==null){var C=b.next;b.next=v,m.next=C}d.pending=m}Vi=null}return a}function z0(a,l){do{var d=Ft;try{if(nd(),ic.current=lc,rc){for(var m=mt.memoizedState;m!==null;){var v=m.queue;v!==null&&(v.pending=null),m=m.next}rc=!1}if(Hi=0,zt=Lt=mt=null,la=!1,ca=0,Dd.current=null,d===null||d.return===null){It=1,pa=l,Ft=null;break}e:{var b=a,C=d.return,R=d,L=l;if(l=Zt,R.flags|=32768,L!==null&&typeof L=="object"&&typeof L.then=="function"){var H=L,se=R,re=se.tag;if((se.mode&1)===0&&(re===0||re===11||re===15)){var te=se.alternate;te?(se.updateQueue=te.updateQueue,se.memoizedState=te.memoizedState,se.lanes=te.lanes):(se.updateQueue=null,se.memoizedState=null)}var fe=h0(C);if(fe!==null){fe.flags&=-257,d0(fe,C,R,b,l),fe.mode&1&&u0(b,H,l),l=fe,L=H;var ye=l.updateQueue;if(ye===null){var xe=new Set;xe.add(L),l.updateQueue=xe}else ye.add(L);break e}else{if((l&1)===0){u0(b,H,l),Ud();break e}L=Error(t(426))}}else if(ct&&R.mode&1){var Et=h0(C);if(Et!==null){(Et.flags&65536)===0&&(Et.flags|=256),d0(Et,C,R,b,l),ed(Hr(L,R));break e}}b=L=Hr(L,R),It!==4&&(It=2),ma===null?ma=[b]:ma.push(b),b=C;do{switch(b.tag){case 3:b.flags|=65536,l&=-l,b.lanes|=l;var B=l0(b,L,l);Ly(b,B);break e;case 1:R=L;var j=b.type,V=b.stateNode;if((b.flags&128)===0&&(typeof j.getDerivedStateFromError=="function"||V!==null&&typeof V.componentDidCatch=="function"&&(wi===null||!wi.has(V)))){b.flags|=65536,l&=-l,b.lanes|=l;var le=c0(b,R,l);Ly(b,le);break e}}b=b.return}while(b!==null)}U0(d)}catch(Ae){l=Ae,Ft===d&&d!==null&&(Ft=d=d.return);continue}break}while(!0)}function $0(){var a=pc.current;return pc.current=lc,a===null?lc:a}function Ud(){(It===0||It===3||It===2)&&(It=4),$t===null||(Wi&268435455)===0&&(mc&268435455)===0||Ai($t,Zt)}function bc(a,l){var d=Ke;Ke|=2;var m=$0();($t!==a||Zt!==l)&&(Ks=null,qi(a,l));do try{dC();break}catch(v){z0(a,v)}while(!0);if(nd(),Ke=d,pc.current=m,Ft!==null)throw Error(t(261));return $t=null,Zt=0,It}function dC(){for(;Ft!==null;)V0(Ft)}function fC(){for(;Ft!==null&&!jE();)V0(Ft)}function V0(a){var l=G0(a.alternate,a,Ln);a.memoizedProps=a.pendingProps,l===null?U0(a):Ft=l,Dd.current=null}function U0(a){var l=a;do{var d=l.alternate;if(a=l.return,(l.flags&32768)===0){if(d=rC(d,l,Ln),d!==null){Ft=d;return}}else{if(d=oC(d,l),d!==null){d.flags&=32767,Ft=d;return}if(a!==null)a.flags|=32768,a.subtreeFlags=0,a.deletions=null;else{It=6,Ft=null;return}}if(l=l.sibling,l!==null){Ft=l;return}Ft=l=a}while(l!==null);It===0&&(It=5)}function Ki(a,l,d){var m=Ye,v=qn.transition;try{qn.transition=null,Ye=1,pC(a,l,d,m)}finally{qn.transition=v,Ye=m}return null}function pC(a,l,d,m){do Kr();while(xi!==null);if((Ke&6)!==0)throw Error(t(327));d=a.finishedWork;var v=a.finishedLanes;if(d===null)return null;if(a.finishedWork=null,a.finishedLanes=0,d===a.current)throw Error(t(177));a.callbackNode=null,a.callbackPriority=0;var b=d.lanes|d.childLanes;if(KE(a,b),a===$t&&(Ft=$t=null,Zt=0),(d.subtreeFlags&2064)===0&&(d.flags&2064)===0||yc||(yc=!0,q0(_l,function(){return Kr(),null})),b=(d.flags&15990)!==0,(d.subtreeFlags&15990)!==0||b){b=qn.transition,qn.transition=null;var C=Ye;Ye=1;var R=Ke;Ke|=4,Dd.current=null,lC(a,d),M0(d,a),D_(Uh),Nl=!!Vh,Uh=Vh=null,a.current=d,cC(d),BE(),Ke=R,Ye=C,qn.transition=b}else a.current=d;if(yc&&(yc=!1,xi=a,vc=v),b=a.pendingLanes,b===0&&(wi=null),VE(d.stateNode),En(a,St()),l!==null)for(m=a.onRecoverableError,d=0;d<l.length;d++)v=l[d],m(v.value,{componentStack:v.stack,digest:v.digest});if(gc)throw gc=!1,a=Od,Od=null,a;return(vc&1)!==0&&a.tag!==0&&Kr(),b=a.pendingLanes,(b&1)!==0?a===jd?ga++:(ga=0,jd=a):ga=0,mi(),null}function Kr(){if(xi!==null){var a=Rg(vc),l=qn.transition,d=Ye;try{if(qn.transition=null,Ye=16>a?16:a,xi===null)var m=!1;else{if(a=xi,xi=null,vc=0,(Ke&6)!==0)throw Error(t(331));var v=Ke;for(Ke|=4,pe=a.current;pe!==null;){var b=pe,C=b.child;if((pe.flags&16)!==0){var R=b.deletions;if(R!==null){for(var L=0;L<R.length;L++){var H=R[L];for(pe=H;pe!==null;){var se=pe;switch(se.tag){case 0:case 11:case 15:fa(8,se,b)}var re=se.child;if(re!==null)re.return=se,pe=re;else for(;pe!==null;){se=pe;var te=se.sibling,fe=se.return;if(T0(se),se===H){pe=null;break}if(te!==null){te.return=fe,pe=te;break}pe=fe}}}var ye=b.alternate;if(ye!==null){var xe=ye.child;if(xe!==null){ye.child=null;do{var Et=xe.sibling;xe.sibling=null,xe=Et}while(xe!==null)}}pe=b}}if((b.subtreeFlags&2064)!==0&&C!==null)C.return=b,pe=C;else e:for(;pe!==null;){if(b=pe,(b.flags&2048)!==0)switch(b.tag){case 0:case 11:case 15:fa(9,b,b.return)}var B=b.sibling;if(B!==null){B.return=b.return,pe=B;break e}pe=b.return}}var j=a.current;for(pe=j;pe!==null;){C=pe;var V=C.child;if((C.subtreeFlags&2064)!==0&&V!==null)V.return=C,pe=V;else e:for(C=j;pe!==null;){if(R=pe,(R.flags&2048)!==0)try{switch(R.tag){case 0:case 11:case 15:fc(9,R)}}catch(Ae){bt(R,R.return,Ae)}if(R===C){pe=null;break e}var le=R.sibling;if(le!==null){le.return=R.return,pe=le;break e}pe=R.return}}if(Ke=v,mi(),bs&&typeof bs.onPostCommitFiberRoot=="function")try{bs.onPostCommitFiberRoot(Cl,a)}catch{}m=!0}return m}finally{Ye=d,qn.transition=l}}return!1}function H0(a,l,d){l=Hr(d,l),l=l0(a,l,1),a=yi(a,l,1),l=fn(),a!==null&&(zo(a,1,l),En(a,l))}function bt(a,l,d){if(a.tag===3)H0(a,a,d);else for(;l!==null;){if(l.tag===3){H0(l,a,d);break}else if(l.tag===1){var m=l.stateNode;if(typeof l.type.getDerivedStateFromError=="function"||typeof m.componentDidCatch=="function"&&(wi===null||!wi.has(m))){a=Hr(d,a),a=c0(l,a,1),l=yi(l,a,1),a=fn(),l!==null&&(zo(l,1,a),En(l,a));break}}l=l.return}}function mC(a,l,d){var m=a.pingCache;m!==null&&m.delete(l),l=fn(),a.pingedLanes|=a.suspendedLanes&d,$t===a&&(Zt&d)===d&&(It===4||It===3&&(Zt&130023424)===Zt&&500>St()-Id?qi(a,0):Ld|=d),En(a,l)}function W0(a,l){l===0&&((a.mode&1)===0?l=1:(l=Tl,Tl<<=1,(Tl&130023424)===0&&(Tl=4194304)));var d=fn();a=Ws(a,l),a!==null&&(zo(a,l,d),En(a,d))}function gC(a){var l=a.memoizedState,d=0;l!==null&&(d=l.retryLane),W0(a,d)}function yC(a,l){var d=0;switch(a.tag){case 13:var m=a.stateNode,v=a.memoizedState;v!==null&&(d=v.retryLane);break;case 19:m=a.stateNode;break;default:throw Error(t(314))}m!==null&&m.delete(l),W0(a,d)}var G0;G0=function(a,l,d){if(a!==null)if(a.memoizedProps!==l.pendingProps||xn.current)An=!0;else{if((a.lanes&d)===0&&(l.flags&128)===0)return An=!1,iC(a,l,d);An=(a.flags&131072)!==0}else An=!1,ct&&(l.flags&1048576)!==0&&_y(l,Zl,l.index);switch(l.lanes=0,l.tag){case 2:var m=l.type;hc(a,l),a=l.pendingProps;var v=Ir(l,nn.current);Vr(l,d),v=fd(null,l,m,a,v,d);var b=pd();return l.flags|=1,typeof v=="object"&&v!==null&&typeof v.render=="function"&&v.$$typeof===void 0?(l.tag=1,l.memoizedState=null,l.updateQueue=null,bn(m)?(b=!0,ql(l)):b=!1,l.memoizedState=v.state!==null&&v.state!==void 0?v.state:null,od(l),v.updater=cc,l.stateNode=v,v._reactInternals=l,xd(l,m,a,d),l=Ed(null,l,m,!0,b,d)):(l.tag=0,ct&&b&&Zh(l),dn(null,l,v,d),l=l.child),l;case 16:m=l.elementType;e:{switch(hc(a,l),a=l.pendingProps,v=m._init,m=v(m._payload),l.type=m,v=l.tag=wC(m),a=cs(m,a),v){case 0:l=Sd(null,l,m,a,d);break e;case 1:l=v0(null,l,m,a,d);break e;case 11:l=f0(null,l,m,a,d);break e;case 14:l=p0(null,l,m,cs(m.type,a),d);break e}throw Error(t(306,m,""))}return l;case 0:return m=l.type,v=l.pendingProps,v=l.elementType===m?v:cs(m,v),Sd(a,l,m,v,d);case 1:return m=l.type,v=l.pendingProps,v=l.elementType===m?v:cs(m,v),v0(a,l,m,v,d);case 3:e:{if(w0(l),a===null)throw Error(t(387));m=l.pendingProps,b=l.memoizedState,v=b.element,Dy(a,l),nc(l,m,null,d);var C=l.memoizedState;if(m=C.element,b.isDehydrated)if(b={element:m,isDehydrated:!1,cache:C.cache,pendingSuspenseBoundaries:C.pendingSuspenseBoundaries,transitions:C.transitions},l.updateQueue.baseState=b,l.memoizedState=b,l.flags&256){v=Hr(Error(t(423)),l),l=x0(a,l,m,d,v);break e}else if(m!==v){v=Hr(Error(t(424)),l),l=x0(a,l,m,d,v);break e}else for(Dn=di(l.stateNode.containerInfo.firstChild),Mn=l,ct=!0,ls=null,d=Ny(l,null,m,d),l.child=d;d;)d.flags=d.flags&-3|4096,d=d.sibling;else{if(Br(),m===v){l=qs(a,l,d);break e}dn(a,l,m,d)}l=l.child}return l;case 5:return Oy(l),a===null&&Jh(l),m=l.type,v=l.pendingProps,b=a!==null?a.memoizedProps:null,C=v.children,Hh(m,v)?C=null:b!==null&&Hh(m,b)&&(l.flags|=32),y0(a,l),dn(a,l,C,d),l.child;case 6:return a===null&&Jh(l),null;case 13:return b0(a,l,d);case 4:return ad(l,l.stateNode.containerInfo),m=l.pendingProps,a===null?l.child=zr(l,null,m,d):dn(a,l,m,d),l.child;case 11:return m=l.type,v=l.pendingProps,v=l.elementType===m?v:cs(m,v),f0(a,l,m,v,d);case 7:return dn(a,l,l.pendingProps,d),l.child;case 8:return dn(a,l,l.pendingProps.children,d),l.child;case 12:return dn(a,l,l.pendingProps.children,d),l.child;case 10:e:{if(m=l.type._context,v=l.pendingProps,b=l.memoizedProps,C=v.value,st(Jl,m._currentValue),m._currentValue=C,b!==null)if(as(b.value,C)){if(b.children===v.children&&!xn.current){l=qs(a,l,d);break e}}else for(b=l.child,b!==null&&(b.return=l);b!==null;){var R=b.dependencies;if(R!==null){C=b.child;for(var L=R.firstContext;L!==null;){if(L.context===m){if(b.tag===1){L=Gs(-1,d&-d),L.tag=2;var H=b.updateQueue;if(H!==null){H=H.shared;var se=H.pending;se===null?L.next=L:(L.next=se.next,se.next=L),H.pending=L}}b.lanes|=d,L=b.alternate,L!==null&&(L.lanes|=d),id(b.return,d,l),R.lanes|=d;break}L=L.next}}else if(b.tag===10)C=b.type===l.type?null:b.child;else if(b.tag===18){if(C=b.return,C===null)throw Error(t(341));C.lanes|=d,R=C.alternate,R!==null&&(R.lanes|=d),id(C,d,l),C=b.sibling}else C=b.child;if(C!==null)C.return=b;else for(C=b;C!==null;){if(C===l){C=null;break}if(b=C.sibling,b!==null){b.return=C.return,C=b;break}C=C.return}b=C}dn(a,l,v.children,d),l=l.child}return l;case 9:return v=l.type,m=l.pendingProps.children,Vr(l,d),v=Wn(v),m=m(v),l.flags|=1,dn(a,l,m,d),l.child;case 14:return m=l.type,v=cs(m,l.pendingProps),v=cs(m.type,v),p0(a,l,m,v,d);case 15:return m0(a,l,l.type,l.pendingProps,d);case 17:return m=l.type,v=l.pendingProps,v=l.elementType===m?v:cs(m,v),hc(a,l),l.tag=1,bn(m)?(a=!0,ql(l)):a=!1,Vr(l,d),o0(l,m,v),xd(l,m,v,d),Ed(null,l,m,!0,a,d);case 19:return S0(a,l,d);case 22:return g0(a,l,d)}throw Error(t(156,l.tag))};function q0(a,l){return Cg(a,l)}function vC(a,l,d,m){this.tag=a,this.key=d,this.sibling=this.child=this.return=this.stateNode=this.type=this.elementType=null,this.index=0,this.ref=null,this.pendingProps=l,this.dependencies=this.memoizedState=this.updateQueue=this.memoizedProps=null,this.mode=m,this.subtreeFlags=this.flags=0,this.deletions=null,this.childLanes=this.lanes=0,this.alternate=null}function Kn(a,l,d,m){return new vC(a,l,d,m)}function Hd(a){return a=a.prototype,!(!a||!a.isReactComponent)}function wC(a){if(typeof a=="function")return Hd(a)?1:0;if(a!=null){if(a=a.$$typeof,a===ie)return 11;if(a===ue)return 14}return 2}function Si(a,l){var d=a.alternate;return d===null?(d=Kn(a.tag,l,a.key,a.mode),d.elementType=a.elementType,d.type=a.type,d.stateNode=a.stateNode,d.alternate=a,a.alternate=d):(d.pendingProps=l,d.type=a.type,d.flags=0,d.subtreeFlags=0,d.deletions=null),d.flags=a.flags&14680064,d.childLanes=a.childLanes,d.lanes=a.lanes,d.child=a.child,d.memoizedProps=a.memoizedProps,d.memoizedState=a.memoizedState,d.updateQueue=a.updateQueue,l=a.dependencies,d.dependencies=l===null?null:{lanes:l.lanes,firstContext:l.firstContext},d.sibling=a.sibling,d.index=a.index,d.ref=a.ref,d}function Ac(a,l,d,m,v,b){var C=2;if(m=a,typeof a=="function")Hd(a)&&(C=1);else if(typeof a=="string")C=5;else e:switch(a){case M:return Xi(d.children,v,b,l);case I:C=8,v|=8;break;case $:return a=Kn(12,d,l,v|2),a.elementType=$,a.lanes=b,a;case U:return a=Kn(13,d,l,v),a.elementType=U,a.lanes=b,a;case ee:return a=Kn(19,d,l,v),a.elementType=ee,a.lanes=b,a;case Y:return Sc(d,v,b,l);default:if(typeof a=="object"&&a!==null)switch(a.$$typeof){case q:C=10;break e;case Z:C=9;break e;case ie:C=11;break e;case ue:C=14;break e;case Q:C=16,m=null;break e}throw Error(t(130,a==null?a:typeof a,""))}return l=Kn(C,d,l,v),l.elementType=a,l.type=m,l.lanes=b,l}function Xi(a,l,d,m){return a=Kn(7,a,m,l),a.lanes=d,a}function Sc(a,l,d,m){return a=Kn(22,a,m,l),a.elementType=Y,a.lanes=d,a.stateNode={isHidden:!1},a}function Wd(a,l,d){return a=Kn(6,a,null,l),a.lanes=d,a}function Gd(a,l,d){return l=Kn(4,a.children!==null?a.children:[],a.key,l),l.lanes=d,l.stateNode={containerInfo:a.containerInfo,pendingChildren:null,implementation:a.implementation},l}function xC(a,l,d,m,v){this.tag=l,this.containerInfo=a,this.finishedWork=this.pingCache=this.current=this.pendingChildren=null,this.timeoutHandle=-1,this.callbackNode=this.pendingContext=this.context=null,this.callbackPriority=0,this.eventTimes=wh(0),this.expirationTimes=wh(-1),this.entangledLanes=this.finishedLanes=this.mutableReadLanes=this.expiredLanes=this.pingedLanes=this.suspendedLanes=this.pendingLanes=0,this.entanglements=wh(0),this.identifierPrefix=m,this.onRecoverableError=v,this.mutableSourceEagerHydrationData=null}function qd(a,l,d,m,v,b,C,R,L){return a=new xC(a,l,d,R,L),l===1?(l=1,b===!0&&(l|=8)):l=0,b=Kn(3,null,null,l),a.current=b,b.stateNode=a,b.memoizedState={element:m,isDehydrated:d,cache:null,transitions:null,pendingSuspenseBoundaries:null},od(b),a}function bC(a,l,d){var m=3<arguments.length&&arguments[3]!==void 0?arguments[3]:null;return{$$typeof:N,key:m==null?null:""+m,children:a,containerInfo:l,implementation:d}}function K0(a){if(!a)return pi;a=a._reactInternals;e:{if(Oi(a)!==a||a.tag!==1)throw Error(t(170));var l=a;do{switch(l.tag){case 3:l=l.stateNode.context;break e;case 1:if(bn(l.type)){l=l.stateNode.__reactInternalMemoizedMergedChildContext;break e}}l=l.return}while(l!==null);throw Error(t(171))}if(a.tag===1){var d=a.type;if(bn(d))return Ay(a,d,l)}return l}function X0(a,l,d,m,v,b,C,R,L){return a=qd(d,m,!0,a,v,b,C,R,L),a.context=K0(null),d=a.current,m=fn(),v=bi(d),b=Gs(m,v),b.callback=l??null,yi(d,b,v),a.current.lanes=v,zo(a,v,m),En(a,m),a}function Ec(a,l,d,m){var v=l.current,b=fn(),C=bi(v);return d=K0(d),l.context===null?l.context=d:l.pendingContext=d,l=Gs(b,C),l.payload={element:a},m=m===void 0?null:m,m!==null&&(l.callback=m),a=yi(v,l,C),a!==null&&(ds(a,v,C,b),tc(a,v,C)),C}function _c(a){if(a=a.current,!a.child)return null;switch(a.child.tag){case 5:return a.child.stateNode;default:return a.child.stateNode}}function Z0(a,l){if(a=a.memoizedState,a!==null&&a.dehydrated!==null){var d=a.retryLane;a.retryLane=d!==0&&d<l?d:l}}function Kd(a,l){Z0(a,l),(a=a.alternate)&&Z0(a,l)}function AC(){return null}var Y0=typeof reportError=="function"?reportError:function(a){console.error(a)};function Xd(a){this._internalRoot=a}Cc.prototype.render=Xd.prototype.render=function(a){var l=this._internalRoot;if(l===null)throw Error(t(409));Ec(a,l,null,null)},Cc.prototype.unmount=Xd.prototype.unmount=function(){var a=this._internalRoot;if(a!==null){this._internalRoot=null;var l=a.containerInfo;Gi(function(){Ec(null,a,null,null)}),l[$s]=null}};function Cc(a){this._internalRoot=a}Cc.prototype.unstable_scheduleHydration=function(a){if(a){var l=Dg();a={blockedOn:null,target:a,priority:l};for(var d=0;d<ci.length&&l!==0&&l<ci[d].priority;d++);ci.splice(d,0,a),d===0&&Og(a)}};function Zd(a){return!(!a||a.nodeType!==1&&a.nodeType!==9&&a.nodeType!==11)}function kc(a){return!(!a||a.nodeType!==1&&a.nodeType!==9&&a.nodeType!==11&&(a.nodeType!==8||a.nodeValue!==" react-mount-point-unstable "))}function Q0(){}function SC(a,l,d,m,v){if(v){if(typeof m=="function"){var b=m;m=function(){var H=_c(C);b.call(H)}}var C=X0(l,m,a,0,null,!1,!1,"",Q0);return a._reactRootContainer=C,a[$s]=C.current,ea(a.nodeType===8?a.parentNode:a),Gi(),C}for(;v=a.lastChild;)a.removeChild(v);if(typeof m=="function"){var R=m;m=function(){var H=_c(L);R.call(H)}}var L=qd(a,0,!1,null,null,!1,!1,"",Q0);return a._reactRootContainer=L,a[$s]=L.current,ea(a.nodeType===8?a.parentNode:a),Gi(function(){Ec(l,L,d,m)}),L}function Tc(a,l,d,m,v){var b=d._reactRootContainer;if(b){var C=b;if(typeof v=="function"){var R=v;v=function(){var L=_c(C);R.call(L)}}Ec(l,C,a,v)}else C=SC(d,l,a,v,m);return _c(C)}Ng=function(a){switch(a.tag){case 3:var l=a.stateNode;if(l.current.memoizedState.isDehydrated){var d=Bo(l.pendingLanes);d!==0&&(xh(l,d|1),En(l,St()),(Ke&6)===0&&(qr=St()+500,mi()))}break;case 13:Gi(function(){var m=Ws(a,1);if(m!==null){var v=fn();ds(m,a,1,v)}}),Kd(a,1)}},bh=function(a){if(a.tag===13){var l=Ws(a,134217728);if(l!==null){var d=fn();ds(l,a,134217728,d)}Kd(a,134217728)}},Mg=function(a){if(a.tag===13){var l=bi(a),d=Ws(a,l);if(d!==null){var m=fn();ds(d,a,l,m)}Kd(a,l)}},Dg=function(){return Ye},Lg=function(a,l){var d=Ye;try{return Ye=a,l()}finally{Ye=d}},fh=function(a,l,d){switch(l){case"input":if(Vn(a,d),l=d.name,d.type==="radio"&&l!=null){for(d=a;d.parentNode;)d=d.parentNode;for(d=d.querySelectorAll("input[name="+JSON.stringify(""+l)+'][type="radio"]'),l=0;l<d.length;l++){var m=d[l];if(m!==a&&m.form===a.form){var v=Wl(m);if(!v)throw Error(t(90));hn(m),Vn(m,v)}}}break;case"textarea":ce(a,d);break;case"select":l=d.value,l!=null&&z(a,!!d.multiple,l,!1)}},wg=$d,xg=Gi;var EC={usingClientEntryPoint:!1,Events:[sa,Dr,Wl,yg,vg,$d]},ya={findFiberByHostInstance:ji,bundleType:0,version:"18.3.1",rendererPackageName:"react-dom"},_C={bundleType:ya.bundleType,version:ya.version,rendererPackageName:ya.rendererPackageName,rendererConfig:ya.rendererConfig,overrideHookState:null,overrideHookStateDeletePath:null,overrideHookStateRenamePath:null,overrideProps:null,overridePropsDeletePath:null,overridePropsRenamePath:null,setErrorHandler:null,setSuspenseHandler:null,scheduleUpdate:null,currentDispatcherRef:T.ReactCurrentDispatcher,findHostInstanceByFiber:function(a){return a=Eg(a),a===null?null:a.stateNode},findFiberByHostInstance:ya.findFiberByHostInstance||AC,findHostInstancesForRefresh:null,scheduleRefresh:null,scheduleRoot:null,setRefreshHandler:null,getCurrentFiber:null,reconcilerVersion:"18.3.1-next-f1338f8080-20240426"};if(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__<"u"){var Pc=__REACT_DEVTOOLS_GLOBAL_HOOK__;if(!Pc.isDisabled&&Pc.supportsFiber)try{Cl=Pc.inject(_C),bs=Pc}catch{}}return _n.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED=EC,_n.createPortal=function(a,l){var d=2<arguments.length&&arguments[2]!==void 0?arguments[2]:null;if(!Zd(l))throw Error(t(200));return bC(a,l,null,d)},_n.createRoot=function(a,l){if(!Zd(a))throw Error(t(299));var d=!1,m="",v=Y0;return l!=null&&(l.unstable_strictMode===!0&&(d=!0),l.identifierPrefix!==void 0&&(m=l.identifierPrefix),l.onRecoverableError!==void 0&&(v=l.onRecoverableError)),l=qd(a,1,!1,null,null,d,!1,m,v),a[$s]=l.current,ea(a.nodeType===8?a.parentNode:a),new Xd(l)},_n.findDOMNode=function(a){if(a==null)return null;if(a.nodeType===1)return a;var l=a._reactInternals;if(l===void 0)throw typeof a.render=="function"?Error(t(188)):(a=Object.keys(a).join(","),Error(t(268,a)));return a=Eg(l),a=a===null?null:a.stateNode,a},_n.flushSync=function(a){return Gi(a)},_n.hydrate=function(a,l,d){if(!kc(l))throw Error(t(200));return Tc(null,a,l,!0,d)},_n.hydrateRoot=function(a,l,d){if(!Zd(a))throw Error(t(405));var m=d!=null&&d.hydratedSources||null,v=!1,b="",C=Y0;if(d!=null&&(d.unstable_strictMode===!0&&(v=!0),d.identifierPrefix!==void 0&&(b=d.identifierPrefix),d.onRecoverableError!==void 0&&(C=d.onRecoverableError)),l=X0(l,null,a,1,d??null,v,!1,b,C),a[$s]=l.current,ea(a),m)for(a=0;a<m.length;a++)d=m[a],v=d._getVersion,v=v(d._source),l.mutableSourceEagerHydrationData==null?l.mutableSourceEagerHydrationData=[d,v]:l.mutableSourceEagerHydrationData.push(d,v);return new Cc(l)},_n.render=function(a,l,d){if(!kc(l))throw Error(t(200));return Tc(null,a,l,!1,d)},_n.unmountComponentAtNode=function(a){if(!kc(a))throw Error(t(40));return a._reactRootContainer?(Gi(function(){Tc(null,null,a,!1,function(){a._reactRootContainer=null,a[$s]=null})}),!0):!1},_n.unstable_batchedUpdates=$d,_n.unstable_renderSubtreeIntoContainer=function(a,l,d,m){if(!kc(d))throw Error(t(200));if(a==null||a._reactInternals===void 0)throw Error(t(38));return Tc(a,l,d,!1,m)},_n.version="18.3.1-next-f1338f8080-20240426",_n}var ov;function MC(){if(ov)return Jd.exports;ov=1;function n(){if(!(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__>"u"||typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE!="function"))try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(n)}catch(e){console.error(e)}}return n(),Jd.exports=NC(),Jd.exports}var av;function DC(){if(av)return Fc;av=1;var n=MC();return Fc.createRoot=n.createRoot,Fc.hydrateRoot=n.hydrateRoot,Fc}var LC=DC(),F=jp();const Jt=bb(F);/**
 * react-router v7.10.1
 *
 * Copyright (c) Remix Software Inc.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE.md file in the root directory of this source tree.
 *
 * @license MIT
 */var lv="popstate";function IC(n={}){function e(s,i){let{pathname:r,search:o,hash:c}=s.location;return Mf("",{pathname:r,search:o,hash:c},i.state&&i.state.usr||null,i.state&&i.state.key||"default")}function t(s,i){return typeof i=="string"?i:ja(i)}return jC(e,t,null,n)}function ht(n,e){if(n===!1||n===null||typeof n>"u")throw new Error(e)}function ns(n,e){if(!n){typeof console<"u"&&console.warn(e);try{throw new Error(e)}catch{}}}function OC(){return Math.random().toString(36).substring(2,10)}function cv(n,e){return{usr:n.state,key:n.key,idx:e}}function Mf(n,e,t=null,s){return{pathname:typeof n=="string"?n:n.pathname,search:"",hash:"",...typeof e=="string"?So(e):e,state:t,key:e&&e.key||s||OC()}}function ja({pathname:n="/",search:e="",hash:t=""}){return e&&e!=="?"&&(n+=e.charAt(0)==="?"?e:"?"+e),t&&t!=="#"&&(n+=t.charAt(0)==="#"?t:"#"+t),n}function So(n){let e={};if(n){let t=n.indexOf("#");t>=0&&(e.hash=n.substring(t),n=n.substring(0,t));let s=n.indexOf("?");s>=0&&(e.search=n.substring(s),n=n.substring(0,s)),n&&(e.pathname=n)}return e}function jC(n,e,t,s={}){let{window:i=document.defaultView,v5Compat:r=!1}=s,o=i.history,c="POP",u=null,h=f();h==null&&(h=0,o.replaceState({...o.state,idx:h},""));function f(){return(o.state||{idx:null}).idx}function p(){c="POP";let S=f(),E=S==null?null:S-h;h=S,u&&u({action:c,location:x.location,delta:E})}function g(S,E){c="PUSH";let _=Mf(x.location,S,E);h=f()+1;let k=cv(_,h),T=x.createHref(_);try{o.pushState(k,"",T)}catch(P){if(P instanceof DOMException&&P.name==="DataCloneError")throw P;i.location.assign(T)}r&&u&&u({action:c,location:x.location,delta:1})}function w(S,E){c="REPLACE";let _=Mf(x.location,S,E);h=f();let k=cv(_,h),T=x.createHref(_);o.replaceState(k,"",T),r&&u&&u({action:c,location:x.location,delta:0})}function A(S){return BC(S)}let x={get action(){return c},get location(){return n(i,o)},listen(S){if(u)throw new Error("A history only accepts one active listener");return i.addEventListener(lv,p),u=S,()=>{i.removeEventListener(lv,p),u=null}},createHref(S){return e(i,S)},createURL:A,encodeLocation(S){let E=A(S);return{pathname:E.pathname,search:E.search,hash:E.hash}},push:g,replace:w,go(S){return o.go(S)}};return x}function BC(n,e=!1){let t="http://localhost";typeof window<"u"&&(t=window.location.origin!=="null"?window.location.origin:window.location.href),ht(t,"No window.location.(origin|href) available to create URL");let s=typeof n=="string"?n:ja(n);return s=s.replace(/ $/,"%20"),!e&&s.startsWith("//")&&(s=t+s),new URL(s,t)}function Ab(n,e,t="/"){return zC(n,e,t,!1)}function zC(n,e,t,s){let i=typeof e=="string"?So(e):e,r=ei(i.pathname||"/",t);if(r==null)return null;let o=Sb(n);$C(o);let c=null;for(let u=0;c==null&&u<o.length;++u){let h=QC(r);c=ZC(o[u],h,s)}return c}function Sb(n,e=[],t=[],s="",i=!1){let r=(o,c,u=i,h)=>{let f={relativePath:h===void 0?o.path||"":h,caseSensitive:o.caseSensitive===!0,childrenIndex:c,route:o};if(f.relativePath.startsWith("/")){if(!f.relativePath.startsWith(s)&&u)return;ht(f.relativePath.startsWith(s),`Absolute route path "${f.relativePath}" nested under path "${s}" is not valid. An absolute child route path must start with the combined path of all its parent routes.`),f.relativePath=f.relativePath.slice(s.length)}let p=Qs([s,f.relativePath]),g=t.concat(f);o.children&&o.children.length>0&&(ht(o.index!==!0,`Index routes must not have child routes. Please remove all child routes from route path "${p}".`),Sb(o.children,e,g,p,u)),!(o.path==null&&!o.index)&&e.push({path:p,score:KC(p,o.index),routesMeta:g})};return n.forEach((o,c)=>{if(o.path===""||!o.path?.includes("?"))r(o,c);else for(let u of Eb(o.path))r(o,c,!0,u)}),e}function Eb(n){let e=n.split("/");if(e.length===0)return[];let[t,...s]=e,i=t.endsWith("?"),r=t.replace(/\?$/,"");if(s.length===0)return i?[r,""]:[r];let o=Eb(s.join("/")),c=[];return c.push(...o.map(u=>u===""?r:[r,u].join("/"))),i&&c.push(...o),c.map(u=>n.startsWith("/")&&u===""?"/":u)}function $C(n){n.sort((e,t)=>e.score!==t.score?t.score-e.score:XC(e.routesMeta.map(s=>s.childrenIndex),t.routesMeta.map(s=>s.childrenIndex)))}var VC=/^:[\w-]+$/,UC=3,HC=2,WC=1,GC=10,qC=-2,uv=n=>n==="*";function KC(n,e){let t=n.split("/"),s=t.length;return t.some(uv)&&(s+=qC),e&&(s+=HC),t.filter(i=>!uv(i)).reduce((i,r)=>i+(VC.test(r)?UC:r===""?WC:GC),s)}function XC(n,e){return n.length===e.length&&n.slice(0,-1).every((s,i)=>s===e[i])?n[n.length-1]-e[e.length-1]:0}function ZC(n,e,t=!1){let{routesMeta:s}=n,i={},r="/",o=[];for(let c=0;c<s.length;++c){let u=s[c],h=c===s.length-1,f=r==="/"?e:e.slice(r.length)||"/",p=uu({path:u.relativePath,caseSensitive:u.caseSensitive,end:h},f),g=u.route;if(!p&&h&&t&&!s[s.length-1].route.index&&(p=uu({path:u.relativePath,caseSensitive:u.caseSensitive,end:!1},f)),!p)return null;Object.assign(i,p.params),o.push({params:i,pathname:Qs([r,p.pathname]),pathnameBase:sk(Qs([r,p.pathnameBase])),route:g}),p.pathnameBase!=="/"&&(r=Qs([r,p.pathnameBase]))}return o}function uu(n,e){typeof n=="string"&&(n={path:n,caseSensitive:!1,end:!0});let[t,s]=YC(n.path,n.caseSensitive,n.end),i=e.match(t);if(!i)return null;let r=i[0],o=r.replace(/(.)\/+$/,"$1"),c=i.slice(1);return{params:s.reduce((h,{paramName:f,isOptional:p},g)=>{if(f==="*"){let A=c[g]||"";o=r.slice(0,r.length-A.length).replace(/(.)\/+$/,"$1")}const w=c[g];return p&&!w?h[f]=void 0:h[f]=(w||"").replace(/%2F/g,"/"),h},{}),pathname:r,pathnameBase:o,pattern:n}}function YC(n,e=!1,t=!0){ns(n==="*"||!n.endsWith("*")||n.endsWith("/*"),`Route path "${n}" will be treated as if it were "${n.replace(/\*$/,"/*")}" because the \`*\` character must always follow a \`/\` in the pattern. To get rid of this warning, please change the route path to "${n.replace(/\*$/,"/*")}".`);let s=[],i="^"+n.replace(/\/*\*?$/,"").replace(/^\/*/,"/").replace(/[\\.*+^${}|()[\]]/g,"\\$&").replace(/\/:([\w-]+)(\?)?/g,(o,c,u)=>(s.push({paramName:c,isOptional:u!=null}),u?"/?([^\\/]+)?":"/([^\\/]+)")).replace(/\/([\w-]+)\?(\/|$)/g,"(/$1)?$2");return n.endsWith("*")?(s.push({paramName:"*"}),i+=n==="*"||n==="/*"?"(.*)$":"(?:\\/(.+)|\\/*)$"):t?i+="\\/*$":n!==""&&n!=="/"&&(i+="(?:(?=\\/|$))"),[new RegExp(i,e?void 0:"i"),s]}function QC(n){try{return n.split("/").map(e=>decodeURIComponent(e).replace(/\//g,"%2F")).join("/")}catch(e){return ns(!1,`The URL path "${n}" could not be decoded because it is a malformed URL segment. This is probably due to a bad percent encoding (${e}).`),n}}function ei(n,e){if(e==="/")return n;if(!n.toLowerCase().startsWith(e.toLowerCase()))return null;let t=e.endsWith("/")?e.length-1:e.length,s=n.charAt(t);return s&&s!=="/"?null:n.slice(t)||"/"}var JC=/^(?:[a-z][a-z0-9+.-]*:|\/\/)/i,ek=n=>JC.test(n);function tk(n,e="/"){let{pathname:t,search:s="",hash:i=""}=typeof n=="string"?So(n):n,r;if(t)if(ek(t))r=t;else{if(t.includes("//")){let o=t;t=t.replace(/\/\/+/g,"/"),ns(!1,`Pathnames cannot have embedded double slashes - normalizing ${o} -> ${t}`)}t.startsWith("/")?r=hv(t.substring(1),"/"):r=hv(t,e)}else r=e;return{pathname:r,search:ik(s),hash:rk(i)}}function hv(n,e){let t=e.replace(/\/+$/,"").split("/");return n.split("/").forEach(i=>{i===".."?t.length>1&&t.pop():i!=="."&&t.push(i)}),t.length>1?t.join("/"):"/"}function nf(n,e,t,s){return`Cannot include a '${n}' character in a manually specified \`to.${e}\` field [${JSON.stringify(s)}].  Please separate it out to the \`to.${t}\` field. Alternatively you may provide the full path as a string in <Link to="..."> and the router will parse it for you.`}function nk(n){return n.filter((e,t)=>t===0||e.route.path&&e.route.path.length>0)}function Bp(n){let e=nk(n);return e.map((t,s)=>s===e.length-1?t.pathname:t.pathnameBase)}function zp(n,e,t,s=!1){let i;typeof n=="string"?i=So(n):(i={...n},ht(!i.pathname||!i.pathname.includes("?"),nf("?","pathname","search",i)),ht(!i.pathname||!i.pathname.includes("#"),nf("#","pathname","hash",i)),ht(!i.search||!i.search.includes("#"),nf("#","search","hash",i)));let r=n===""||i.pathname==="",o=r?"/":i.pathname,c;if(o==null)c=t;else{let p=e.length-1;if(!s&&o.startsWith("..")){let g=o.split("/");for(;g[0]==="..";)g.shift(),p-=1;i.pathname=g.join("/")}c=p>=0?e[p]:"/"}let u=tk(i,c),h=o&&o!=="/"&&o.endsWith("/"),f=(r||o===".")&&t.endsWith("/");return!u.pathname.endsWith("/")&&(h||f)&&(u.pathname+="/"),u}var Qs=n=>n.join("/").replace(/\/\/+/g,"/"),sk=n=>n.replace(/\/+$/,"").replace(/^\/*/,"/"),ik=n=>!n||n==="?"?"":n.startsWith("?")?n:"?"+n,rk=n=>!n||n==="#"?"":n.startsWith("#")?n:"#"+n;function ok(n){return n!=null&&typeof n.status=="number"&&typeof n.statusText=="string"&&typeof n.internal=="boolean"&&"data"in n}function ak(n){return n.map(e=>e.route.path).filter(Boolean).join("/").replace(/\/\/*/g,"/")||"/"}Object.getOwnPropertyNames(Object.prototype).sort().join("\0");var _b=["POST","PUT","PATCH","DELETE"];new Set(_b);var lk=["GET",..._b];new Set(lk);var Eo=F.createContext(null);Eo.displayName="DataRouter";var Ru=F.createContext(null);Ru.displayName="DataRouterState";F.createContext(!1);var Cb=F.createContext({isTransitioning:!1});Cb.displayName="ViewTransition";var ck=F.createContext(new Map);ck.displayName="Fetchers";var uk=F.createContext(null);uk.displayName="Await";var ss=F.createContext(null);ss.displayName="Navigation";var nl=F.createContext(null);nl.displayName="Location";var vs=F.createContext({outlet:null,matches:[],isDataRoute:!1});vs.displayName="Route";var $p=F.createContext(null);$p.displayName="RouteError";function hk(n,{relative:e}={}){ht(_o(),"useHref() may be used only in the context of a <Router> component.");let{basename:t,navigator:s}=F.useContext(ss),{hash:i,pathname:r,search:o}=sl(n,{relative:e}),c=r;return t!=="/"&&(c=r==="/"?t:Qs([t,r])),s.createHref({pathname:c,search:o,hash:i})}function _o(){return F.useContext(nl)!=null}function is(){return ht(_o(),"useLocation() may be used only in the context of a <Router> component."),F.useContext(nl).location}var kb="You should call navigate() in a React.useEffect(), not when your component is first rendered.";function Tb(n){F.useContext(ss).static||F.useLayoutEffect(n)}function Os(){let{isDataRoute:n}=F.useContext(vs);return n?Ck():dk()}function dk(){ht(_o(),"useNavigate() may be used only in the context of a <Router> component.");let n=F.useContext(Eo),{basename:e,navigator:t}=F.useContext(ss),{matches:s}=F.useContext(vs),{pathname:i}=is(),r=JSON.stringify(Bp(s)),o=F.useRef(!1);return Tb(()=>{o.current=!0}),F.useCallback((u,h={})=>{if(ns(o.current,kb),!o.current)return;if(typeof u=="number"){t.go(u);return}let f=zp(u,JSON.parse(r),i,h.relative==="path");n==null&&e!=="/"&&(f.pathname=f.pathname==="/"?e:Qs([e,f.pathname])),(h.replace?t.replace:t.push)(f,h.state,h)},[e,t,r,i,n])}var fk=F.createContext(null);function pk(n){let e=F.useContext(vs).outlet;return F.useMemo(()=>e&&F.createElement(fk.Provider,{value:n},e),[e,n])}function sl(n,{relative:e}={}){let{matches:t}=F.useContext(vs),{pathname:s}=is(),i=JSON.stringify(Bp(t));return F.useMemo(()=>zp(n,JSON.parse(i),s,e==="path"),[n,i,s,e])}function mk(n,e){return Pb(n,e)}function Pb(n,e,t,s,i){ht(_o(),"useRoutes() may be used only in the context of a <Router> component.");let{navigator:r}=F.useContext(ss),{matches:o}=F.useContext(vs),c=o[o.length-1],u=c?c.params:{},h=c?c.pathname:"/",f=c?c.pathnameBase:"/",p=c&&c.route;{let _=p&&p.path||"";Fb(h,!p||_.endsWith("*")||_.endsWith("*?"),`You rendered descendant <Routes> (or called \`useRoutes()\`) at "${h}" (under <Route path="${_}">) but the parent route path has no trailing "*". This means if you navigate deeper, the parent won't match anymore and therefore the child routes will never render.

Please change the parent <Route path="${_}"> to <Route path="${_==="/"?"*":`${_}/*`}">.`)}let g=is(),w;if(e){let _=typeof e=="string"?So(e):e;ht(f==="/"||_.pathname?.startsWith(f),`When overriding the location using \`<Routes location>\` or \`useRoutes(routes, location)\`, the location pathname must begin with the portion of the URL pathname that was matched by all parent routes. The current pathname base is "${f}" but pathname "${_.pathname}" was given in the \`location\` prop.`),w=_}else w=g;let A=w.pathname||"/",x=A;if(f!=="/"){let _=f.replace(/^\//,"").split("/");x="/"+A.replace(/^\//,"").split("/").slice(_.length).join("/")}let S=Ab(n,{pathname:x});ns(p||S!=null,`No routes matched location "${w.pathname}${w.search}${w.hash}" `),ns(S==null||S[S.length-1].route.element!==void 0||S[S.length-1].route.Component!==void 0||S[S.length-1].route.lazy!==void 0,`Matched leaf route at location "${w.pathname}${w.search}${w.hash}" does not have an element or Component. This means it will render an <Outlet /> with a null value by default resulting in an "empty" page.`);let E=xk(S&&S.map(_=>Object.assign({},_,{params:Object.assign({},u,_.params),pathname:Qs([f,r.encodeLocation?r.encodeLocation(_.pathname.replace(/\?/g,"%3F").replace(/#/g,"%23")).pathname:_.pathname]),pathnameBase:_.pathnameBase==="/"?f:Qs([f,r.encodeLocation?r.encodeLocation(_.pathnameBase.replace(/\?/g,"%3F").replace(/#/g,"%23")).pathname:_.pathnameBase])})),o,t,s,i);return e&&E?F.createElement(nl.Provider,{value:{location:{pathname:"/",search:"",hash:"",state:null,key:"default",...w},navigationType:"POP"}},E):E}function gk(){let n=_k(),e=ok(n)?`${n.status} ${n.statusText}`:n instanceof Error?n.message:JSON.stringify(n),t=n instanceof Error?n.stack:null,s="rgba(200,200,200, 0.5)",i={padding:"0.5rem",backgroundColor:s},r={padding:"2px 4px",backgroundColor:s},o=null;return console.error("Error handled by React Router default ErrorBoundary:",n),o=F.createElement(F.Fragment,null,F.createElement("p",null," Hey developer "),F.createElement("p",null,"You can provide a way better UX than this when your app throws errors by providing your own ",F.createElement("code",{style:r},"ErrorBoundary")," or"," ",F.createElement("code",{style:r},"errorElement")," prop on your route.")),F.createElement(F.Fragment,null,F.createElement("h2",null,"Unexpected Application Error!"),F.createElement("h3",{style:{fontStyle:"italic"}},e),t?F.createElement("pre",{style:i},t):null,o)}var yk=F.createElement(gk,null),vk=class extends F.Component{constructor(n){super(n),this.state={location:n.location,revalidation:n.revalidation,error:n.error}}static getDerivedStateFromError(n){return{error:n}}static getDerivedStateFromProps(n,e){return e.location!==n.location||e.revalidation!=="idle"&&n.revalidation==="idle"?{error:n.error,location:n.location,revalidation:n.revalidation}:{error:n.error!==void 0?n.error:e.error,location:e.location,revalidation:n.revalidation||e.revalidation}}componentDidCatch(n,e){this.props.onError?this.props.onError(n,e):console.error("React Router caught the following error during render",n)}render(){return this.state.error!==void 0?F.createElement(vs.Provider,{value:this.props.routeContext},F.createElement($p.Provider,{value:this.state.error,children:this.props.component})):this.props.children}};function wk({routeContext:n,match:e,children:t}){let s=F.useContext(Eo);return s&&s.static&&s.staticContext&&(e.route.errorElement||e.route.ErrorBoundary)&&(s.staticContext._deepestRenderedBoundaryId=e.route.id),F.createElement(vs.Provider,{value:n},t)}function xk(n,e=[],t=null,s=null,i=null){if(n==null){if(!t)return null;if(t.errors)n=t.matches;else if(e.length===0&&!t.initialized&&t.matches.length>0)n=t.matches;else return null}let r=n,o=t?.errors;if(o!=null){let f=r.findIndex(p=>p.route.id&&o?.[p.route.id]!==void 0);ht(f>=0,`Could not find a matching route for errors on route IDs: ${Object.keys(o).join(",")}`),r=r.slice(0,Math.min(r.length,f+1))}let c=!1,u=-1;if(t)for(let f=0;f<r.length;f++){let p=r[f];if((p.route.HydrateFallback||p.route.hydrateFallbackElement)&&(u=f),p.route.id){let{loaderData:g,errors:w}=t,A=p.route.loader&&!g.hasOwnProperty(p.route.id)&&(!w||w[p.route.id]===void 0);if(p.route.lazy||A){c=!0,u>=0?r=r.slice(0,u+1):r=[r[0]];break}}}let h=t&&s?(f,p)=>{s(f,{location:t.location,params:t.matches?.[0]?.params??{},unstable_pattern:ak(t.matches),errorInfo:p})}:void 0;return r.reduceRight((f,p,g)=>{let w,A=!1,x=null,S=null;t&&(w=o&&p.route.id?o[p.route.id]:void 0,x=p.route.errorElement||yk,c&&(u<0&&g===0?(Fb("route-fallback",!1,"No `HydrateFallback` element provided to render during initial hydration"),A=!0,S=null):u===g&&(A=!0,S=p.route.hydrateFallbackElement||null)));let E=e.concat(r.slice(0,g+1)),_=()=>{let k;return w?k=x:A?k=S:p.route.Component?k=F.createElement(p.route.Component,null):p.route.element?k=p.route.element:k=f,F.createElement(wk,{match:p,routeContext:{outlet:f,matches:E,isDataRoute:t!=null},children:k})};return t&&(p.route.ErrorBoundary||p.route.errorElement||g===0)?F.createElement(vk,{location:t.location,revalidation:t.revalidation,component:x,error:w,children:_(),routeContext:{outlet:null,matches:E,isDataRoute:!0},onError:h}):_()},null)}function Vp(n){return`${n} must be used within a data router.  See https://reactrouter.com/en/main/routers/picking-a-router.`}function bk(n){let e=F.useContext(Eo);return ht(e,Vp(n)),e}function Ak(n){let e=F.useContext(Ru);return ht(e,Vp(n)),e}function Sk(n){let e=F.useContext(vs);return ht(e,Vp(n)),e}function Up(n){let e=Sk(n),t=e.matches[e.matches.length-1];return ht(t.route.id,`${n} can only be used on routes that contain a unique "id"`),t.route.id}function Ek(){return Up("useRouteId")}function _k(){let n=F.useContext($p),e=Ak("useRouteError"),t=Up("useRouteError");return n!==void 0?n:e.errors?.[t]}function Ck(){let{router:n}=bk("useNavigate"),e=Up("useNavigate"),t=F.useRef(!1);return Tb(()=>{t.current=!0}),F.useCallback(async(i,r={})=>{ns(t.current,kb),t.current&&(typeof i=="number"?await n.navigate(i):await n.navigate(i,{fromRouteId:e,...r}))},[n,e])}var dv={};function Fb(n,e,t){!e&&!dv[n]&&(dv[n]=!0,ns(!1,t))}F.memo(kk);function kk({routes:n,future:e,state:t,unstable_onError:s}){return Pb(n,void 0,t,s,e)}function fv({to:n,replace:e,state:t,relative:s}){ht(_o(),"<Navigate> may be used only in the context of a <Router> component.");let{static:i}=F.useContext(ss);ns(!i,"<Navigate> must not be used on the initial render in a <StaticRouter>. This is a no-op, but you should modify your code so the <Navigate> is only ever rendered in response to some user interaction or state change.");let{matches:r}=F.useContext(vs),{pathname:o}=is(),c=Os(),u=zp(n,Bp(r),o,s==="path"),h=JSON.stringify(u);return F.useEffect(()=>{c(JSON.parse(h),{replace:e,state:t,relative:s})},[c,h,s,e,t]),null}function Tk(n){return pk(n.context)}function _i(n){ht(!1,"A <Route> is only ever to be used as the child of <Routes> element, never rendered directly. Please wrap your <Route> in a <Routes>.")}function Pk({basename:n="/",children:e=null,location:t,navigationType:s="POP",navigator:i,static:r=!1,unstable_useTransitions:o}){ht(!_o(),"You cannot render a <Router> inside another <Router>. You should never have more than one in your app.");let c=n.replace(/^\/*/,"/"),u=F.useMemo(()=>({basename:c,navigator:i,static:r,unstable_useTransitions:o,future:{}}),[c,i,r,o]);typeof t=="string"&&(t=So(t));let{pathname:h="/",search:f="",hash:p="",state:g=null,key:w="default"}=t,A=F.useMemo(()=>{let x=ei(h,c);return x==null?null:{location:{pathname:x,search:f,hash:p,state:g,key:w},navigationType:s}},[c,h,f,p,g,w,s]);return ns(A!=null,`<Router basename="${c}"> is not able to match the URL "${h}${f}${p}" because it does not start with the basename, so the <Router> won't render anything.`),A==null?null:F.createElement(ss.Provider,{value:u},F.createElement(nl.Provider,{children:e,value:A}))}function Fk({children:n,location:e}){return mk(Df(n),e)}function Df(n,e=[]){let t=[];return F.Children.forEach(n,(s,i)=>{if(!F.isValidElement(s))return;let r=[...e,i];if(s.type===F.Fragment){t.push.apply(t,Df(s.props.children,r));return}ht(s.type===_i,`[${typeof s.type=="string"?s.type:s.type.name}] is not a <Route> component. All component children of <Routes> must be a <Route> or <React.Fragment>`),ht(!s.props.index||!s.props.children,"An index route cannot have child routes.");let o={id:s.props.id||r.join("-"),caseSensitive:s.props.caseSensitive,element:s.props.element,Component:s.props.Component,index:s.props.index,path:s.props.path,middleware:s.props.middleware,loader:s.props.loader,action:s.props.action,hydrateFallbackElement:s.props.hydrateFallbackElement,HydrateFallback:s.props.HydrateFallback,errorElement:s.props.errorElement,ErrorBoundary:s.props.ErrorBoundary,hasErrorBoundary:s.props.hasErrorBoundary===!0||s.props.ErrorBoundary!=null||s.props.errorElement!=null,shouldRevalidate:s.props.shouldRevalidate,handle:s.props.handle,lazy:s.props.lazy};s.props.children&&(o.children=Df(s.props.children,r)),t.push(o)}),t}var Jc="get",eu="application/x-www-form-urlencoded";function Nu(n){return typeof HTMLElement<"u"&&n instanceof HTMLElement}function Rk(n){return Nu(n)&&n.tagName.toLowerCase()==="button"}function Nk(n){return Nu(n)&&n.tagName.toLowerCase()==="form"}function Mk(n){return Nu(n)&&n.tagName.toLowerCase()==="input"}function Dk(n){return!!(n.metaKey||n.altKey||n.ctrlKey||n.shiftKey)}function Lk(n,e){return n.button===0&&(!e||e==="_self")&&!Dk(n)}var Rc=null;function Ik(){if(Rc===null)try{new FormData(document.createElement("form"),0),Rc=!1}catch{Rc=!0}return Rc}var Ok=new Set(["application/x-www-form-urlencoded","multipart/form-data","text/plain"]);function sf(n){return n!=null&&!Ok.has(n)?(ns(!1,`"${n}" is not a valid \`encType\` for \`<Form>\`/\`<fetcher.Form>\` and will default to "${eu}"`),null):n}function jk(n,e){let t,s,i,r,o;if(Nk(n)){let c=n.getAttribute("action");s=c?ei(c,e):null,t=n.getAttribute("method")||Jc,i=sf(n.getAttribute("enctype"))||eu,r=new FormData(n)}else if(Rk(n)||Mk(n)&&(n.type==="submit"||n.type==="image")){let c=n.form;if(c==null)throw new Error('Cannot submit a <button> or <input type="submit"> without a <form>');let u=n.getAttribute("formaction")||c.getAttribute("action");if(s=u?ei(u,e):null,t=n.getAttribute("formmethod")||c.getAttribute("method")||Jc,i=sf(n.getAttribute("formenctype"))||sf(c.getAttribute("enctype"))||eu,r=new FormData(c,n),!Ik()){let{name:h,type:f,value:p}=n;if(f==="image"){let g=h?`${h}.`:"";r.append(`${g}x`,"0"),r.append(`${g}y`,"0")}else h&&r.append(h,p)}}else{if(Nu(n))throw new Error('Cannot submit element that is not <form>, <button>, or <input type="submit|image">');t=Jc,s=null,i=eu,o=n}return r&&i==="text/plain"&&(o=r,r=void 0),{action:s,method:t.toLowerCase(),encType:i,formData:r,body:o}}Object.getOwnPropertyNames(Object.prototype).sort().join("\0");function Hp(n,e){if(n===!1||n===null||typeof n>"u")throw new Error(e)}function Bk(n,e,t){let s=typeof n=="string"?new URL(n,typeof window>"u"?"server://singlefetch/":window.location.origin):n;return s.pathname==="/"?s.pathname=`_root.${t}`:e&&ei(s.pathname,e)==="/"?s.pathname=`${e.replace(/\/$/,"")}/_root.${t}`:s.pathname=`${s.pathname.replace(/\/$/,"")}.${t}`,s}async function zk(n,e){if(n.id in e)return e[n.id];try{let t=await import(n.module);return e[n.id]=t,t}catch(t){return console.error(`Error loading route module \`${n.module}\`, reloading page...`),console.error(t),window.__reactRouterContext&&window.__reactRouterContext.isSpaMode,window.location.reload(),new Promise(()=>{})}}function $k(n){return n==null?!1:n.href==null?n.rel==="preload"&&typeof n.imageSrcSet=="string"&&typeof n.imageSizes=="string":typeof n.rel=="string"&&typeof n.href=="string"}async function Vk(n,e,t){let s=await Promise.all(n.map(async i=>{let r=e.routes[i.route.id];if(r){let o=await zk(r,t);return o.links?o.links():[]}return[]}));return Gk(s.flat(1).filter($k).filter(i=>i.rel==="stylesheet"||i.rel==="preload").map(i=>i.rel==="stylesheet"?{...i,rel:"prefetch",as:"style"}:{...i,rel:"prefetch"}))}function pv(n,e,t,s,i,r){let o=(u,h)=>t[h]?u.route.id!==t[h].route.id:!0,c=(u,h)=>t[h].pathname!==u.pathname||t[h].route.path?.endsWith("*")&&t[h].params["*"]!==u.params["*"];return r==="assets"?e.filter((u,h)=>o(u,h)||c(u,h)):r==="data"?e.filter((u,h)=>{let f=s.routes[u.route.id];if(!f||!f.hasLoader)return!1;if(o(u,h)||c(u,h))return!0;if(u.route.shouldRevalidate){let p=u.route.shouldRevalidate({currentUrl:new URL(i.pathname+i.search+i.hash,window.origin),currentParams:t[0]?.params||{},nextUrl:new URL(n,window.origin),nextParams:u.params,defaultShouldRevalidate:!0});if(typeof p=="boolean")return p}return!0}):[]}function Uk(n,e,{includeHydrateFallback:t}={}){return Hk(n.map(s=>{let i=e.routes[s.route.id];if(!i)return[];let r=[i.module];return i.clientActionModule&&(r=r.concat(i.clientActionModule)),i.clientLoaderModule&&(r=r.concat(i.clientLoaderModule)),t&&i.hydrateFallbackModule&&(r=r.concat(i.hydrateFallbackModule)),i.imports&&(r=r.concat(i.imports)),r}).flat(1))}function Hk(n){return[...new Set(n)]}function Wk(n){let e={},t=Object.keys(n).sort();for(let s of t)e[s]=n[s];return e}function Gk(n,e){let t=new Set;return new Set(e),n.reduce((s,i)=>{let r=JSON.stringify(Wk(i));return t.has(r)||(t.add(r),s.push({key:r,link:i})),s},[])}function Rb(){let n=F.useContext(Eo);return Hp(n,"You must render this element inside a <DataRouterContext.Provider> element"),n}function qk(){let n=F.useContext(Ru);return Hp(n,"You must render this element inside a <DataRouterStateContext.Provider> element"),n}var Wp=F.createContext(void 0);Wp.displayName="FrameworkContext";function Nb(){let n=F.useContext(Wp);return Hp(n,"You must render this element inside a <HydratedRouter> element"),n}function Kk(n,e){let t=F.useContext(Wp),[s,i]=F.useState(!1),[r,o]=F.useState(!1),{onFocus:c,onBlur:u,onMouseEnter:h,onMouseLeave:f,onTouchStart:p}=e,g=F.useRef(null);F.useEffect(()=>{if(n==="render"&&o(!0),n==="viewport"){let x=E=>{E.forEach(_=>{o(_.isIntersecting)})},S=new IntersectionObserver(x,{threshold:.5});return g.current&&S.observe(g.current),()=>{S.disconnect()}}},[n]),F.useEffect(()=>{if(s){let x=setTimeout(()=>{o(!0)},100);return()=>{clearTimeout(x)}}},[s]);let w=()=>{i(!0)},A=()=>{i(!1),o(!1)};return t?n!=="intent"?[r,g,{}]:[r,g,{onFocus:wa(c,w),onBlur:wa(u,A),onMouseEnter:wa(h,w),onMouseLeave:wa(f,A),onTouchStart:wa(p,w)}]:[!1,g,{}]}function wa(n,e){return t=>{n&&n(t),t.defaultPrevented||e(t)}}function Xk({page:n,...e}){let{router:t}=Rb(),s=F.useMemo(()=>Ab(t.routes,n,t.basename),[t.routes,n,t.basename]);return s?F.createElement(Yk,{page:n,matches:s,...e}):null}function Zk(n){let{manifest:e,routeModules:t}=Nb(),[s,i]=F.useState([]);return F.useEffect(()=>{let r=!1;return Vk(n,e,t).then(o=>{r||i(o)}),()=>{r=!0}},[n,e,t]),s}function Yk({page:n,matches:e,...t}){let s=is(),{manifest:i,routeModules:r}=Nb(),{basename:o}=Rb(),{loaderData:c,matches:u}=qk(),h=F.useMemo(()=>pv(n,e,u,i,s,"data"),[n,e,u,i,s]),f=F.useMemo(()=>pv(n,e,u,i,s,"assets"),[n,e,u,i,s]),p=F.useMemo(()=>{if(n===s.pathname+s.search+s.hash)return[];let A=new Set,x=!1;if(e.forEach(E=>{let _=i.routes[E.route.id];!_||!_.hasLoader||(!h.some(k=>k.route.id===E.route.id)&&E.route.id in c&&r[E.route.id]?.shouldRevalidate||_.hasClientLoader?x=!0:A.add(E.route.id))}),A.size===0)return[];let S=Bk(n,o,"data");return x&&A.size>0&&S.searchParams.set("_routes",e.filter(E=>A.has(E.route.id)).map(E=>E.route.id).join(",")),[S.pathname+S.search]},[o,c,s,i,h,e,n,r]),g=F.useMemo(()=>Uk(f,i),[f,i]),w=Zk(f);return F.createElement(F.Fragment,null,p.map(A=>F.createElement("link",{key:A,rel:"prefetch",as:"fetch",href:A,...t})),g.map(A=>F.createElement("link",{key:A,rel:"modulepreload",href:A,...t})),w.map(({key:A,link:x})=>F.createElement("link",{key:A,nonce:t.nonce,...x})))}function Qk(...n){return e=>{n.forEach(t=>{typeof t=="function"?t(e):t!=null&&(t.current=e)})}}var Mb=typeof window<"u"&&typeof window.document<"u"&&typeof window.document.createElement<"u";try{Mb&&(window.__reactRouterVersion="7.10.1")}catch{}function Jk({basename:n,children:e,unstable_useTransitions:t,window:s}){let i=F.useRef();i.current==null&&(i.current=IC({window:s,v5Compat:!0}));let r=i.current,[o,c]=F.useState({action:r.action,location:r.location}),u=F.useCallback(h=>{t===!1?c(h):F.startTransition(()=>c(h))},[t]);return F.useLayoutEffect(()=>r.listen(u),[r,u]),F.createElement(Pk,{basename:n,children:e,location:o.location,navigationType:o.action,navigator:r,unstable_useTransitions:t===!0})}var Db=/^(?:[a-z][a-z0-9+.-]*:|\/\/)/i,Lb=F.forwardRef(function({onClick:e,discover:t="render",prefetch:s="none",relative:i,reloadDocument:r,replace:o,state:c,target:u,to:h,preventScrollReset:f,viewTransition:p,...g},w){let{basename:A,unstable_useTransitions:x}=F.useContext(ss),S=typeof h=="string"&&Db.test(h),E,_=!1;if(typeof h=="string"&&S&&(E=h,Mb))try{let q=new URL(window.location.href),Z=h.startsWith("//")?new URL(q.protocol+h):new URL(h),ie=ei(Z.pathname,A);Z.origin===q.origin&&ie!=null?h=ie+Z.search+Z.hash:_=!0}catch{ns(!1,`<Link to="${h}"> contains an invalid URL which will probably break when clicked - please update to a valid URL path.`)}let k=hk(h,{relative:i}),[T,P,N]=Kk(s,g),M=sT(h,{replace:o,state:c,target:u,preventScrollReset:f,relative:i,viewTransition:p,unstable_useTransitions:x});function I(q){e&&e(q),q.defaultPrevented||M(q)}let $=F.createElement("a",{...g,...N,href:E||k,onClick:_||r?e:I,ref:Qk(w,P),target:u,"data-discover":!S&&t==="render"?"true":void 0});return T&&!S?F.createElement(F.Fragment,null,$,F.createElement(Xk,{page:k})):$});Lb.displayName="Link";var eT=F.forwardRef(function({"aria-current":e="page",caseSensitive:t=!1,className:s="",end:i=!1,style:r,to:o,viewTransition:c,children:u,...h},f){let p=sl(o,{relative:h.relative}),g=is(),w=F.useContext(Ru),{navigator:A,basename:x}=F.useContext(ss),S=w!=null&&lT(p)&&c===!0,E=A.encodeLocation?A.encodeLocation(p).pathname:p.pathname,_=g.pathname,k=w&&w.navigation&&w.navigation.location?w.navigation.location.pathname:null;t||(_=_.toLowerCase(),k=k?k.toLowerCase():null,E=E.toLowerCase()),k&&x&&(k=ei(k,x)||k);const T=E!=="/"&&E.endsWith("/")?E.length-1:E.length;let P=_===E||!i&&_.startsWith(E)&&_.charAt(T)==="/",N=k!=null&&(k===E||!i&&k.startsWith(E)&&k.charAt(E.length)==="/"),M={isActive:P,isPending:N,isTransitioning:S},I=P?e:void 0,$;typeof s=="function"?$=s(M):$=[s,P?"active":null,N?"pending":null,S?"transitioning":null].filter(Boolean).join(" ");let q=typeof r=="function"?r(M):r;return F.createElement(Lb,{...h,"aria-current":I,className:$,ref:f,style:q,to:o,viewTransition:c},typeof u=="function"?u(M):u)});eT.displayName="NavLink";var tT=F.forwardRef(({discover:n="render",fetcherKey:e,navigate:t,reloadDocument:s,replace:i,state:r,method:o=Jc,action:c,onSubmit:u,relative:h,preventScrollReset:f,viewTransition:p,...g},w)=>{let{unstable_useTransitions:A}=F.useContext(ss),x=oT(),S=aT(c,{relative:h}),E=o.toLowerCase()==="get"?"get":"post",_=typeof c=="string"&&Db.test(c),k=T=>{if(u&&u(T),T.defaultPrevented)return;T.preventDefault();let P=T.nativeEvent.submitter,N=P?.getAttribute("formmethod")||o,M=()=>x(P||T.currentTarget,{fetcherKey:e,method:N,navigate:t,replace:i,state:r,relative:h,preventScrollReset:f,viewTransition:p});A&&t!==!1?F.startTransition(()=>M()):M()};return F.createElement("form",{ref:w,method:E,action:S,onSubmit:s?u:k,...g,"data-discover":!_&&n==="render"?"true":void 0})});tT.displayName="Form";function nT(n){return`${n} must be used within a data router.  See https://reactrouter.com/en/main/routers/picking-a-router.`}function Ib(n){let e=F.useContext(Eo);return ht(e,nT(n)),e}function sT(n,{target:e,replace:t,state:s,preventScrollReset:i,relative:r,viewTransition:o,unstable_useTransitions:c}={}){let u=Os(),h=is(),f=sl(n,{relative:r});return F.useCallback(p=>{if(Lk(p,e)){p.preventDefault();let g=t!==void 0?t:ja(h)===ja(f),w=()=>u(n,{replace:g,state:s,preventScrollReset:i,relative:r,viewTransition:o});c?F.startTransition(()=>w()):w()}},[h,u,f,t,s,e,n,i,r,o,c])}var iT=0,rT=()=>`__${String(++iT)}__`;function oT(){let{router:n}=Ib("useSubmit"),{basename:e}=F.useContext(ss),t=Ek(),s=n.fetch,i=n.navigate;return F.useCallback(async(r,o={})=>{let{action:c,method:u,encType:h,formData:f,body:p}=jk(r,e);if(o.navigate===!1){let g=o.fetcherKey||rT();await s(g,t,o.action||c,{preventScrollReset:o.preventScrollReset,formData:f,body:p,formMethod:o.method||u,formEncType:o.encType||h,flushSync:o.flushSync})}else await i(o.action||c,{preventScrollReset:o.preventScrollReset,formData:f,body:p,formMethod:o.method||u,formEncType:o.encType||h,replace:o.replace,state:o.state,fromRouteId:t,flushSync:o.flushSync,viewTransition:o.viewTransition})},[s,i,e,t])}function aT(n,{relative:e}={}){let{basename:t}=F.useContext(ss),s=F.useContext(vs);ht(s,"useFormAction must be used inside a RouteContext");let[i]=s.matches.slice(-1),r={...sl(n||".",{relative:e})},o=is();if(n==null){r.search=o.search;let c=new URLSearchParams(r.search),u=c.getAll("index");if(u.some(f=>f==="")){c.delete("index"),u.filter(p=>p).forEach(p=>c.append("index",p));let f=c.toString();r.search=f?`?${f}`:""}}return(!n||n===".")&&i.route.index&&(r.search=r.search?r.search.replace(/^\?/,"?index&"):"?index"),t!=="/"&&(r.pathname=r.pathname==="/"?t:Qs([t,r.pathname])),ja(r)}function lT(n,{relative:e}={}){let t=F.useContext(Cb);ht(t!=null,"`useViewTransitionState` must be used within `react-router-dom`'s `RouterProvider`.  Did you accidentally import `RouterProvider` from `react-router`?");let{basename:s}=Ib("useViewTransitionState"),i=sl(n,{relative:e});if(!t.isTransitioning)return!1;let r=ei(t.currentLocation.pathname,s)||t.currentLocation.pathname,o=ei(t.nextLocation.pathname,s)||t.nextLocation.pathname;return uu(i.pathname,o)!=null||uu(i.pathname,r)!=null}var Co=class{constructor(){this.listeners=new Set,this.subscribe=this.subscribe.bind(this)}subscribe(n){return this.listeners.add(n),this.onSubscribe(),()=>{this.listeners.delete(n),this.onUnsubscribe()}}hasListeners(){return this.listeners.size>0}onSubscribe(){}onUnsubscribe(){}},cT={setTimeout:(n,e)=>setTimeout(n,e),clearTimeout:n=>clearTimeout(n),setInterval:(n,e)=>setInterval(n,e),clearInterval:n=>clearInterval(n)},uT=class{#e=cT;#t=!1;setTimeoutProvider(n){this.#e=n}setTimeout(n,e){return this.#e.setTimeout(n,e)}clearTimeout(n){this.#e.clearTimeout(n)}setInterval(n,e){return this.#e.setInterval(n,e)}clearInterval(n){this.#e.clearInterval(n)}},er=new uT;function hT(n){setTimeout(n,0)}var cr=typeof window>"u"||"Deno"in globalThis;function gn(){}function dT(n,e){return typeof n=="function"?n(e):n}function Lf(n){return typeof n=="number"&&n>=0&&n!==1/0}function Ob(n,e){return Math.max(n+(e||0)-Date.now(),0)}function Pi(n,e){return typeof n=="function"?n(e):n}function Jn(n,e){return typeof n=="function"?n(e):n}function mv(n,e){const{type:t="all",exact:s,fetchStatus:i,predicate:r,queryKey:o,stale:c}=n;if(o){if(s){if(e.queryHash!==Gp(o,e.options))return!1}else if(!Ba(e.queryKey,o))return!1}if(t!=="all"){const u=e.isActive();if(t==="active"&&!u||t==="inactive"&&u)return!1}return!(typeof c=="boolean"&&e.isStale()!==c||i&&i!==e.state.fetchStatus||r&&!r(e))}function gv(n,e){const{exact:t,status:s,predicate:i,mutationKey:r}=n;if(r){if(!e.options.mutationKey)return!1;if(t){if(ur(e.options.mutationKey)!==ur(r))return!1}else if(!Ba(e.options.mutationKey,r))return!1}return!(s&&e.state.status!==s||i&&!i(e))}function Gp(n,e){return(e?.queryKeyHashFn||ur)(n)}function ur(n){return JSON.stringify(n,(e,t)=>If(t)?Object.keys(t).sort().reduce((s,i)=>(s[i]=t[i],s),{}):t)}function Ba(n,e){return n===e?!0:typeof n!=typeof e?!1:n&&e&&typeof n=="object"&&typeof e=="object"?Object.keys(e).every(t=>Ba(n[t],e[t])):!1}var fT=Object.prototype.hasOwnProperty;function jb(n,e){if(n===e)return n;const t=yv(n)&&yv(e);if(!t&&!(If(n)&&If(e)))return e;const i=(t?n:Object.keys(n)).length,r=t?e:Object.keys(e),o=r.length,c=t?new Array(o):{};let u=0;for(let h=0;h<o;h++){const f=t?h:r[h],p=n[f],g=e[f];if(p===g){c[f]=p,(t?h<i:fT.call(n,f))&&u++;continue}if(p===null||g===null||typeof p!="object"||typeof g!="object"){c[f]=g;continue}const w=jb(p,g);c[f]=w,w===p&&u++}return i===o&&u===i?n:c}function hu(n,e){if(!e||Object.keys(n).length!==Object.keys(e).length)return!1;for(const t in n)if(n[t]!==e[t])return!1;return!0}function yv(n){return Array.isArray(n)&&n.length===Object.keys(n).length}function If(n){if(!vv(n))return!1;const e=n.constructor;if(e===void 0)return!0;const t=e.prototype;return!(!vv(t)||!t.hasOwnProperty("isPrototypeOf")||Object.getPrototypeOf(n)!==Object.prototype)}function vv(n){return Object.prototype.toString.call(n)==="[object Object]"}function pT(n){return new Promise(e=>{er.setTimeout(e,n)})}function Of(n,e,t){return typeof t.structuralSharing=="function"?t.structuralSharing(n,e):t.structuralSharing!==!1?jb(n,e):e}function mT(n,e,t=0){const s=[...n,e];return t&&s.length>t?s.slice(1):s}function gT(n,e,t=0){const s=[e,...n];return t&&s.length>t?s.slice(0,-1):s}var qp=Symbol();function Bb(n,e){return!n.queryFn&&e?.initialPromise?()=>e.initialPromise:!n.queryFn||n.queryFn===qp?()=>Promise.reject(new Error(`Missing queryFn: '${n.queryHash}'`)):n.queryFn}function zb(n,e){return typeof n=="function"?n(...e):!!n}var yT=class extends Co{#e;#t;#s;constructor(){super(),this.#s=n=>{if(!cr&&window.addEventListener){const e=()=>n();return window.addEventListener("visibilitychange",e,!1),()=>{window.removeEventListener("visibilitychange",e)}}}}onSubscribe(){this.#t||this.setEventListener(this.#s)}onUnsubscribe(){this.hasListeners()||(this.#t?.(),this.#t=void 0)}setEventListener(n){this.#s=n,this.#t?.(),this.#t=n(e=>{typeof e=="boolean"?this.setFocused(e):this.onFocus()})}setFocused(n){this.#e!==n&&(this.#e=n,this.onFocus())}onFocus(){const n=this.isFocused();this.listeners.forEach(e=>{e(n)})}isFocused(){return typeof this.#e=="boolean"?this.#e:globalThis.document?.visibilityState!=="hidden"}},Kp=new yT;function jf(){let n,e;const t=new Promise((i,r)=>{n=i,e=r});t.status="pending",t.catch(()=>{});function s(i){Object.assign(t,i),delete t.resolve,delete t.reject}return t.resolve=i=>{s({status:"fulfilled",value:i}),n(i)},t.reject=i=>{s({status:"rejected",reason:i}),e(i)},t}var vT=hT;function wT(){let n=[],e=0,t=c=>{c()},s=c=>{c()},i=vT;const r=c=>{e?n.push(c):i(()=>{t(c)})},o=()=>{const c=n;n=[],c.length&&i(()=>{s(()=>{c.forEach(u=>{t(u)})})})};return{batch:c=>{let u;e++;try{u=c()}finally{e--,e||o()}return u},batchCalls:c=>(...u)=>{r(()=>{c(...u)})},schedule:r,setNotifyFunction:c=>{t=c},setBatchNotifyFunction:c=>{s=c},setScheduler:c=>{i=c}}}var jt=wT(),xT=class extends Co{#e=!0;#t;#s;constructor(){super(),this.#s=n=>{if(!cr&&window.addEventListener){const e=()=>n(!0),t=()=>n(!1);return window.addEventListener("online",e,!1),window.addEventListener("offline",t,!1),()=>{window.removeEventListener("online",e),window.removeEventListener("offline",t)}}}}onSubscribe(){this.#t||this.setEventListener(this.#s)}onUnsubscribe(){this.hasListeners()||(this.#t?.(),this.#t=void 0)}setEventListener(n){this.#s=n,this.#t?.(),this.#t=n(this.setOnline.bind(this))}setOnline(n){this.#e!==n&&(this.#e=n,this.listeners.forEach(t=>{t(n)}))}isOnline(){return this.#e}},du=new xT;function bT(n){return Math.min(1e3*2**n,3e4)}function $b(n){return(n??"online")==="online"?du.isOnline():!0}var Bf=class extends Error{constructor(n){super("CancelledError"),this.revert=n?.revert,this.silent=n?.silent}};function Vb(n){let e=!1,t=0,s;const i=jf(),r=()=>i.status!=="pending",o=x=>{if(!r()){const S=new Bf(x);g(S),n.onCancel?.(S)}},c=()=>{e=!0},u=()=>{e=!1},h=()=>Kp.isFocused()&&(n.networkMode==="always"||du.isOnline())&&n.canRun(),f=()=>$b(n.networkMode)&&n.canRun(),p=x=>{r()||(s?.(),i.resolve(x))},g=x=>{r()||(s?.(),i.reject(x))},w=()=>new Promise(x=>{s=S=>{(r()||h())&&x(S)},n.onPause?.()}).then(()=>{s=void 0,r()||n.onContinue?.()}),A=()=>{if(r())return;let x;const S=t===0?n.initialPromise:void 0;try{x=S??n.fn()}catch(E){x=Promise.reject(E)}Promise.resolve(x).then(p).catch(E=>{if(r())return;const _=n.retry??(cr?0:3),k=n.retryDelay??bT,T=typeof k=="function"?k(t,E):k,P=_===!0||typeof _=="number"&&t<_||typeof _=="function"&&_(t,E);if(e||!P){g(E);return}t++,n.onFail?.(t,E),pT(T).then(()=>h()?void 0:w()).then(()=>{e?g(E):A()})})};return{promise:i,status:()=>i.status,cancel:o,continue:()=>(s?.(),i),cancelRetry:c,continueRetry:u,canStart:f,start:()=>(f()?A():w().then(A),i)}}var Ub=class{#e;destroy(){this.clearGcTimeout()}scheduleGc(){this.clearGcTimeout(),Lf(this.gcTime)&&(this.#e=er.setTimeout(()=>{this.optionalRemove()},this.gcTime))}updateGcTime(n){this.gcTime=Math.max(this.gcTime||0,n??(cr?1/0:300*1e3))}clearGcTimeout(){this.#e&&(er.clearTimeout(this.#e),this.#e=void 0)}},AT=class extends Ub{#e;#t;#s;#n;#i;#r;#o;constructor(n){super(),this.#o=!1,this.#r=n.defaultOptions,this.setOptions(n.options),this.observers=[],this.#n=n.client,this.#s=this.#n.getQueryCache(),this.queryKey=n.queryKey,this.queryHash=n.queryHash,this.#e=xv(this.options),this.state=n.state??this.#e,this.scheduleGc()}get meta(){return this.options.meta}get promise(){return this.#i?.promise}setOptions(n){if(this.options={...this.#r,...n},this.updateGcTime(this.options.gcTime),this.state&&this.state.data===void 0){const e=xv(this.options);e.data!==void 0&&(this.setState(wv(e.data,e.dataUpdatedAt)),this.#e=e)}}optionalRemove(){!this.observers.length&&this.state.fetchStatus==="idle"&&this.#s.remove(this)}setData(n,e){const t=Of(this.state.data,n,this.options);return this.#a({data:t,type:"success",dataUpdatedAt:e?.updatedAt,manual:e?.manual}),t}setState(n,e){this.#a({type:"setState",state:n,setStateOptions:e})}cancel(n){const e=this.#i?.promise;return this.#i?.cancel(n),e?e.then(gn).catch(gn):Promise.resolve()}destroy(){super.destroy(),this.cancel({silent:!0})}reset(){this.destroy(),this.setState(this.#e)}isActive(){return this.observers.some(n=>Jn(n.options.enabled,this)!==!1)}isDisabled(){return this.getObserversCount()>0?!this.isActive():this.options.queryFn===qp||this.state.dataUpdateCount+this.state.errorUpdateCount===0}isStatic(){return this.getObserversCount()>0?this.observers.some(n=>Pi(n.options.staleTime,this)==="static"):!1}isStale(){return this.getObserversCount()>0?this.observers.some(n=>n.getCurrentResult().isStale):this.state.data===void 0||this.state.isInvalidated}isStaleByTime(n=0){return this.state.data===void 0?!0:n==="static"?!1:this.state.isInvalidated?!0:!Ob(this.state.dataUpdatedAt,n)}onFocus(){this.observers.find(e=>e.shouldFetchOnWindowFocus())?.refetch({cancelRefetch:!1}),this.#i?.continue()}onOnline(){this.observers.find(e=>e.shouldFetchOnReconnect())?.refetch({cancelRefetch:!1}),this.#i?.continue()}addObserver(n){this.observers.includes(n)||(this.observers.push(n),this.clearGcTimeout(),this.#s.notify({type:"observerAdded",query:this,observer:n}))}removeObserver(n){this.observers.includes(n)&&(this.observers=this.observers.filter(e=>e!==n),this.observers.length||(this.#i&&(this.#o?this.#i.cancel({revert:!0}):this.#i.cancelRetry()),this.scheduleGc()),this.#s.notify({type:"observerRemoved",query:this,observer:n}))}getObserversCount(){return this.observers.length}invalidate(){this.state.isInvalidated||this.#a({type:"invalidate"})}async fetch(n,e){if(this.state.fetchStatus!=="idle"&&this.#i?.status()!=="rejected"){if(this.state.data!==void 0&&e?.cancelRefetch)this.cancel({silent:!0});else if(this.#i)return this.#i.continueRetry(),this.#i.promise}if(n&&this.setOptions(n),!this.options.queryFn){const c=this.observers.find(u=>u.options.queryFn);c&&this.setOptions(c.options)}const t=new AbortController,s=c=>{Object.defineProperty(c,"signal",{enumerable:!0,get:()=>(this.#o=!0,t.signal)})},i=()=>{const c=Bb(this.options,e),h=(()=>{const f={client:this.#n,queryKey:this.queryKey,meta:this.meta};return s(f),f})();return this.#o=!1,this.options.persister?this.options.persister(c,h,this):c(h)},o=(()=>{const c={fetchOptions:e,options:this.options,queryKey:this.queryKey,client:this.#n,state:this.state,fetchFn:i};return s(c),c})();this.options.behavior?.onFetch(o,this),this.#t=this.state,(this.state.fetchStatus==="idle"||this.state.fetchMeta!==o.fetchOptions?.meta)&&this.#a({type:"fetch",meta:o.fetchOptions?.meta}),this.#i=Vb({initialPromise:e?.initialPromise,fn:o.fetchFn,onCancel:c=>{c instanceof Bf&&c.revert&&this.setState({...this.#t,fetchStatus:"idle"}),t.abort()},onFail:(c,u)=>{this.#a({type:"failed",failureCount:c,error:u})},onPause:()=>{this.#a({type:"pause"})},onContinue:()=>{this.#a({type:"continue"})},retry:o.options.retry,retryDelay:o.options.retryDelay,networkMode:o.options.networkMode,canRun:()=>!0});try{const c=await this.#i.start();if(c===void 0)throw new Error(`${this.queryHash} data is undefined`);return this.setData(c),this.#s.config.onSuccess?.(c,this),this.#s.config.onSettled?.(c,this.state.error,this),c}catch(c){if(c instanceof Bf){if(c.silent)return this.#i.promise;if(c.revert){if(this.state.data===void 0)throw c;return this.state.data}}throw this.#a({type:"error",error:c}),this.#s.config.onError?.(c,this),this.#s.config.onSettled?.(this.state.data,c,this),c}finally{this.scheduleGc()}}#a(n){const e=t=>{switch(n.type){case"failed":return{...t,fetchFailureCount:n.failureCount,fetchFailureReason:n.error};case"pause":return{...t,fetchStatus:"paused"};case"continue":return{...t,fetchStatus:"fetching"};case"fetch":return{...t,...Hb(t.data,this.options),fetchMeta:n.meta??null};case"success":const s={...t,...wv(n.data,n.dataUpdatedAt),dataUpdateCount:t.dataUpdateCount+1,...!n.manual&&{fetchStatus:"idle",fetchFailureCount:0,fetchFailureReason:null}};return this.#t=n.manual?s:void 0,s;case"error":const i=n.error;return{...t,error:i,errorUpdateCount:t.errorUpdateCount+1,errorUpdatedAt:Date.now(),fetchFailureCount:t.fetchFailureCount+1,fetchFailureReason:i,fetchStatus:"idle",status:"error"};case"invalidate":return{...t,isInvalidated:!0};case"setState":return{...t,...n.state}}};this.state=e(this.state),jt.batch(()=>{this.observers.forEach(t=>{t.onQueryUpdate()}),this.#s.notify({query:this,type:"updated",action:n})})}};function Hb(n,e){return{fetchFailureCount:0,fetchFailureReason:null,fetchStatus:$b(e.networkMode)?"fetching":"paused",...n===void 0&&{error:null,status:"pending"}}}function wv(n,e){return{data:n,dataUpdatedAt:e??Date.now(),error:null,isInvalidated:!1,status:"success"}}function xv(n){const e=typeof n.initialData=="function"?n.initialData():n.initialData,t=e!==void 0,s=t?typeof n.initialDataUpdatedAt=="function"?n.initialDataUpdatedAt():n.initialDataUpdatedAt:0;return{data:e,dataUpdateCount:0,dataUpdatedAt:t?s??Date.now():0,error:null,errorUpdateCount:0,errorUpdatedAt:0,fetchFailureCount:0,fetchFailureReason:null,fetchMeta:null,isInvalidated:!1,status:t?"success":"pending",fetchStatus:"idle"}}var ST=class extends Co{constructor(n,e){super(),this.options=e,this.#e=n,this.#a=null,this.#o=jf(),this.bindMethods(),this.setOptions(e)}#e;#t=void 0;#s=void 0;#n=void 0;#i;#r;#o;#a;#c;#l;#d;#h;#f;#g;#p=new Set;bindMethods(){this.refetch=this.refetch.bind(this)}onSubscribe(){this.listeners.size===1&&(this.#t.addObserver(this),bv(this.#t,this.options)?this.#u():this.updateResult(),this.#v())}onUnsubscribe(){this.hasListeners()||this.destroy()}shouldFetchOnReconnect(){return zf(this.#t,this.options,this.options.refetchOnReconnect)}shouldFetchOnWindowFocus(){return zf(this.#t,this.options,this.options.refetchOnWindowFocus)}destroy(){this.listeners=new Set,this.#E(),this.#A(),this.#t.removeObserver(this)}setOptions(n){const e=this.options,t=this.#t;if(this.options=this.#e.defaultQueryOptions(n),this.options.enabled!==void 0&&typeof this.options.enabled!="boolean"&&typeof this.options.enabled!="function"&&typeof Jn(this.options.enabled,this.#t)!="boolean")throw new Error("Expected enabled to be a boolean or a callback that returns a boolean");this.#x(),this.#t.setOptions(this.options),e._defaulted&&!hu(this.options,e)&&this.#e.getQueryCache().notify({type:"observerOptionsUpdated",query:this.#t,observer:this});const s=this.hasListeners();s&&Av(this.#t,t,this.options,e)&&this.#u(),this.updateResult(),s&&(this.#t!==t||Jn(this.options.enabled,this.#t)!==Jn(e.enabled,this.#t)||Pi(this.options.staleTime,this.#t)!==Pi(e.staleTime,this.#t))&&this.#m();const i=this.#y();s&&(this.#t!==t||Jn(this.options.enabled,this.#t)!==Jn(e.enabled,this.#t)||i!==this.#g)&&this.#w(i)}getOptimisticResult(n){const e=this.#e.getQueryCache().build(this.#e,n),t=this.createResult(e,n);return _T(this,t)&&(this.#n=t,this.#r=this.options,this.#i=this.#t.state),t}getCurrentResult(){return this.#n}trackResult(n,e){return new Proxy(n,{get:(t,s)=>(this.trackProp(s),e?.(s),s==="promise"&&(this.trackProp("data"),!this.options.experimental_prefetchInRender&&this.#o.status==="pending"&&this.#o.reject(new Error("experimental_prefetchInRender feature flag is not enabled"))),Reflect.get(t,s))})}trackProp(n){this.#p.add(n)}getCurrentQuery(){return this.#t}refetch({...n}={}){return this.fetch({...n})}fetchOptimistic(n){const e=this.#e.defaultQueryOptions(n),t=this.#e.getQueryCache().build(this.#e,e);return t.fetch().then(()=>this.createResult(t,e))}fetch(n){return this.#u({...n,cancelRefetch:n.cancelRefetch??!0}).then(()=>(this.updateResult(),this.#n))}#u(n){this.#x();let e=this.#t.fetch(this.options,n);return n?.throwOnError||(e=e.catch(gn)),e}#m(){this.#E();const n=Pi(this.options.staleTime,this.#t);if(cr||this.#n.isStale||!Lf(n))return;const t=Ob(this.#n.dataUpdatedAt,n)+1;this.#h=er.setTimeout(()=>{this.#n.isStale||this.updateResult()},t)}#y(){return(typeof this.options.refetchInterval=="function"?this.options.refetchInterval(this.#t):this.options.refetchInterval)??!1}#w(n){this.#A(),this.#g=n,!(cr||Jn(this.options.enabled,this.#t)===!1||!Lf(this.#g)||this.#g===0)&&(this.#f=er.setInterval(()=>{(this.options.refetchIntervalInBackground||Kp.isFocused())&&this.#u()},this.#g))}#v(){this.#m(),this.#w(this.#y())}#E(){this.#h&&(er.clearTimeout(this.#h),this.#h=void 0)}#A(){this.#f&&(er.clearInterval(this.#f),this.#f=void 0)}createResult(n,e){const t=this.#t,s=this.options,i=this.#n,r=this.#i,o=this.#r,u=n!==t?n.state:this.#s,{state:h}=n;let f={...h},p=!1,g;if(e._optimisticResults){const I=this.hasListeners(),$=!I&&bv(n,e),q=I&&Av(n,t,e,s);($||q)&&(f={...f,...Hb(h.data,n.options)}),e._optimisticResults==="isRestoring"&&(f.fetchStatus="idle")}let{error:w,errorUpdatedAt:A,status:x}=f;g=f.data;let S=!1;if(e.placeholderData!==void 0&&g===void 0&&x==="pending"){let I;i?.isPlaceholderData&&e.placeholderData===o?.placeholderData?(I=i.data,S=!0):I=typeof e.placeholderData=="function"?e.placeholderData(this.#d?.state.data,this.#d):e.placeholderData,I!==void 0&&(x="success",g=Of(i?.data,I,e),p=!0)}if(e.select&&g!==void 0&&!S)if(i&&g===r?.data&&e.select===this.#c)g=this.#l;else try{this.#c=e.select,g=e.select(g),g=Of(i?.data,g,e),this.#l=g,this.#a=null}catch(I){this.#a=I}this.#a&&(w=this.#a,g=this.#l,A=Date.now(),x="error");const E=f.fetchStatus==="fetching",_=x==="pending",k=x==="error",T=_&&E,P=g!==void 0,M={status:x,fetchStatus:f.fetchStatus,isPending:_,isSuccess:x==="success",isError:k,isInitialLoading:T,isLoading:T,data:g,dataUpdatedAt:f.dataUpdatedAt,error:w,errorUpdatedAt:A,failureCount:f.fetchFailureCount,failureReason:f.fetchFailureReason,errorUpdateCount:f.errorUpdateCount,isFetched:f.dataUpdateCount>0||f.errorUpdateCount>0,isFetchedAfterMount:f.dataUpdateCount>u.dataUpdateCount||f.errorUpdateCount>u.errorUpdateCount,isFetching:E,isRefetching:E&&!_,isLoadingError:k&&!P,isPaused:f.fetchStatus==="paused",isPlaceholderData:p,isRefetchError:k&&P,isStale:Xp(n,e),refetch:this.refetch,promise:this.#o,isEnabled:Jn(e.enabled,n)!==!1};if(this.options.experimental_prefetchInRender){const I=Z=>{M.status==="error"?Z.reject(M.error):M.data!==void 0&&Z.resolve(M.data)},$=()=>{const Z=this.#o=M.promise=jf();I(Z)},q=this.#o;switch(q.status){case"pending":n.queryHash===t.queryHash&&I(q);break;case"fulfilled":(M.status==="error"||M.data!==q.value)&&$();break;case"rejected":(M.status!=="error"||M.error!==q.reason)&&$();break}}return M}updateResult(){const n=this.#n,e=this.createResult(this.#t,this.options);if(this.#i=this.#t.state,this.#r=this.options,this.#i.data!==void 0&&(this.#d=this.#t),hu(e,n))return;this.#n=e;const t=()=>{if(!n)return!0;const{notifyOnChangeProps:s}=this.options,i=typeof s=="function"?s():s;if(i==="all"||!i&&!this.#p.size)return!0;const r=new Set(i??this.#p);return this.options.throwOnError&&r.add("error"),Object.keys(this.#n).some(o=>{const c=o;return this.#n[c]!==n[c]&&r.has(c)})};this.#C({listeners:t()})}#x(){const n=this.#e.getQueryCache().build(this.#e,this.options);if(n===this.#t)return;const e=this.#t;this.#t=n,this.#s=n.state,this.hasListeners()&&(e?.removeObserver(this),n.addObserver(this))}onQueryUpdate(){this.updateResult(),this.hasListeners()&&this.#v()}#C(n){jt.batch(()=>{n.listeners&&this.listeners.forEach(e=>{e(this.#n)}),this.#e.getQueryCache().notify({query:this.#t,type:"observerResultsUpdated"})})}};function ET(n,e){return Jn(e.enabled,n)!==!1&&n.state.data===void 0&&!(n.state.status==="error"&&e.retryOnMount===!1)}function bv(n,e){return ET(n,e)||n.state.data!==void 0&&zf(n,e,e.refetchOnMount)}function zf(n,e,t){if(Jn(e.enabled,n)!==!1&&Pi(e.staleTime,n)!=="static"){const s=typeof t=="function"?t(n):t;return s==="always"||s!==!1&&Xp(n,e)}return!1}function Av(n,e,t,s){return(n!==e||Jn(s.enabled,n)===!1)&&(!t.suspense||n.state.status!=="error")&&Xp(n,t)}function Xp(n,e){return Jn(e.enabled,n)!==!1&&n.isStaleByTime(Pi(e.staleTime,n))}function _T(n,e){return!hu(n.getCurrentResult(),e)}function Sv(n){return{onFetch:(e,t)=>{const s=e.options,i=e.fetchOptions?.meta?.fetchMore?.direction,r=e.state.data?.pages||[],o=e.state.data?.pageParams||[];let c={pages:[],pageParams:[]},u=0;const h=async()=>{let f=!1;const p=A=>{Object.defineProperty(A,"signal",{enumerable:!0,get:()=>(e.signal.aborted?f=!0:e.signal.addEventListener("abort",()=>{f=!0}),e.signal)})},g=Bb(e.options,e.fetchOptions),w=async(A,x,S)=>{if(f)return Promise.reject();if(x==null&&A.pages.length)return Promise.resolve(A);const _=(()=>{const N={client:e.client,queryKey:e.queryKey,pageParam:x,direction:S?"backward":"forward",meta:e.options.meta};return p(N),N})(),k=await g(_),{maxPages:T}=e.options,P=S?gT:mT;return{pages:P(A.pages,k,T),pageParams:P(A.pageParams,x,T)}};if(i&&r.length){const A=i==="backward",x=A?CT:Ev,S={pages:r,pageParams:o},E=x(s,S);c=await w(S,E,A)}else{const A=n??r.length;do{const x=u===0?o[0]??s.initialPageParam:Ev(s,c);if(u>0&&x==null)break;c=await w(c,x),u++}while(u<A)}return c};e.options.persister?e.fetchFn=()=>e.options.persister?.(h,{client:e.client,queryKey:e.queryKey,meta:e.options.meta,signal:e.signal},t):e.fetchFn=h}}}function Ev(n,{pages:e,pageParams:t}){const s=e.length-1;return e.length>0?n.getNextPageParam(e[s],e,t[s],t):void 0}function CT(n,{pages:e,pageParams:t}){return e.length>0?n.getPreviousPageParam?.(e[0],e,t[0],t):void 0}var kT=class extends Ub{#e;#t;#s;#n;constructor(n){super(),this.#e=n.client,this.mutationId=n.mutationId,this.#s=n.mutationCache,this.#t=[],this.state=n.state||Wb(),this.setOptions(n.options),this.scheduleGc()}setOptions(n){this.options=n,this.updateGcTime(this.options.gcTime)}get meta(){return this.options.meta}addObserver(n){this.#t.includes(n)||(this.#t.push(n),this.clearGcTimeout(),this.#s.notify({type:"observerAdded",mutation:this,observer:n}))}removeObserver(n){this.#t=this.#t.filter(e=>e!==n),this.scheduleGc(),this.#s.notify({type:"observerRemoved",mutation:this,observer:n})}optionalRemove(){this.#t.length||(this.state.status==="pending"?this.scheduleGc():this.#s.remove(this))}continue(){return this.#n?.continue()??this.execute(this.state.variables)}async execute(n){const e=()=>{this.#i({type:"continue"})},t={client:this.#e,meta:this.options.meta,mutationKey:this.options.mutationKey};this.#n=Vb({fn:()=>this.options.mutationFn?this.options.mutationFn(n,t):Promise.reject(new Error("No mutationFn found")),onFail:(r,o)=>{this.#i({type:"failed",failureCount:r,error:o})},onPause:()=>{this.#i({type:"pause"})},onContinue:e,retry:this.options.retry??0,retryDelay:this.options.retryDelay,networkMode:this.options.networkMode,canRun:()=>this.#s.canRun(this)});const s=this.state.status==="pending",i=!this.#n.canStart();try{if(s)e();else{this.#i({type:"pending",variables:n,isPaused:i}),await this.#s.config.onMutate?.(n,this,t);const o=await this.options.onMutate?.(n,t);o!==this.state.context&&this.#i({type:"pending",context:o,variables:n,isPaused:i})}const r=await this.#n.start();return await this.#s.config.onSuccess?.(r,n,this.state.context,this,t),await this.options.onSuccess?.(r,n,this.state.context,t),await this.#s.config.onSettled?.(r,null,this.state.variables,this.state.context,this,t),await this.options.onSettled?.(r,null,n,this.state.context,t),this.#i({type:"success",data:r}),r}catch(r){try{throw await this.#s.config.onError?.(r,n,this.state.context,this,t),await this.options.onError?.(r,n,this.state.context,t),await this.#s.config.onSettled?.(void 0,r,this.state.variables,this.state.context,this,t),await this.options.onSettled?.(void 0,r,n,this.state.context,t),r}finally{this.#i({type:"error",error:r})}}finally{this.#s.runNext(this)}}#i(n){const e=t=>{switch(n.type){case"failed":return{...t,failureCount:n.failureCount,failureReason:n.error};case"pause":return{...t,isPaused:!0};case"continue":return{...t,isPaused:!1};case"pending":return{...t,context:n.context,data:void 0,failureCount:0,failureReason:null,error:null,isPaused:n.isPaused,status:"pending",variables:n.variables,submittedAt:Date.now()};case"success":return{...t,data:n.data,failureCount:0,failureReason:null,error:null,status:"success",isPaused:!1};case"error":return{...t,data:void 0,error:n.error,failureCount:t.failureCount+1,failureReason:n.error,isPaused:!1,status:"error"}}};this.state=e(this.state),jt.batch(()=>{this.#t.forEach(t=>{t.onMutationUpdate(n)}),this.#s.notify({mutation:this,type:"updated",action:n})})}};function Wb(){return{context:void 0,data:void 0,error:null,failureCount:0,failureReason:null,isPaused:!1,status:"idle",variables:void 0,submittedAt:0}}var TT=class extends Co{constructor(n={}){super(),this.config=n,this.#e=new Set,this.#t=new Map,this.#s=0}#e;#t;#s;build(n,e,t){const s=new kT({client:n,mutationCache:this,mutationId:++this.#s,options:n.defaultMutationOptions(e),state:t});return this.add(s),s}add(n){this.#e.add(n);const e=Nc(n);if(typeof e=="string"){const t=this.#t.get(e);t?t.push(n):this.#t.set(e,[n])}this.notify({type:"added",mutation:n})}remove(n){if(this.#e.delete(n)){const e=Nc(n);if(typeof e=="string"){const t=this.#t.get(e);if(t)if(t.length>1){const s=t.indexOf(n);s!==-1&&t.splice(s,1)}else t[0]===n&&this.#t.delete(e)}}this.notify({type:"removed",mutation:n})}canRun(n){const e=Nc(n);if(typeof e=="string"){const s=this.#t.get(e)?.find(i=>i.state.status==="pending");return!s||s===n}else return!0}runNext(n){const e=Nc(n);return typeof e=="string"?this.#t.get(e)?.find(s=>s!==n&&s.state.isPaused)?.continue()??Promise.resolve():Promise.resolve()}clear(){jt.batch(()=>{this.#e.forEach(n=>{this.notify({type:"removed",mutation:n})}),this.#e.clear(),this.#t.clear()})}getAll(){return Array.from(this.#e)}find(n){const e={exact:!0,...n};return this.getAll().find(t=>gv(e,t))}findAll(n={}){return this.getAll().filter(e=>gv(n,e))}notify(n){jt.batch(()=>{this.listeners.forEach(e=>{e(n)})})}resumePausedMutations(){const n=this.getAll().filter(e=>e.state.isPaused);return jt.batch(()=>Promise.all(n.map(e=>e.continue().catch(gn))))}};function Nc(n){return n.options.scope?.id}var PT=class extends Co{#e;#t=void 0;#s;#n;constructor(e,t){super(),this.#e=e,this.setOptions(t),this.bindMethods(),this.#i()}bindMethods(){this.mutate=this.mutate.bind(this),this.reset=this.reset.bind(this)}setOptions(e){const t=this.options;this.options=this.#e.defaultMutationOptions(e),hu(this.options,t)||this.#e.getMutationCache().notify({type:"observerOptionsUpdated",mutation:this.#s,observer:this}),t?.mutationKey&&this.options.mutationKey&&ur(t.mutationKey)!==ur(this.options.mutationKey)?this.reset():this.#s?.state.status==="pending"&&this.#s.setOptions(this.options)}onUnsubscribe(){this.hasListeners()||this.#s?.removeObserver(this)}onMutationUpdate(e){this.#i(),this.#r(e)}getCurrentResult(){return this.#t}reset(){this.#s?.removeObserver(this),this.#s=void 0,this.#i(),this.#r()}mutate(e,t){return this.#n=t,this.#s?.removeObserver(this),this.#s=this.#e.getMutationCache().build(this.#e,this.options),this.#s.addObserver(this),this.#s.execute(e)}#i(){const e=this.#s?.state??Wb();this.#t={...e,isPending:e.status==="pending",isSuccess:e.status==="success",isError:e.status==="error",isIdle:e.status==="idle",mutate:this.mutate,reset:this.reset}}#r(e){jt.batch(()=>{if(this.#n&&this.hasListeners()){const t=this.#t.variables,s=this.#t.context,i={client:this.#e,meta:this.options.meta,mutationKey:this.options.mutationKey};e?.type==="success"?(this.#n.onSuccess?.(e.data,t,s,i),this.#n.onSettled?.(e.data,null,t,s,i)):e?.type==="error"&&(this.#n.onError?.(e.error,t,s,i),this.#n.onSettled?.(void 0,e.error,t,s,i))}this.listeners.forEach(t=>{t(this.#t)})})}},FT=class extends Co{constructor(n={}){super(),this.config=n,this.#e=new Map}#e;build(n,e,t){const s=e.queryKey,i=e.queryHash??Gp(s,e);let r=this.get(i);return r||(r=new AT({client:n,queryKey:s,queryHash:i,options:n.defaultQueryOptions(e),state:t,defaultOptions:n.getQueryDefaults(s)}),this.add(r)),r}add(n){this.#e.has(n.queryHash)||(this.#e.set(n.queryHash,n),this.notify({type:"added",query:n}))}remove(n){const e=this.#e.get(n.queryHash);e&&(n.destroy(),e===n&&this.#e.delete(n.queryHash),this.notify({type:"removed",query:n}))}clear(){jt.batch(()=>{this.getAll().forEach(n=>{this.remove(n)})})}get(n){return this.#e.get(n)}getAll(){return[...this.#e.values()]}find(n){const e={exact:!0,...n};return this.getAll().find(t=>mv(e,t))}findAll(n={}){const e=this.getAll();return Object.keys(n).length>0?e.filter(t=>mv(n,t)):e}notify(n){jt.batch(()=>{this.listeners.forEach(e=>{e(n)})})}onFocus(){jt.batch(()=>{this.getAll().forEach(n=>{n.onFocus()})})}onOnline(){jt.batch(()=>{this.getAll().forEach(n=>{n.onOnline()})})}},RT=class{#e;#t;#s;#n;#i;#r;#o;#a;constructor(n={}){this.#e=n.queryCache||new FT,this.#t=n.mutationCache||new TT,this.#s=n.defaultOptions||{},this.#n=new Map,this.#i=new Map,this.#r=0}mount(){this.#r++,this.#r===1&&(this.#o=Kp.subscribe(async n=>{n&&(await this.resumePausedMutations(),this.#e.onFocus())}),this.#a=du.subscribe(async n=>{n&&(await this.resumePausedMutations(),this.#e.onOnline())}))}unmount(){this.#r--,this.#r===0&&(this.#o?.(),this.#o=void 0,this.#a?.(),this.#a=void 0)}isFetching(n){return this.#e.findAll({...n,fetchStatus:"fetching"}).length}isMutating(n){return this.#t.findAll({...n,status:"pending"}).length}getQueryData(n){const e=this.defaultQueryOptions({queryKey:n});return this.#e.get(e.queryHash)?.state.data}ensureQueryData(n){const e=this.defaultQueryOptions(n),t=this.#e.build(this,e),s=t.state.data;return s===void 0?this.fetchQuery(n):(n.revalidateIfStale&&t.isStaleByTime(Pi(e.staleTime,t))&&this.prefetchQuery(e),Promise.resolve(s))}getQueriesData(n){return this.#e.findAll(n).map(({queryKey:e,state:t})=>{const s=t.data;return[e,s]})}setQueryData(n,e,t){const s=this.defaultQueryOptions({queryKey:n}),r=this.#e.get(s.queryHash)?.state.data,o=dT(e,r);if(o!==void 0)return this.#e.build(this,s).setData(o,{...t,manual:!0})}setQueriesData(n,e,t){return jt.batch(()=>this.#e.findAll(n).map(({queryKey:s})=>[s,this.setQueryData(s,e,t)]))}getQueryState(n){const e=this.defaultQueryOptions({queryKey:n});return this.#e.get(e.queryHash)?.state}removeQueries(n){const e=this.#e;jt.batch(()=>{e.findAll(n).forEach(t=>{e.remove(t)})})}resetQueries(n,e){const t=this.#e;return jt.batch(()=>(t.findAll(n).forEach(s=>{s.reset()}),this.refetchQueries({type:"active",...n},e)))}cancelQueries(n,e={}){const t={revert:!0,...e},s=jt.batch(()=>this.#e.findAll(n).map(i=>i.cancel(t)));return Promise.all(s).then(gn).catch(gn)}invalidateQueries(n,e={}){return jt.batch(()=>(this.#e.findAll(n).forEach(t=>{t.invalidate()}),n?.refetchType==="none"?Promise.resolve():this.refetchQueries({...n,type:n?.refetchType??n?.type??"active"},e)))}refetchQueries(n,e={}){const t={...e,cancelRefetch:e.cancelRefetch??!0},s=jt.batch(()=>this.#e.findAll(n).filter(i=>!i.isDisabled()&&!i.isStatic()).map(i=>{let r=i.fetch(void 0,t);return t.throwOnError||(r=r.catch(gn)),i.state.fetchStatus==="paused"?Promise.resolve():r}));return Promise.all(s).then(gn)}fetchQuery(n){const e=this.defaultQueryOptions(n);e.retry===void 0&&(e.retry=!1);const t=this.#e.build(this,e);return t.isStaleByTime(Pi(e.staleTime,t))?t.fetch(e):Promise.resolve(t.state.data)}prefetchQuery(n){return this.fetchQuery(n).then(gn).catch(gn)}fetchInfiniteQuery(n){return n.behavior=Sv(n.pages),this.fetchQuery(n)}prefetchInfiniteQuery(n){return this.fetchInfiniteQuery(n).then(gn).catch(gn)}ensureInfiniteQueryData(n){return n.behavior=Sv(n.pages),this.ensureQueryData(n)}resumePausedMutations(){return du.isOnline()?this.#t.resumePausedMutations():Promise.resolve()}getQueryCache(){return this.#e}getMutationCache(){return this.#t}getDefaultOptions(){return this.#s}setDefaultOptions(n){this.#s=n}setQueryDefaults(n,e){this.#n.set(ur(n),{queryKey:n,defaultOptions:e})}getQueryDefaults(n){const e=[...this.#n.values()],t={};return e.forEach(s=>{Ba(n,s.queryKey)&&Object.assign(t,s.defaultOptions)}),t}setMutationDefaults(n,e){this.#i.set(ur(n),{mutationKey:n,defaultOptions:e})}getMutationDefaults(n){const e=[...this.#i.values()],t={};return e.forEach(s=>{Ba(n,s.mutationKey)&&Object.assign(t,s.defaultOptions)}),t}defaultQueryOptions(n){if(n._defaulted)return n;const e={...this.#s.queries,...this.getQueryDefaults(n.queryKey),...n,_defaulted:!0};return e.queryHash||(e.queryHash=Gp(e.queryKey,e)),e.refetchOnReconnect===void 0&&(e.refetchOnReconnect=e.networkMode!=="always"),e.throwOnError===void 0&&(e.throwOnError=!!e.suspense),!e.networkMode&&e.persister&&(e.networkMode="offlineFirst"),e.queryFn===qp&&(e.enabled=!1),e}defaultMutationOptions(n){return n?._defaulted?n:{...this.#s.mutations,...n?.mutationKey&&this.getMutationDefaults(n.mutationKey),...n,_defaulted:!0}}clear(){this.#e.clear(),this.#t.clear()}},Gb=F.createContext(void 0),Mu=n=>{const e=F.useContext(Gb);if(!e)throw new Error("No QueryClient set, use QueryClientProvider to set one");return e},NT=({client:n,children:e})=>(F.useEffect(()=>(n.mount(),()=>{n.unmount()}),[n]),y.jsx(Gb.Provider,{value:n,children:e})),qb=F.createContext(!1),MT=()=>F.useContext(qb);qb.Provider;function DT(){let n=!1;return{clearReset:()=>{n=!1},reset:()=>{n=!0},isReset:()=>n}}var LT=F.createContext(DT()),IT=()=>F.useContext(LT),OT=(n,e)=>{(n.suspense||n.throwOnError||n.experimental_prefetchInRender)&&(e.isReset()||(n.retryOnMount=!1))},jT=n=>{F.useEffect(()=>{n.clearReset()},[n])},BT=({result:n,errorResetBoundary:e,throwOnError:t,query:s,suspense:i})=>n.isError&&!e.isReset()&&!n.isFetching&&s&&(i&&n.data===void 0||zb(t,[n.error,s])),zT=n=>{if(n.suspense){const t=i=>i==="static"?i:Math.max(i??1e3,1e3),s=n.staleTime;n.staleTime=typeof s=="function"?(...i)=>t(s(...i)):t(s),typeof n.gcTime=="number"&&(n.gcTime=Math.max(n.gcTime,1e3))}},$T=(n,e)=>n.isLoading&&n.isFetching&&!e,VT=(n,e)=>n?.suspense&&e.isPending,_v=(n,e,t)=>e.fetchOptimistic(n).catch(()=>{t.clearReset()});function UT(n,e,t){const s=MT(),i=IT(),r=Mu(),o=r.defaultQueryOptions(n);r.getDefaultOptions().queries?._experimental_beforeQuery?.(o),o._optimisticResults=s?"isRestoring":"optimistic",zT(o),OT(o,i),jT(i);const c=!r.getQueryCache().get(o.queryHash),[u]=F.useState(()=>new e(r,o)),h=u.getOptimisticResult(o),f=!s&&n.subscribed!==!1;if(F.useSyncExternalStore(F.useCallback(p=>{const g=f?u.subscribe(jt.batchCalls(p)):gn;return u.updateResult(),g},[u,f]),()=>u.getCurrentResult(),()=>u.getCurrentResult()),F.useEffect(()=>{u.setOptions(o)},[o,u]),VT(o,h))throw _v(o,u,i);if(BT({result:h,errorResetBoundary:i,throwOnError:o.throwOnError,query:r.getQueryCache().get(o.queryHash),suspense:o.suspense}))throw h.error;return r.getDefaultOptions().queries?._experimental_afterQuery?.(o,h),o.experimental_prefetchInRender&&!cr&&$T(h,s)&&(c?_v(o,u,i):r.getQueryCache().get(o.queryHash)?.promise)?.catch(gn).finally(()=>{u.updateResult()}),o.notifyOnChangeProps?h:u.trackResult(h)}function Du(n,e){return UT(n,ST)}function $f(n,e){const t=Mu(),[s]=F.useState(()=>new PT(t,n));F.useEffect(()=>{s.setOptions(n)},[s,n]);const i=F.useSyncExternalStore(F.useCallback(o=>s.subscribe(jt.batchCalls(o)),[s]),()=>s.getCurrentResult(),()=>s.getCurrentResult()),r=F.useCallback((o,c)=>{s.mutate(o,c).catch(gn)},[s]);if(i.error&&zb(s.options.throwOnError,[i.error]))throw i.error;return{...i,mutate:r,mutateAsync:i.mutate}}const HT=new RT,Kb=F.createContext({});function WT(n){const e=F.useRef(null);return e.current===null&&(e.current=n()),e.current}const Zp=typeof window<"u",GT=Zp?F.useLayoutEffect:F.useEffect,Yp=F.createContext(null);function Qp(n,e){n.indexOf(e)===-1&&n.push(e)}function Jp(n,e){const t=n.indexOf(e);t>-1&&n.splice(t,1)}const ti=(n,e,t)=>t>e?e:t<n?n:t;let em=()=>{};const ni={},Xb=n=>/^-?(?:\d+(?:\.\d+)?|\.\d+)$/u.test(n);function Zb(n){return typeof n=="object"&&n!==null}const Yb=n=>/^0[^.\s]+$/u.test(n);function tm(n){let e;return()=>(e===void 0&&(e=n()),e)}const ts=n=>n,qT=(n,e)=>t=>e(n(t)),il=(...n)=>n.reduce(qT),za=(n,e,t)=>{const s=e-n;return s===0?1:(t-n)/s};class nm{constructor(){this.subscriptions=[]}add(e){return Qp(this.subscriptions,e),()=>Jp(this.subscriptions,e)}notify(e,t,s){const i=this.subscriptions.length;if(i)if(i===1)this.subscriptions[0](e,t,s);else for(let r=0;r<i;r++){const o=this.subscriptions[r];o&&o(e,t,s)}}getSize(){return this.subscriptions.length}clear(){this.subscriptions.length=0}}const Ls=n=>n*1e3,es=n=>n/1e3;function Qb(n,e){return e?n*(1e3/e):0}const Jb=(n,e,t)=>(((1-3*t+3*e)*n+(3*t-6*e))*n+3*e)*n,KT=1e-7,XT=12;function ZT(n,e,t,s,i){let r,o,c=0;do o=e+(t-e)/2,r=Jb(o,s,i)-n,r>0?t=o:e=o;while(Math.abs(r)>KT&&++c<XT);return o}function rl(n,e,t,s){if(n===e&&t===s)return ts;const i=r=>ZT(r,0,1,n,t);return r=>r===0||r===1?r:Jb(i(r),e,s)}const e1=n=>e=>e<=.5?n(2*e)/2:(2-n(2*(1-e)))/2,t1=n=>e=>1-n(1-e),n1=rl(.33,1.53,.69,.99),sm=t1(n1),s1=e1(sm),i1=n=>(n*=2)<1?.5*sm(n):.5*(2-Math.pow(2,-10*(n-1))),im=n=>1-Math.sin(Math.acos(n)),r1=t1(im),o1=e1(im),YT=rl(.42,0,1,1),QT=rl(0,0,.58,1),a1=rl(.42,0,.58,1),JT=n=>Array.isArray(n)&&typeof n[0]!="number",l1=n=>Array.isArray(n)&&typeof n[0]=="number",eP={linear:ts,easeIn:YT,easeInOut:a1,easeOut:QT,circIn:im,circInOut:o1,circOut:r1,backIn:sm,backInOut:s1,backOut:n1,anticipate:i1},tP=n=>typeof n=="string",Cv=n=>{if(l1(n)){em(n.length===4);const[e,t,s,i]=n;return rl(e,t,s,i)}else if(tP(n))return eP[n];return n},Mc=["setup","read","resolveKeyframes","preUpdate","update","preRender","render","postRender"];function nP(n,e){let t=new Set,s=new Set,i=!1,r=!1;const o=new WeakSet;let c={delta:0,timestamp:0,isProcessing:!1};function u(f){o.has(f)&&(h.schedule(f),n()),f(c)}const h={schedule:(f,p=!1,g=!1)=>{const A=g&&i?t:s;return p&&o.add(f),A.has(f)||A.add(f),f},cancel:f=>{s.delete(f),o.delete(f)},process:f=>{if(c=f,i){r=!0;return}i=!0,[t,s]=[s,t],t.forEach(u),t.clear(),i=!1,r&&(r=!1,h.process(f))}};return h}const sP=40;function c1(n,e){let t=!1,s=!0;const i={delta:0,timestamp:0,isProcessing:!1},r=()=>t=!0,o=Mc.reduce((k,T)=>(k[T]=nP(r),k),{}),{setup:c,read:u,resolveKeyframes:h,preUpdate:f,update:p,preRender:g,render:w,postRender:A}=o,x=()=>{const k=ni.useManualTiming?i.timestamp:performance.now();t=!1,ni.useManualTiming||(i.delta=s?1e3/60:Math.max(Math.min(k-i.timestamp,sP),1)),i.timestamp=k,i.isProcessing=!0,c.process(i),u.process(i),h.process(i),f.process(i),p.process(i),g.process(i),w.process(i),A.process(i),i.isProcessing=!1,t&&e&&(s=!1,n(x))},S=()=>{t=!0,s=!0,i.isProcessing||n(x)};return{schedule:Mc.reduce((k,T)=>{const P=o[T];return k[T]=(N,M=!1,I=!1)=>(t||S(),P.schedule(N,M,I)),k},{}),cancel:k=>{for(let T=0;T<Mc.length;T++)o[Mc[T]].cancel(k)},state:i,steps:o}}const{schedule:ut,cancel:Ri,state:Qt,steps:rf}=c1(typeof requestAnimationFrame<"u"?requestAnimationFrame:ts,!0);let tu;function iP(){tu=void 0}const Pn={now:()=>(tu===void 0&&Pn.set(Qt.isProcessing||ni.useManualTiming?Qt.timestamp:performance.now()),tu),set:n=>{tu=n,queueMicrotask(iP)}},u1=n=>e=>typeof e=="string"&&e.startsWith(n),rm=u1("--"),rP=u1("var(--"),om=n=>rP(n)?oP.test(n.split("/*")[0].trim()):!1,oP=/var\(--(?:[\w-]+\s*|[\w-]+\s*,(?:\s*[^)(\s]|\s*\((?:[^)(]|\([^)(]*\))*\))+\s*)\)$/iu,ko={test:n=>typeof n=="number",parse:parseFloat,transform:n=>n},$a={...ko,transform:n=>ti(0,1,n)},Dc={...ko,default:1},Fa=n=>Math.round(n*1e5)/1e5,am=/-?(?:\d+(?:\.\d+)?|\.\d+)/gu;function aP(n){return n==null}const lP=/^(?:#[\da-f]{3,8}|(?:rgb|hsl)a?\((?:-?[\d.]+%?[,\s]+){2}-?[\d.]+%?\s*(?:[,/]\s*)?(?:\b\d+(?:\.\d+)?|\.\d+)?%?\))$/iu,lm=(n,e)=>t=>!!(typeof t=="string"&&lP.test(t)&&t.startsWith(n)||e&&!aP(t)&&Object.prototype.hasOwnProperty.call(t,e)),h1=(n,e,t)=>s=>{if(typeof s!="string")return s;const[i,r,o,c]=s.match(am);return{[n]:parseFloat(i),[e]:parseFloat(r),[t]:parseFloat(o),alpha:c!==void 0?parseFloat(c):1}},cP=n=>ti(0,255,n),of={...ko,transform:n=>Math.round(cP(n))},tr={test:lm("rgb","red"),parse:h1("red","green","blue"),transform:({red:n,green:e,blue:t,alpha:s=1})=>"rgba("+of.transform(n)+", "+of.transform(e)+", "+of.transform(t)+", "+Fa($a.transform(s))+")"};function uP(n){let e="",t="",s="",i="";return n.length>5?(e=n.substring(1,3),t=n.substring(3,5),s=n.substring(5,7),i=n.substring(7,9)):(e=n.substring(1,2),t=n.substring(2,3),s=n.substring(3,4),i=n.substring(4,5),e+=e,t+=t,s+=s,i+=i),{red:parseInt(e,16),green:parseInt(t,16),blue:parseInt(s,16),alpha:i?parseInt(i,16)/255:1}}const Vf={test:lm("#"),parse:uP,transform:tr.transform},ol=n=>({test:e=>typeof e=="string"&&e.endsWith(n)&&e.split(" ").length===1,parse:parseFloat,transform:e=>`${e}${n}`}),Ci=ol("deg"),Is=ol("%"),Re=ol("px"),hP=ol("vh"),dP=ol("vw"),kv={...Is,parse:n=>Is.parse(n)/100,transform:n=>Is.transform(n*100)},eo={test:lm("hsl","hue"),parse:h1("hue","saturation","lightness"),transform:({hue:n,saturation:e,lightness:t,alpha:s=1})=>"hsla("+Math.round(n)+", "+Is.transform(Fa(e))+", "+Is.transform(Fa(t))+", "+Fa($a.transform(s))+")"},Mt={test:n=>tr.test(n)||Vf.test(n)||eo.test(n),parse:n=>tr.test(n)?tr.parse(n):eo.test(n)?eo.parse(n):Vf.parse(n),transform:n=>typeof n=="string"?n:n.hasOwnProperty("red")?tr.transform(n):eo.transform(n),getAnimatableNone:n=>{const e=Mt.parse(n);return e.alpha=0,Mt.transform(e)}},fP=/(?:#[\da-f]{3,8}|(?:rgb|hsl)a?\((?:-?[\d.]+%?[,\s]+){2}-?[\d.]+%?\s*(?:[,/]\s*)?(?:\b\d+(?:\.\d+)?|\.\d+)?%?\))/giu;function pP(n){return isNaN(n)&&typeof n=="string"&&(n.match(am)?.length||0)+(n.match(fP)?.length||0)>0}const d1="number",f1="color",mP="var",gP="var(",Tv="${}",yP=/var\s*\(\s*--(?:[\w-]+\s*|[\w-]+\s*,(?:\s*[^)(\s]|\s*\((?:[^)(]|\([^)(]*\))*\))+\s*)\)|#[\da-f]{3,8}|(?:rgb|hsl)a?\((?:-?[\d.]+%?[,\s]+){2}-?[\d.]+%?\s*(?:[,/]\s*)?(?:\b\d+(?:\.\d+)?|\.\d+)?%?\)|-?(?:\d+(?:\.\d+)?|\.\d+)/giu;function Va(n){const e=n.toString(),t=[],s={color:[],number:[],var:[]},i=[];let r=0;const c=e.replace(yP,u=>(Mt.test(u)?(s.color.push(r),i.push(f1),t.push(Mt.parse(u))):u.startsWith(gP)?(s.var.push(r),i.push(mP),t.push(u)):(s.number.push(r),i.push(d1),t.push(parseFloat(u))),++r,Tv)).split(Tv);return{values:t,split:c,indexes:s,types:i}}function p1(n){return Va(n).values}function m1(n){const{split:e,types:t}=Va(n),s=e.length;return i=>{let r="";for(let o=0;o<s;o++)if(r+=e[o],i[o]!==void 0){const c=t[o];c===d1?r+=Fa(i[o]):c===f1?r+=Mt.transform(i[o]):r+=i[o]}return r}}const vP=n=>typeof n=="number"?0:Mt.test(n)?Mt.getAnimatableNone(n):n;function wP(n){const e=p1(n);return m1(n)(e.map(vP))}const Ni={test:pP,parse:p1,createTransformer:m1,getAnimatableNone:wP};function af(n,e,t){return t<0&&(t+=1),t>1&&(t-=1),t<1/6?n+(e-n)*6*t:t<1/2?e:t<2/3?n+(e-n)*(2/3-t)*6:n}function xP({hue:n,saturation:e,lightness:t,alpha:s}){n/=360,e/=100,t/=100;let i=0,r=0,o=0;if(!e)i=r=o=t;else{const c=t<.5?t*(1+e):t+e-t*e,u=2*t-c;i=af(u,c,n+1/3),r=af(u,c,n),o=af(u,c,n-1/3)}return{red:Math.round(i*255),green:Math.round(r*255),blue:Math.round(o*255),alpha:s}}function fu(n,e){return t=>t>0?e:n}const vt=(n,e,t)=>n+(e-n)*t,lf=(n,e,t)=>{const s=n*n,i=t*(e*e-s)+s;return i<0?0:Math.sqrt(i)},bP=[Vf,tr,eo],AP=n=>bP.find(e=>e.test(n));function Pv(n){const e=AP(n);if(!e)return!1;let t=e.parse(n);return e===eo&&(t=xP(t)),t}const Fv=(n,e)=>{const t=Pv(n),s=Pv(e);if(!t||!s)return fu(n,e);const i={...t};return r=>(i.red=lf(t.red,s.red,r),i.green=lf(t.green,s.green,r),i.blue=lf(t.blue,s.blue,r),i.alpha=vt(t.alpha,s.alpha,r),tr.transform(i))},Uf=new Set(["none","hidden"]);function SP(n,e){return Uf.has(n)?t=>t<=0?n:e:t=>t>=1?e:n}function EP(n,e){return t=>vt(n,e,t)}function cm(n){return typeof n=="number"?EP:typeof n=="string"?om(n)?fu:Mt.test(n)?Fv:kP:Array.isArray(n)?g1:typeof n=="object"?Mt.test(n)?Fv:_P:fu}function g1(n,e){const t=[...n],s=t.length,i=n.map((r,o)=>cm(r)(r,e[o]));return r=>{for(let o=0;o<s;o++)t[o]=i[o](r);return t}}function _P(n,e){const t={...n,...e},s={};for(const i in t)n[i]!==void 0&&e[i]!==void 0&&(s[i]=cm(n[i])(n[i],e[i]));return i=>{for(const r in s)t[r]=s[r](i);return t}}function CP(n,e){const t=[],s={color:0,var:0,number:0};for(let i=0;i<e.values.length;i++){const r=e.types[i],o=n.indexes[r][s[r]],c=n.values[o]??0;t[i]=c,s[r]++}return t}const kP=(n,e)=>{const t=Ni.createTransformer(e),s=Va(n),i=Va(e);return s.indexes.var.length===i.indexes.var.length&&s.indexes.color.length===i.indexes.color.length&&s.indexes.number.length>=i.indexes.number.length?Uf.has(n)&&!i.values.length||Uf.has(e)&&!s.values.length?SP(n,e):il(g1(CP(s,i),i.values),t):fu(n,e)};function y1(n,e,t){return typeof n=="number"&&typeof e=="number"&&typeof t=="number"?vt(n,e,t):cm(n)(n,e)}const TP=n=>{const e=({timestamp:t})=>n(t);return{start:(t=!0)=>ut.update(e,t),stop:()=>Ri(e),now:()=>Qt.isProcessing?Qt.timestamp:Pn.now()}},v1=(n,e,t=10)=>{let s="";const i=Math.max(Math.round(e/t),2);for(let r=0;r<i;r++)s+=Math.round(n(r/(i-1))*1e4)/1e4+", ";return`linear(${s.substring(0,s.length-2)})`},pu=2e4;function um(n){let e=0;const t=50;let s=n.next(e);for(;!s.done&&e<pu;)e+=t,s=n.next(e);return e>=pu?1/0:e}function PP(n,e=100,t){const s=t({...n,keyframes:[0,e]}),i=Math.min(um(s),pu);return{type:"keyframes",ease:r=>s.next(i*r).value/e,duration:es(i)}}const FP=5;function w1(n,e,t){const s=Math.max(e-FP,0);return Qb(t-n(s),e-s)}const At={stiffness:100,damping:10,mass:1,velocity:0,duration:800,bounce:.3,visualDuration:.3,restSpeed:{granular:.01,default:2},restDelta:{granular:.005,default:.5},minDuration:.01,maxDuration:10,minDamping:.05,maxDamping:1},cf=.001;function RP({duration:n=At.duration,bounce:e=At.bounce,velocity:t=At.velocity,mass:s=At.mass}){let i,r,o=1-e;o=ti(At.minDamping,At.maxDamping,o),n=ti(At.minDuration,At.maxDuration,es(n)),o<1?(i=h=>{const f=h*o,p=f*n,g=f-t,w=Hf(h,o),A=Math.exp(-p);return cf-g/w*A},r=h=>{const p=h*o*n,g=p*t+t,w=Math.pow(o,2)*Math.pow(h,2)*n,A=Math.exp(-p),x=Hf(Math.pow(h,2),o);return(-i(h)+cf>0?-1:1)*((g-w)*A)/x}):(i=h=>{const f=Math.exp(-h*n),p=(h-t)*n+1;return-cf+f*p},r=h=>{const f=Math.exp(-h*n),p=(t-h)*(n*n);return f*p});const c=5/n,u=MP(i,r,c);if(n=Ls(n),isNaN(u))return{stiffness:At.stiffness,damping:At.damping,duration:n};{const h=Math.pow(u,2)*s;return{stiffness:h,damping:o*2*Math.sqrt(s*h),duration:n}}}const NP=12;function MP(n,e,t){let s=t;for(let i=1;i<NP;i++)s=s-n(s)/e(s);return s}function Hf(n,e){return n*Math.sqrt(1-e*e)}const DP=["duration","bounce"],LP=["stiffness","damping","mass"];function Rv(n,e){return e.some(t=>n[t]!==void 0)}function IP(n){let e={velocity:At.velocity,stiffness:At.stiffness,damping:At.damping,mass:At.mass,isResolvedFromDuration:!1,...n};if(!Rv(n,LP)&&Rv(n,DP))if(n.visualDuration){const t=n.visualDuration,s=2*Math.PI/(t*1.2),i=s*s,r=2*ti(.05,1,1-(n.bounce||0))*Math.sqrt(i);e={...e,mass:At.mass,stiffness:i,damping:r}}else{const t=RP(n);e={...e,...t,mass:At.mass},e.isResolvedFromDuration=!0}return e}function mu(n=At.visualDuration,e=At.bounce){const t=typeof n!="object"?{visualDuration:n,keyframes:[0,1],bounce:e}:n;let{restSpeed:s,restDelta:i}=t;const r=t.keyframes[0],o=t.keyframes[t.keyframes.length-1],c={done:!1,value:r},{stiffness:u,damping:h,mass:f,duration:p,velocity:g,isResolvedFromDuration:w}=IP({...t,velocity:-es(t.velocity||0)}),A=g||0,x=h/(2*Math.sqrt(u*f)),S=o-r,E=es(Math.sqrt(u/f)),_=Math.abs(S)<5;s||(s=_?At.restSpeed.granular:At.restSpeed.default),i||(i=_?At.restDelta.granular:At.restDelta.default);let k;if(x<1){const P=Hf(E,x);k=N=>{const M=Math.exp(-x*E*N);return o-M*((A+x*E*S)/P*Math.sin(P*N)+S*Math.cos(P*N))}}else if(x===1)k=P=>o-Math.exp(-E*P)*(S+(A+E*S)*P);else{const P=E*Math.sqrt(x*x-1);k=N=>{const M=Math.exp(-x*E*N),I=Math.min(P*N,300);return o-M*((A+x*E*S)*Math.sinh(I)+P*S*Math.cosh(I))/P}}const T={calculatedDuration:w&&p||null,next:P=>{const N=k(P);if(w)c.done=P>=p;else{let M=P===0?A:0;x<1&&(M=P===0?Ls(A):w1(k,P,N));const I=Math.abs(M)<=s,$=Math.abs(o-N)<=i;c.done=I&&$}return c.value=c.done?o:N,c},toString:()=>{const P=Math.min(um(T),pu),N=v1(M=>T.next(P*M).value,P,30);return P+"ms "+N},toTransition:()=>{}};return T}mu.applyToOptions=n=>{const e=PP(n,100,mu);return n.ease=e.ease,n.duration=Ls(e.duration),n.type="keyframes",n};function Wf({keyframes:n,velocity:e=0,power:t=.8,timeConstant:s=325,bounceDamping:i=10,bounceStiffness:r=500,modifyTarget:o,min:c,max:u,restDelta:h=.5,restSpeed:f}){const p=n[0],g={done:!1,value:p},w=I=>c!==void 0&&I<c||u!==void 0&&I>u,A=I=>c===void 0?u:u===void 0||Math.abs(c-I)<Math.abs(u-I)?c:u;let x=t*e;const S=p+x,E=o===void 0?S:o(S);E!==S&&(x=E-p);const _=I=>-x*Math.exp(-I/s),k=I=>E+_(I),T=I=>{const $=_(I),q=k(I);g.done=Math.abs($)<=h,g.value=g.done?E:q};let P,N;const M=I=>{w(g.value)&&(P=I,N=mu({keyframes:[g.value,A(g.value)],velocity:w1(k,I,g.value),damping:i,stiffness:r,restDelta:h,restSpeed:f}))};return M(0),{calculatedDuration:null,next:I=>{let $=!1;return!N&&P===void 0&&($=!0,T(I),M(I)),P!==void 0&&I>=P?N.next(I-P):(!$&&T(I),g)}}}function OP(n,e,t){const s=[],i=t||ni.mix||y1,r=n.length-1;for(let o=0;o<r;o++){let c=i(n[o],n[o+1]);if(e){const u=Array.isArray(e)?e[o]||ts:e;c=il(u,c)}s.push(c)}return s}function jP(n,e,{clamp:t=!0,ease:s,mixer:i}={}){const r=n.length;if(em(r===e.length),r===1)return()=>e[0];if(r===2&&e[0]===e[1])return()=>e[1];const o=n[0]===n[1];n[0]>n[r-1]&&(n=[...n].reverse(),e=[...e].reverse());const c=OP(e,s,i),u=c.length,h=f=>{if(o&&f<n[0])return e[0];let p=0;if(u>1)for(;p<n.length-2&&!(f<n[p+1]);p++);const g=za(n[p],n[p+1],f);return c[p](g)};return t?f=>h(ti(n[0],n[r-1],f)):h}function BP(n,e){const t=n[n.length-1];for(let s=1;s<=e;s++){const i=za(0,e,s);n.push(vt(t,1,i))}}function zP(n){const e=[0];return BP(e,n.length-1),e}function $P(n,e){return n.map(t=>t*e)}function VP(n,e){return n.map(()=>e||a1).splice(0,n.length-1)}function Ra({duration:n=300,keyframes:e,times:t,ease:s="easeInOut"}){const i=JT(s)?s.map(Cv):Cv(s),r={done:!1,value:e[0]},o=$P(t&&t.length===e.length?t:zP(e),n),c=jP(o,e,{ease:Array.isArray(i)?i:VP(e,i)});return{calculatedDuration:n,next:u=>(r.value=c(u),r.done=u>=n,r)}}const UP=n=>n!==null;function hm(n,{repeat:e,repeatType:t="loop"},s,i=1){const r=n.filter(UP),c=i<0||e&&t!=="loop"&&e%2===1?0:r.length-1;return!c||s===void 0?r[c]:s}const HP={decay:Wf,inertia:Wf,tween:Ra,keyframes:Ra,spring:mu};function x1(n){typeof n.type=="string"&&(n.type=HP[n.type])}class dm{constructor(){this.updateFinished()}get finished(){return this._finished}updateFinished(){this._finished=new Promise(e=>{this.resolve=e})}notifyFinished(){this.resolve()}then(e,t){return this.finished.then(e,t)}}const WP=n=>n/100;class fm extends dm{constructor(e){super(),this.state="idle",this.startTime=null,this.isStopped=!1,this.currentTime=0,this.holdTime=null,this.playbackSpeed=1,this.stop=()=>{const{motionValue:t}=this.options;t&&t.updatedAt!==Pn.now()&&this.tick(Pn.now()),this.isStopped=!0,this.state!=="idle"&&(this.teardown(),this.options.onStop?.())},this.options=e,this.initAnimation(),this.play(),e.autoplay===!1&&this.pause()}initAnimation(){const{options:e}=this;x1(e);const{type:t=Ra,repeat:s=0,repeatDelay:i=0,repeatType:r,velocity:o=0}=e;let{keyframes:c}=e;const u=t||Ra;u!==Ra&&typeof c[0]!="number"&&(this.mixKeyframes=il(WP,y1(c[0],c[1])),c=[0,100]);const h=u({...e,keyframes:c});r==="mirror"&&(this.mirroredGenerator=u({...e,keyframes:[...c].reverse(),velocity:-o})),h.calculatedDuration===null&&(h.calculatedDuration=um(h));const{calculatedDuration:f}=h;this.calculatedDuration=f,this.resolvedDuration=f+i,this.totalDuration=this.resolvedDuration*(s+1)-i,this.generator=h}updateTime(e){const t=Math.round(e-this.startTime)*this.playbackSpeed;this.holdTime!==null?this.currentTime=this.holdTime:this.currentTime=t}tick(e,t=!1){const{generator:s,totalDuration:i,mixKeyframes:r,mirroredGenerator:o,resolvedDuration:c,calculatedDuration:u}=this;if(this.startTime===null)return s.next(0);const{delay:h=0,keyframes:f,repeat:p,repeatType:g,repeatDelay:w,type:A,onUpdate:x,finalKeyframe:S}=this.options;this.speed>0?this.startTime=Math.min(this.startTime,e):this.speed<0&&(this.startTime=Math.min(e-i/this.speed,this.startTime)),t?this.currentTime=e:this.updateTime(e);const E=this.currentTime-h*(this.playbackSpeed>=0?1:-1),_=this.playbackSpeed>=0?E<0:E>i;this.currentTime=Math.max(E,0),this.state==="finished"&&this.holdTime===null&&(this.currentTime=i);let k=this.currentTime,T=s;if(p){const I=Math.min(this.currentTime,i)/c;let $=Math.floor(I),q=I%1;!q&&I>=1&&(q=1),q===1&&$--,$=Math.min($,p+1),!!($%2)&&(g==="reverse"?(q=1-q,w&&(q-=w/c)):g==="mirror"&&(T=o)),k=ti(0,1,q)*c}const P=_?{done:!1,value:f[0]}:T.next(k);r&&(P.value=r(P.value));let{done:N}=P;!_&&u!==null&&(N=this.playbackSpeed>=0?this.currentTime>=i:this.currentTime<=0);const M=this.holdTime===null&&(this.state==="finished"||this.state==="running"&&N);return M&&A!==Wf&&(P.value=hm(f,this.options,S,this.speed)),x&&x(P.value),M&&this.finish(),P}then(e,t){return this.finished.then(e,t)}get duration(){return es(this.calculatedDuration)}get iterationDuration(){const{delay:e=0}=this.options||{};return this.duration+es(e)}get time(){return es(this.currentTime)}set time(e){e=Ls(e),this.currentTime=e,this.startTime===null||this.holdTime!==null||this.playbackSpeed===0?this.holdTime=e:this.driver&&(this.startTime=this.driver.now()-e/this.playbackSpeed),this.driver?.start(!1)}get speed(){return this.playbackSpeed}set speed(e){this.updateTime(Pn.now());const t=this.playbackSpeed!==e;this.playbackSpeed=e,t&&(this.time=es(this.currentTime))}play(){if(this.isStopped)return;const{driver:e=TP,startTime:t}=this.options;this.driver||(this.driver=e(i=>this.tick(i))),this.options.onPlay?.();const s=this.driver.now();this.state==="finished"?(this.updateFinished(),this.startTime=s):this.holdTime!==null?this.startTime=s-this.holdTime:this.startTime||(this.startTime=t??s),this.state==="finished"&&this.speed<0&&(this.startTime+=this.calculatedDuration),this.holdTime=null,this.state="running",this.driver.start()}pause(){this.state="paused",this.updateTime(Pn.now()),this.holdTime=this.currentTime}complete(){this.state!=="running"&&this.play(),this.state="finished",this.holdTime=null}finish(){this.notifyFinished(),this.teardown(),this.state="finished",this.options.onComplete?.()}cancel(){this.holdTime=null,this.startTime=0,this.tick(0),this.teardown(),this.options.onCancel?.()}teardown(){this.state="idle",this.stopDriver(),this.startTime=this.holdTime=null}stopDriver(){this.driver&&(this.driver.stop(),this.driver=void 0)}sample(e){return this.startTime=0,this.tick(e,!0)}attachTimeline(e){return this.options.allowFlatten&&(this.options.type="keyframes",this.options.ease="linear",this.initAnimation()),this.driver?.stop(),e.observe(this)}}function GP(n){for(let e=1;e<n.length;e++)n[e]??(n[e]=n[e-1])}const nr=n=>n*180/Math.PI,Gf=n=>{const e=nr(Math.atan2(n[1],n[0]));return qf(e)},qP={x:4,y:5,translateX:4,translateY:5,scaleX:0,scaleY:3,scale:n=>(Math.abs(n[0])+Math.abs(n[3]))/2,rotate:Gf,rotateZ:Gf,skewX:n=>nr(Math.atan(n[1])),skewY:n=>nr(Math.atan(n[2])),skew:n=>(Math.abs(n[1])+Math.abs(n[2]))/2},qf=n=>(n=n%360,n<0&&(n+=360),n),Nv=Gf,Mv=n=>Math.sqrt(n[0]*n[0]+n[1]*n[1]),Dv=n=>Math.sqrt(n[4]*n[4]+n[5]*n[5]),KP={x:12,y:13,z:14,translateX:12,translateY:13,translateZ:14,scaleX:Mv,scaleY:Dv,scale:n=>(Mv(n)+Dv(n))/2,rotateX:n=>qf(nr(Math.atan2(n[6],n[5]))),rotateY:n=>qf(nr(Math.atan2(-n[2],n[0]))),rotateZ:Nv,rotate:Nv,skewX:n=>nr(Math.atan(n[4])),skewY:n=>nr(Math.atan(n[1])),skew:n=>(Math.abs(n[1])+Math.abs(n[4]))/2};function Kf(n){return n.includes("scale")?1:0}function Xf(n,e){if(!n||n==="none")return Kf(e);const t=n.match(/^matrix3d\(([-\d.e\s,]+)\)$/u);let s,i;if(t)s=KP,i=t;else{const c=n.match(/^matrix\(([-\d.e\s,]+)\)$/u);s=qP,i=c}if(!i)return Kf(e);const r=s[e],o=i[1].split(",").map(ZP);return typeof r=="function"?r(o):o[r]}const XP=(n,e)=>{const{transform:t="none"}=getComputedStyle(n);return Xf(t,e)};function ZP(n){return parseFloat(n.trim())}const To=["transformPerspective","x","y","z","translateX","translateY","translateZ","scale","scaleX","scaleY","rotate","rotateX","rotateY","rotateZ","skew","skewX","skewY"],Po=new Set(To),Lv=n=>n===ko||n===Re,YP=new Set(["x","y","z"]),QP=To.filter(n=>!YP.has(n));function JP(n){const e=[];return QP.forEach(t=>{const s=n.getValue(t);s!==void 0&&(e.push([t,s.get()]),s.set(t.startsWith("scale")?1:0))}),e}const or={width:({x:n},{paddingLeft:e="0",paddingRight:t="0"})=>n.max-n.min-parseFloat(e)-parseFloat(t),height:({y:n},{paddingTop:e="0",paddingBottom:t="0"})=>n.max-n.min-parseFloat(e)-parseFloat(t),top:(n,{top:e})=>parseFloat(e),left:(n,{left:e})=>parseFloat(e),bottom:({y:n},{top:e})=>parseFloat(e)+(n.max-n.min),right:({x:n},{left:e})=>parseFloat(e)+(n.max-n.min),x:(n,{transform:e})=>Xf(e,"x"),y:(n,{transform:e})=>Xf(e,"y")};or.translateX=or.x;or.translateY=or.y;const ar=new Set;let Zf=!1,Yf=!1,Qf=!1;function b1(){if(Yf){const n=Array.from(ar).filter(s=>s.needsMeasurement),e=new Set(n.map(s=>s.element)),t=new Map;e.forEach(s=>{const i=JP(s);i.length&&(t.set(s,i),s.render())}),n.forEach(s=>s.measureInitialState()),e.forEach(s=>{s.render();const i=t.get(s);i&&i.forEach(([r,o])=>{s.getValue(r)?.set(o)})}),n.forEach(s=>s.measureEndState()),n.forEach(s=>{s.suspendedScrollY!==void 0&&window.scrollTo(0,s.suspendedScrollY)})}Yf=!1,Zf=!1,ar.forEach(n=>n.complete(Qf)),ar.clear()}function A1(){ar.forEach(n=>{n.readKeyframes(),n.needsMeasurement&&(Yf=!0)})}function e2(){Qf=!0,A1(),b1(),Qf=!1}class pm{constructor(e,t,s,i,r,o=!1){this.state="pending",this.isAsync=!1,this.needsMeasurement=!1,this.unresolvedKeyframes=[...e],this.onComplete=t,this.name=s,this.motionValue=i,this.element=r,this.isAsync=o}scheduleResolve(){this.state="scheduled",this.isAsync?(ar.add(this),Zf||(Zf=!0,ut.read(A1),ut.resolveKeyframes(b1))):(this.readKeyframes(),this.complete())}readKeyframes(){const{unresolvedKeyframes:e,name:t,element:s,motionValue:i}=this;if(e[0]===null){const r=i?.get(),o=e[e.length-1];if(r!==void 0)e[0]=r;else if(s&&t){const c=s.readValue(t,o);c!=null&&(e[0]=c)}e[0]===void 0&&(e[0]=o),i&&r===void 0&&i.set(e[0])}GP(e)}setFinalKeyframe(){}measureInitialState(){}renderEndStyles(){}measureEndState(){}complete(e=!1){this.state="complete",this.onComplete(this.unresolvedKeyframes,this.finalKeyframe,e),ar.delete(this)}cancel(){this.state==="scheduled"&&(ar.delete(this),this.state="pending")}resume(){this.state==="pending"&&this.scheduleResolve()}}const t2=n=>n.startsWith("--");function n2(n,e,t){t2(e)?n.style.setProperty(e,t):n.style[e]=t}const s2=tm(()=>window.ScrollTimeline!==void 0),i2={};function r2(n,e){const t=tm(n);return()=>i2[e]??t()}const S1=r2(()=>{try{document.createElement("div").animate({opacity:0},{easing:"linear(0, 1)"})}catch{return!1}return!0},"linearEasing"),ka=([n,e,t,s])=>`cubic-bezier(${n}, ${e}, ${t}, ${s})`,Iv={linear:"linear",ease:"ease",easeIn:"ease-in",easeOut:"ease-out",easeInOut:"ease-in-out",circIn:ka([0,.65,.55,1]),circOut:ka([.55,0,1,.45]),backIn:ka([.31,.01,.66,-.59]),backOut:ka([.33,1.53,.69,.99])};function E1(n,e){if(n)return typeof n=="function"?S1()?v1(n,e):"ease-out":l1(n)?ka(n):Array.isArray(n)?n.map(t=>E1(t,e)||Iv.easeOut):Iv[n]}function o2(n,e,t,{delay:s=0,duration:i=300,repeat:r=0,repeatType:o="loop",ease:c="easeOut",times:u}={},h=void 0){const f={[e]:t};u&&(f.offset=u);const p=E1(c,i);Array.isArray(p)&&(f.easing=p);const g={delay:s,duration:i,easing:Array.isArray(p)?"linear":p,fill:"both",iterations:r+1,direction:o==="reverse"?"alternate":"normal"};return h&&(g.pseudoElement=h),n.animate(f,g)}function _1(n){return typeof n=="function"&&"applyToOptions"in n}function a2({type:n,...e}){return _1(n)&&S1()?n.applyToOptions(e):(e.duration??(e.duration=300),e.ease??(e.ease="easeOut"),e)}class l2 extends dm{constructor(e){if(super(),this.finishedTime=null,this.isStopped=!1,!e)return;const{element:t,name:s,keyframes:i,pseudoElement:r,allowFlatten:o=!1,finalKeyframe:c,onComplete:u}=e;this.isPseudoElement=!!r,this.allowFlatten=o,this.options=e,em(typeof e.type!="string");const h=a2(e);this.animation=o2(t,s,i,h,r),h.autoplay===!1&&this.animation.pause(),this.animation.onfinish=()=>{if(this.finishedTime=this.time,!r){const f=hm(i,this.options,c,this.speed);this.updateMotionValue?this.updateMotionValue(f):n2(t,s,f),this.animation.cancel()}u?.(),this.notifyFinished()}}play(){this.isStopped||(this.animation.play(),this.state==="finished"&&this.updateFinished())}pause(){this.animation.pause()}complete(){this.animation.finish?.()}cancel(){try{this.animation.cancel()}catch{}}stop(){if(this.isStopped)return;this.isStopped=!0;const{state:e}=this;e==="idle"||e==="finished"||(this.updateMotionValue?this.updateMotionValue():this.commitStyles(),this.isPseudoElement||this.cancel())}commitStyles(){this.isPseudoElement||this.animation.commitStyles?.()}get duration(){const e=this.animation.effect?.getComputedTiming?.().duration||0;return es(Number(e))}get iterationDuration(){const{delay:e=0}=this.options||{};return this.duration+es(e)}get time(){return es(Number(this.animation.currentTime)||0)}set time(e){this.finishedTime=null,this.animation.currentTime=Ls(e)}get speed(){return this.animation.playbackRate}set speed(e){e<0&&(this.finishedTime=null),this.animation.playbackRate=e}get state(){return this.finishedTime!==null?"finished":this.animation.playState}get startTime(){return Number(this.animation.startTime)}set startTime(e){this.animation.startTime=e}attachTimeline({timeline:e,observe:t}){return this.allowFlatten&&this.animation.effect?.updateTiming({easing:"linear"}),this.animation.onfinish=null,e&&s2()?(this.animation.timeline=e,ts):t(this)}}const C1={anticipate:i1,backInOut:s1,circInOut:o1};function c2(n){return n in C1}function u2(n){typeof n.ease=="string"&&c2(n.ease)&&(n.ease=C1[n.ease])}const Ov=10;class h2 extends l2{constructor(e){u2(e),x1(e),super(e),e.startTime&&(this.startTime=e.startTime),this.options=e}updateMotionValue(e){const{motionValue:t,onUpdate:s,onComplete:i,element:r,...o}=this.options;if(!t)return;if(e!==void 0){t.set(e);return}const c=new fm({...o,autoplay:!1}),u=Ls(this.finishedTime??this.time);t.setWithVelocity(c.sample(u-Ov).value,c.sample(u).value,Ov),c.stop()}}const jv=(n,e)=>e==="zIndex"?!1:!!(typeof n=="number"||Array.isArray(n)||typeof n=="string"&&(Ni.test(n)||n==="0")&&!n.startsWith("url("));function d2(n){const e=n[0];if(n.length===1)return!0;for(let t=0;t<n.length;t++)if(n[t]!==e)return!0}function f2(n,e,t,s){const i=n[0];if(i===null)return!1;if(e==="display"||e==="visibility")return!0;const r=n[n.length-1],o=jv(i,e),c=jv(r,e);return!o||!c?!1:d2(n)||(t==="spring"||_1(t))&&s}function Jf(n){n.duration=0,n.type="keyframes"}const p2=new Set(["opacity","clipPath","filter","transform"]),m2=tm(()=>Object.hasOwnProperty.call(Element.prototype,"animate"));function g2(n){const{motionValue:e,name:t,repeatDelay:s,repeatType:i,damping:r,type:o}=n;if(!(e?.owner?.current instanceof HTMLElement))return!1;const{onUpdate:u,transformTemplate:h}=e.owner.getProps();return m2()&&t&&p2.has(t)&&(t!=="transform"||!h)&&!u&&!s&&i!=="mirror"&&r!==0&&o!=="inertia"}const y2=40;class v2 extends dm{constructor({autoplay:e=!0,delay:t=0,type:s="keyframes",repeat:i=0,repeatDelay:r=0,repeatType:o="loop",keyframes:c,name:u,motionValue:h,element:f,...p}){super(),this.stop=()=>{this._animation&&(this._animation.stop(),this.stopTimeline?.()),this.keyframeResolver?.cancel()},this.createdAt=Pn.now();const g={autoplay:e,delay:t,type:s,repeat:i,repeatDelay:r,repeatType:o,name:u,motionValue:h,element:f,...p},w=f?.KeyframeResolver||pm;this.keyframeResolver=new w(c,(A,x,S)=>this.onKeyframesResolved(A,x,g,!S),u,h,f),this.keyframeResolver?.scheduleResolve()}onKeyframesResolved(e,t,s,i){this.keyframeResolver=void 0;const{name:r,type:o,velocity:c,delay:u,isHandoff:h,onUpdate:f}=s;this.resolvedAt=Pn.now(),f2(e,r,o,c)||((ni.instantAnimations||!u)&&f?.(hm(e,s,t)),e[0]=e[e.length-1],Jf(s),s.repeat=0);const g={startTime:i?this.resolvedAt?this.resolvedAt-this.createdAt>y2?this.resolvedAt:this.createdAt:this.createdAt:void 0,finalKeyframe:t,...s,keyframes:e},w=!h&&g2(g)?new h2({...g,element:g.motionValue.owner.current}):new fm(g);w.finished.then(()=>this.notifyFinished()).catch(ts),this.pendingTimeline&&(this.stopTimeline=w.attachTimeline(this.pendingTimeline),this.pendingTimeline=void 0),this._animation=w}get finished(){return this._animation?this.animation.finished:this._finished}then(e,t){return this.finished.finally(e).then(()=>{})}get animation(){return this._animation||(this.keyframeResolver?.resume(),e2()),this._animation}get duration(){return this.animation.duration}get iterationDuration(){return this.animation.iterationDuration}get time(){return this.animation.time}set time(e){this.animation.time=e}get speed(){return this.animation.speed}get state(){return this.animation.state}set speed(e){this.animation.speed=e}get startTime(){return this.animation.startTime}attachTimeline(e){return this._animation?this.stopTimeline=this.animation.attachTimeline(e):this.pendingTimeline=e,()=>this.stop()}play(){this.animation.play()}pause(){this.animation.pause()}complete(){this.animation.complete()}cancel(){this._animation&&this.animation.cancel(),this.keyframeResolver?.cancel()}}const w2=/^var\(--(?:([\w-]+)|([\w-]+), ?([a-zA-Z\d ()%#.,-]+))\)/u;function x2(n){const e=w2.exec(n);if(!e)return[,];const[,t,s,i]=e;return[`--${t??s}`,i]}function k1(n,e,t=1){const[s,i]=x2(n);if(!s)return;const r=window.getComputedStyle(e).getPropertyValue(s);if(r){const o=r.trim();return Xb(o)?parseFloat(o):o}return om(i)?k1(i,e,t+1):i}function mm(n,e){return n?.[e]??n?.default??n}const T1=new Set(["width","height","top","left","right","bottom",...To]),b2={test:n=>n==="auto",parse:n=>n},P1=n=>e=>e.test(n),F1=[ko,Re,Is,Ci,dP,hP,b2],Bv=n=>F1.find(P1(n));function A2(n){return typeof n=="number"?n===0:n!==null?n==="none"||n==="0"||Yb(n):!0}const S2=new Set(["brightness","contrast","saturate","opacity"]);function E2(n){const[e,t]=n.slice(0,-1).split("(");if(e==="drop-shadow")return n;const[s]=t.match(am)||[];if(!s)return n;const i=t.replace(s,"");let r=S2.has(e)?1:0;return s!==t&&(r*=100),e+"("+r+i+")"}const _2=/\b([a-z-]*)\(.*?\)/gu,ep={...Ni,getAnimatableNone:n=>{const e=n.match(_2);return e?e.map(E2).join(" "):n}},zv={...ko,transform:Math.round},C2={rotate:Ci,rotateX:Ci,rotateY:Ci,rotateZ:Ci,scale:Dc,scaleX:Dc,scaleY:Dc,scaleZ:Dc,skew:Ci,skewX:Ci,skewY:Ci,distance:Re,translateX:Re,translateY:Re,translateZ:Re,x:Re,y:Re,z:Re,perspective:Re,transformPerspective:Re,opacity:$a,originX:kv,originY:kv,originZ:Re},gm={borderWidth:Re,borderTopWidth:Re,borderRightWidth:Re,borderBottomWidth:Re,borderLeftWidth:Re,borderRadius:Re,radius:Re,borderTopLeftRadius:Re,borderTopRightRadius:Re,borderBottomRightRadius:Re,borderBottomLeftRadius:Re,width:Re,maxWidth:Re,height:Re,maxHeight:Re,top:Re,right:Re,bottom:Re,left:Re,padding:Re,paddingTop:Re,paddingRight:Re,paddingBottom:Re,paddingLeft:Re,margin:Re,marginTop:Re,marginRight:Re,marginBottom:Re,marginLeft:Re,backgroundPositionX:Re,backgroundPositionY:Re,...C2,zIndex:zv,fillOpacity:$a,strokeOpacity:$a,numOctaves:zv},k2={...gm,color:Mt,backgroundColor:Mt,outlineColor:Mt,fill:Mt,stroke:Mt,borderColor:Mt,borderTopColor:Mt,borderRightColor:Mt,borderBottomColor:Mt,borderLeftColor:Mt,filter:ep,WebkitFilter:ep},R1=n=>k2[n];function N1(n,e){let t=R1(n);return t!==ep&&(t=Ni),t.getAnimatableNone?t.getAnimatableNone(e):void 0}const T2=new Set(["auto","none","0"]);function P2(n,e,t){let s=0,i;for(;s<n.length&&!i;){const r=n[s];typeof r=="string"&&!T2.has(r)&&Va(r).values.length&&(i=n[s]),s++}if(i&&t)for(const r of e)n[r]=N1(t,i)}class F2 extends pm{constructor(e,t,s,i,r){super(e,t,s,i,r,!0)}readKeyframes(){const{unresolvedKeyframes:e,element:t,name:s}=this;if(!t||!t.current)return;super.readKeyframes();for(let u=0;u<e.length;u++){let h=e[u];if(typeof h=="string"&&(h=h.trim(),om(h))){const f=k1(h,t.current);f!==void 0&&(e[u]=f),u===e.length-1&&(this.finalKeyframe=h)}}if(this.resolveNoneKeyframes(),!T1.has(s)||e.length!==2)return;const[i,r]=e,o=Bv(i),c=Bv(r);if(o!==c)if(Lv(o)&&Lv(c))for(let u=0;u<e.length;u++){const h=e[u];typeof h=="string"&&(e[u]=parseFloat(h))}else or[s]&&(this.needsMeasurement=!0)}resolveNoneKeyframes(){const{unresolvedKeyframes:e,name:t}=this,s=[];for(let i=0;i<e.length;i++)(e[i]===null||A2(e[i]))&&s.push(i);s.length&&P2(e,s,t)}measureInitialState(){const{element:e,unresolvedKeyframes:t,name:s}=this;if(!e||!e.current)return;s==="height"&&(this.suspendedScrollY=window.pageYOffset),this.measuredOrigin=or[s](e.measureViewportBox(),window.getComputedStyle(e.current)),t[0]=this.measuredOrigin;const i=t[t.length-1];i!==void 0&&e.getValue(s,i).jump(i,!1)}measureEndState(){const{element:e,name:t,unresolvedKeyframes:s}=this;if(!e||!e.current)return;const i=e.getValue(t);i&&i.jump(this.measuredOrigin,!1);const r=s.length-1,o=s[r];s[r]=or[t](e.measureViewportBox(),window.getComputedStyle(e.current)),o!==null&&this.finalKeyframe===void 0&&(this.finalKeyframe=o),this.removedTransforms?.length&&this.removedTransforms.forEach(([c,u])=>{e.getValue(c).set(u)}),this.resolveNoneKeyframes()}}function R2(n,e,t){if(n instanceof EventTarget)return[n];if(typeof n=="string"){let s=document;const i=t?.[n]??s.querySelectorAll(n);return i?Array.from(i):[]}return Array.from(n)}const M1=(n,e)=>e&&typeof n=="number"?e.transform(n):n;function N2(n){return Zb(n)&&"offsetHeight"in n}const $v=30,M2=n=>!isNaN(parseFloat(n));class D2{constructor(e,t={}){this.canTrackVelocity=null,this.events={},this.updateAndNotify=s=>{const i=Pn.now();if(this.updatedAt!==i&&this.setPrevFrameValue(),this.prev=this.current,this.setCurrent(s),this.current!==this.prev&&(this.events.change?.notify(this.current),this.dependents))for(const r of this.dependents)r.dirty()},this.hasAnimated=!1,this.setCurrent(e),this.owner=t.owner}setCurrent(e){this.current=e,this.updatedAt=Pn.now(),this.canTrackVelocity===null&&e!==void 0&&(this.canTrackVelocity=M2(this.current))}setPrevFrameValue(e=this.current){this.prevFrameValue=e,this.prevUpdatedAt=this.updatedAt}onChange(e){return this.on("change",e)}on(e,t){this.events[e]||(this.events[e]=new nm);const s=this.events[e].add(t);return e==="change"?()=>{s(),ut.read(()=>{this.events.change.getSize()||this.stop()})}:s}clearListeners(){for(const e in this.events)this.events[e].clear()}attach(e,t){this.passiveEffect=e,this.stopPassiveEffect=t}set(e){this.passiveEffect?this.passiveEffect(e,this.updateAndNotify):this.updateAndNotify(e)}setWithVelocity(e,t,s){this.set(t),this.prev=void 0,this.prevFrameValue=e,this.prevUpdatedAt=this.updatedAt-s}jump(e,t=!0){this.updateAndNotify(e),this.prev=e,this.prevUpdatedAt=this.prevFrameValue=void 0,t&&this.stop(),this.stopPassiveEffect&&this.stopPassiveEffect()}dirty(){this.events.change?.notify(this.current)}addDependent(e){this.dependents||(this.dependents=new Set),this.dependents.add(e)}removeDependent(e){this.dependents&&this.dependents.delete(e)}get(){return this.current}getPrevious(){return this.prev}getVelocity(){const e=Pn.now();if(!this.canTrackVelocity||this.prevFrameValue===void 0||e-this.updatedAt>$v)return 0;const t=Math.min(this.updatedAt-this.prevUpdatedAt,$v);return Qb(parseFloat(this.current)-parseFloat(this.prevFrameValue),t)}start(e){return this.stop(),new Promise(t=>{this.hasAnimated=!0,this.animation=e(t),this.events.animationStart&&this.events.animationStart.notify()}).then(()=>{this.events.animationComplete&&this.events.animationComplete.notify(),this.clearAnimation()})}stop(){this.animation&&(this.animation.stop(),this.events.animationCancel&&this.events.animationCancel.notify()),this.clearAnimation()}isAnimating(){return!!this.animation}clearAnimation(){delete this.animation}destroy(){this.dependents?.clear(),this.events.destroy?.notify(),this.clearListeners(),this.stop(),this.stopPassiveEffect&&this.stopPassiveEffect()}}function yo(n,e){return new D2(n,e)}const{schedule:ym}=c1(queueMicrotask,!1),ps={x:!1,y:!1};function D1(){return ps.x||ps.y}function L2(n){return n==="x"||n==="y"?ps[n]?null:(ps[n]=!0,()=>{ps[n]=!1}):ps.x||ps.y?null:(ps.x=ps.y=!0,()=>{ps.x=ps.y=!1})}function L1(n,e){const t=R2(n),s=new AbortController,i={passive:!0,...e,signal:s.signal};return[t,i,()=>s.abort()]}function Vv(n){return!(n.pointerType==="touch"||D1())}function I2(n,e,t={}){const[s,i,r]=L1(n,t),o=c=>{if(!Vv(c))return;const{target:u}=c,h=e(u,c);if(typeof h!="function"||!u)return;const f=p=>{Vv(p)&&(h(p),u.removeEventListener("pointerleave",f))};u.addEventListener("pointerleave",f,i)};return s.forEach(c=>{c.addEventListener("pointerenter",o,i)}),r}const I1=(n,e)=>e?n===e?!0:I1(n,e.parentElement):!1,vm=n=>n.pointerType==="mouse"?typeof n.button!="number"||n.button<=0:n.isPrimary!==!1,O2=new Set(["BUTTON","INPUT","SELECT","TEXTAREA","A"]);function j2(n){return O2.has(n.tagName)||n.tabIndex!==-1}const nu=new WeakSet;function Uv(n){return e=>{e.key==="Enter"&&n(e)}}function uf(n,e){n.dispatchEvent(new PointerEvent("pointer"+e,{isPrimary:!0,bubbles:!0}))}const B2=(n,e)=>{const t=n.currentTarget;if(!t)return;const s=Uv(()=>{if(nu.has(t))return;uf(t,"down");const i=Uv(()=>{uf(t,"up")}),r=()=>uf(t,"cancel");t.addEventListener("keyup",i,e),t.addEventListener("blur",r,e)});t.addEventListener("keydown",s,e),t.addEventListener("blur",()=>t.removeEventListener("keydown",s),e)};function Hv(n){return vm(n)&&!D1()}function z2(n,e,t={}){const[s,i,r]=L1(n,t),o=c=>{const u=c.currentTarget;if(!Hv(c))return;nu.add(u);const h=e(u,c),f=(w,A)=>{window.removeEventListener("pointerup",p),window.removeEventListener("pointercancel",g),nu.has(u)&&nu.delete(u),Hv(w)&&typeof h=="function"&&h(w,{success:A})},p=w=>{f(w,u===window||u===document||t.useGlobalTarget||I1(u,w.target))},g=w=>{f(w,!1)};window.addEventListener("pointerup",p,i),window.addEventListener("pointercancel",g,i)};return s.forEach(c=>{(t.useGlobalTarget?window:c).addEventListener("pointerdown",o,i),N2(c)&&(c.addEventListener("focus",h=>B2(h,i)),!j2(c)&&!c.hasAttribute("tabindex")&&(c.tabIndex=0))}),r}function O1(n){return Zb(n)&&"ownerSVGElement"in n}function $2(n){return O1(n)&&n.tagName==="svg"}const un=n=>!!(n&&n.getVelocity),V2=[...F1,Mt,Ni],U2=n=>V2.find(P1(n)),j1=F.createContext({transformPagePoint:n=>n,isStatic:!1,reducedMotion:"never"});function H2(n=!0){const e=F.useContext(Yp);if(e===null)return[!0,null];const{isPresent:t,onExitComplete:s,register:i}=e,r=F.useId();F.useEffect(()=>{if(n)return i(r)},[n]);const o=F.useCallback(()=>n&&s&&s(r),[r,s,n]);return!t&&s?[!1,o]:[!0]}const B1=F.createContext({strict:!1}),Wv={animation:["animate","variants","whileHover","whileTap","exit","whileInView","whileFocus","whileDrag"],exit:["exit"],drag:["drag","dragControls"],focus:["whileFocus"],hover:["whileHover","onHoverStart","onHoverEnd"],tap:["whileTap","onTap","onTapStart","onTapCancel"],pan:["onPan","onPanStart","onPanSessionStart","onPanEnd"],inView:["whileInView","onViewportEnter","onViewportLeave"],layout:["layout","layoutId"]},vo={};for(const n in Wv)vo[n]={isEnabled:e=>Wv[n].some(t=>!!e[t])};function W2(n){for(const e in n)vo[e]={...vo[e],...n[e]}}const G2=new Set(["animate","exit","variants","initial","style","values","variants","transition","transformTemplate","custom","inherit","onBeforeLayoutMeasure","onAnimationStart","onAnimationComplete","onUpdate","onDragStart","onDrag","onDragEnd","onMeasureDragConstraints","onDirectionLock","onDragTransitionEnd","_dragX","_dragY","onHoverStart","onHoverEnd","onViewportEnter","onViewportLeave","globalTapTarget","ignoreStrict","viewport"]);function gu(n){return n.startsWith("while")||n.startsWith("drag")&&n!=="draggable"||n.startsWith("layout")||n.startsWith("onTap")||n.startsWith("onPan")||n.startsWith("onLayout")||G2.has(n)}let z1=n=>!gu(n);function q2(n){typeof n=="function"&&(z1=e=>e.startsWith("on")?!gu(e):n(e))}try{q2(require("@emotion/is-prop-valid").default)}catch{}function K2(n,e,t){const s={};for(const i in n)i==="values"&&typeof n.values=="object"||(z1(i)||t===!0&&gu(i)||!e&&!gu(i)||n.draggable&&i.startsWith("onDrag"))&&(s[i]=n[i]);return s}const Lu=F.createContext({});function Iu(n){return n!==null&&typeof n=="object"&&typeof n.start=="function"}function Ua(n){return typeof n=="string"||Array.isArray(n)}const wm=["animate","whileInView","whileFocus","whileHover","whileTap","whileDrag","exit"],xm=["initial",...wm];function Ou(n){return Iu(n.animate)||xm.some(e=>Ua(n[e]))}function $1(n){return!!(Ou(n)||n.variants)}function X2(n,e){if(Ou(n)){const{initial:t,animate:s}=n;return{initial:t===!1||Ua(t)?t:void 0,animate:Ua(s)?s:void 0}}return n.inherit!==!1?e:{}}function Z2(n){const{initial:e,animate:t}=X2(n,F.useContext(Lu));return F.useMemo(()=>({initial:e,animate:t}),[Gv(e),Gv(t)])}function Gv(n){return Array.isArray(n)?n.join(" "):n}const Ha={};function Y2(n){for(const e in n)Ha[e]=n[e],rm(e)&&(Ha[e].isCSSVariable=!0)}function V1(n,{layout:e,layoutId:t}){return Po.has(n)||n.startsWith("origin")||(e||t!==void 0)&&(!!Ha[n]||n==="opacity")}const Q2={x:"translateX",y:"translateY",z:"translateZ",transformPerspective:"perspective"},J2=To.length;function eF(n,e,t){let s="",i=!0;for(let r=0;r<J2;r++){const o=To[r],c=n[o];if(c===void 0)continue;let u=!0;if(typeof c=="number"?u=c===(o.startsWith("scale")?1:0):u=parseFloat(c)===0,!u||t){const h=M1(c,gm[o]);if(!u){i=!1;const f=Q2[o]||o;s+=`${f}(${h}) `}t&&(e[o]=h)}}return s=s.trim(),t?s=t(e,i?"":s):i&&(s="none"),s}function bm(n,e,t){const{style:s,vars:i,transformOrigin:r}=n;let o=!1,c=!1;for(const u in e){const h=e[u];if(Po.has(u)){o=!0;continue}else if(rm(u)){i[u]=h;continue}else{const f=M1(h,gm[u]);u.startsWith("origin")?(c=!0,r[u]=f):s[u]=f}}if(e.transform||(o||t?s.transform=eF(e,n.transform,t):s.transform&&(s.transform="none")),c){const{originX:u="50%",originY:h="50%",originZ:f=0}=r;s.transformOrigin=`${u} ${h} ${f}`}}const Am=()=>({style:{},transform:{},transformOrigin:{},vars:{}});function U1(n,e,t){for(const s in e)!un(e[s])&&!V1(s,t)&&(n[s]=e[s])}function tF({transformTemplate:n},e){return F.useMemo(()=>{const t=Am();return bm(t,e,n),Object.assign({},t.vars,t.style)},[e])}function nF(n,e){const t=n.style||{},s={};return U1(s,t,n),Object.assign(s,tF(n,e)),s}function sF(n,e){const t={},s=nF(n,e);return n.drag&&n.dragListener!==!1&&(t.draggable=!1,s.userSelect=s.WebkitUserSelect=s.WebkitTouchCallout="none",s.touchAction=n.drag===!0?"none":`pan-${n.drag==="x"?"y":"x"}`),n.tabIndex===void 0&&(n.onTap||n.onTapStart||n.whileTap)&&(t.tabIndex=0),t.style=s,t}const iF={offset:"stroke-dashoffset",array:"stroke-dasharray"},rF={offset:"strokeDashoffset",array:"strokeDasharray"};function oF(n,e,t=1,s=0,i=!0){n.pathLength=1;const r=i?iF:rF;n[r.offset]=Re.transform(-s);const o=Re.transform(e),c=Re.transform(t);n[r.array]=`${o} ${c}`}function H1(n,{attrX:e,attrY:t,attrScale:s,pathLength:i,pathSpacing:r=1,pathOffset:o=0,...c},u,h,f){if(bm(n,c,h),u){n.style.viewBox&&(n.attrs.viewBox=n.style.viewBox);return}n.attrs=n.style,n.style={};const{attrs:p,style:g}=n;p.transform&&(g.transform=p.transform,delete p.transform),(g.transform||p.transformOrigin)&&(g.transformOrigin=p.transformOrigin??"50% 50%",delete p.transformOrigin),g.transform&&(g.transformBox=f?.transformBox??"fill-box",delete p.transformBox),e!==void 0&&(p.x=e),t!==void 0&&(p.y=t),s!==void 0&&(p.scale=s),i!==void 0&&oF(p,i,r,o,!1)}const W1=()=>({...Am(),attrs:{}}),G1=n=>typeof n=="string"&&n.toLowerCase()==="svg";function aF(n,e,t,s){const i=F.useMemo(()=>{const r=W1();return H1(r,e,G1(s),n.transformTemplate,n.style),{...r.attrs,style:{...r.style}}},[e]);if(n.style){const r={};U1(r,n.style,n),i.style={...r,...i.style}}return i}const lF=["animate","circle","defs","desc","ellipse","g","image","line","filter","marker","mask","metadata","path","pattern","polygon","polyline","rect","stop","switch","symbol","svg","text","tspan","use","view"];function Sm(n){return typeof n!="string"||n.includes("-")?!1:!!(lF.indexOf(n)>-1||/[A-Z]/u.test(n))}function cF(n,e,t,{latestValues:s},i,r=!1){const c=(Sm(n)?aF:sF)(e,s,i,n),u=K2(e,typeof n=="string",r),h=n!==F.Fragment?{...u,...c,ref:t}:{},{children:f}=e,p=F.useMemo(()=>un(f)?f.get():f,[f]);return F.createElement(n,{...h,children:p})}function qv(n){const e=[{},{}];return n?.values.forEach((t,s)=>{e[0][s]=t.get(),e[1][s]=t.getVelocity()}),e}function Em(n,e,t,s){if(typeof e=="function"){const[i,r]=qv(s);e=e(t!==void 0?t:n.custom,i,r)}if(typeof e=="string"&&(e=n.variants&&n.variants[e]),typeof e=="function"){const[i,r]=qv(s);e=e(t!==void 0?t:n.custom,i,r)}return e}function su(n){return un(n)?n.get():n}function uF({scrapeMotionValuesFromProps:n,createRenderState:e},t,s,i){return{latestValues:hF(t,s,i,n),renderState:e()}}function hF(n,e,t,s){const i={},r=s(n,{});for(const g in r)i[g]=su(r[g]);let{initial:o,animate:c}=n;const u=Ou(n),h=$1(n);e&&h&&!u&&n.inherit!==!1&&(o===void 0&&(o=e.initial),c===void 0&&(c=e.animate));let f=t?t.initial===!1:!1;f=f||o===!1;const p=f?c:o;if(p&&typeof p!="boolean"&&!Iu(p)){const g=Array.isArray(p)?p:[p];for(let w=0;w<g.length;w++){const A=Em(n,g[w]);if(A){const{transitionEnd:x,transition:S,...E}=A;for(const _ in E){let k=E[_];if(Array.isArray(k)){const T=f?k.length-1:0;k=k[T]}k!==null&&(i[_]=k)}for(const _ in x)i[_]=x[_]}}}return i}const q1=n=>(e,t)=>{const s=F.useContext(Lu),i=F.useContext(Yp),r=()=>uF(n,e,s,i);return t?r():WT(r)};function _m(n,e,t){const{style:s}=n,i={};for(const r in s)(un(s[r])||e.style&&un(e.style[r])||V1(r,n)||t?.getValue(r)?.liveStyle!==void 0)&&(i[r]=s[r]);return i}const dF=q1({scrapeMotionValuesFromProps:_m,createRenderState:Am});function K1(n,e,t){const s=_m(n,e,t);for(const i in n)if(un(n[i])||un(e[i])){const r=To.indexOf(i)!==-1?"attr"+i.charAt(0).toUpperCase()+i.substring(1):i;s[r]=n[i]}return s}const fF=q1({scrapeMotionValuesFromProps:K1,createRenderState:W1}),pF=Symbol.for("motionComponentSymbol");function to(n){return n&&typeof n=="object"&&Object.prototype.hasOwnProperty.call(n,"current")}function mF(n,e,t){return F.useCallback(s=>{s&&n.onMount&&n.onMount(s),e&&(s?e.mount(s):e.unmount()),t&&(typeof t=="function"?t(s):to(t)&&(t.current=s))},[e])}const Cm=n=>n.replace(/([a-z])([A-Z])/gu,"$1-$2").toLowerCase(),gF="framerAppearId",X1="data-"+Cm(gF),Z1=F.createContext({});function yF(n,e,t,s,i){const{visualElement:r}=F.useContext(Lu),o=F.useContext(B1),c=F.useContext(Yp),u=F.useContext(j1).reducedMotion,h=F.useRef(null);s=s||o.renderer,!h.current&&s&&(h.current=s(n,{visualState:e,parent:r,props:t,presenceContext:c,blockInitialAnimation:c?c.initial===!1:!1,reducedMotionConfig:u}));const f=h.current,p=F.useContext(Z1);f&&!f.projection&&i&&(f.type==="html"||f.type==="svg")&&vF(h.current,t,i,p);const g=F.useRef(!1);F.useInsertionEffect(()=>{f&&g.current&&f.update(t,c)});const w=t[X1],A=F.useRef(!!w&&!window.MotionHandoffIsComplete?.(w)&&window.MotionHasOptimisedAnimation?.(w));return GT(()=>{f&&(g.current=!0,window.MotionIsMounted=!0,f.updateFeatures(),f.scheduleRenderMicrotask(),A.current&&f.animationState&&f.animationState.animateChanges())}),F.useEffect(()=>{f&&(!A.current&&f.animationState&&f.animationState.animateChanges(),A.current&&(queueMicrotask(()=>{window.MotionHandoffMarkAsComplete?.(w)}),A.current=!1),f.enteringChildren=void 0)}),f}function vF(n,e,t,s){const{layoutId:i,layout:r,drag:o,dragConstraints:c,layoutScroll:u,layoutRoot:h,layoutCrossfade:f}=e;n.projection=new t(n.latestValues,e["data-framer-portal-id"]?void 0:Y1(n.parent)),n.projection.setOptions({layoutId:i,layout:r,alwaysMeasureLayout:!!o||c&&to(c),visualElement:n,animationType:typeof r=="string"?r:"both",initialPromotionConfig:s,crossfade:f,layoutScroll:u,layoutRoot:h})}function Y1(n){if(n)return n.options.allowProjection!==!1?n.projection:Y1(n.parent)}function hf(n,{forwardMotionProps:e=!1}={},t,s){t&&W2(t);const i=Sm(n)?fF:dF;function r(c,u){let h;const f={...F.useContext(j1),...c,layoutId:wF(c)},{isStatic:p}=f,g=Z2(c),w=i(c,p);if(!p&&Zp){xF();const A=bF(f);h=A.MeasureLayout,g.visualElement=yF(n,w,f,s,A.ProjectionNode)}return y.jsxs(Lu.Provider,{value:g,children:[h&&g.visualElement?y.jsx(h,{visualElement:g.visualElement,...f}):null,cF(n,c,mF(w,g.visualElement,u),w,p,e)]})}r.displayName=`motion.${typeof n=="string"?n:`create(${n.displayName??n.name??""})`}`;const o=F.forwardRef(r);return o[pF]=n,o}function wF({layoutId:n}){const e=F.useContext(Kb).id;return e&&n!==void 0?e+"-"+n:n}function xF(n,e){F.useContext(B1).strict}function bF(n){const{drag:e,layout:t}=vo;if(!e&&!t)return{};const s={...e,...t};return{MeasureLayout:e?.isEnabled(n)||t?.isEnabled(n)?s.MeasureLayout:void 0,ProjectionNode:s.ProjectionNode}}function AF(n,e){if(typeof Proxy>"u")return hf;const t=new Map,s=(r,o)=>hf(r,o,n,e),i=(r,o)=>s(r,o);return new Proxy(i,{get:(r,o)=>o==="create"?s:(t.has(o)||t.set(o,hf(o,void 0,n,e)),t.get(o))})}function Q1({top:n,left:e,right:t,bottom:s}){return{x:{min:e,max:t},y:{min:n,max:s}}}function SF({x:n,y:e}){return{top:e.min,right:n.max,bottom:e.max,left:n.min}}function EF(n,e){if(!e)return n;const t=e({x:n.left,y:n.top}),s=e({x:n.right,y:n.bottom});return{top:t.y,left:t.x,bottom:s.y,right:s.x}}function df(n){return n===void 0||n===1}function tp({scale:n,scaleX:e,scaleY:t}){return!df(n)||!df(e)||!df(t)}function Qi(n){return tp(n)||J1(n)||n.z||n.rotate||n.rotateX||n.rotateY||n.skewX||n.skewY}function J1(n){return Kv(n.x)||Kv(n.y)}function Kv(n){return n&&n!=="0%"}function yu(n,e,t){const s=n-t,i=e*s;return t+i}function Xv(n,e,t,s,i){return i!==void 0&&(n=yu(n,i,s)),yu(n,t,s)+e}function np(n,e=0,t=1,s,i){n.min=Xv(n.min,e,t,s,i),n.max=Xv(n.max,e,t,s,i)}function eA(n,{x:e,y:t}){np(n.x,e.translate,e.scale,e.originPoint),np(n.y,t.translate,t.scale,t.originPoint)}const Zv=.999999999999,Yv=1.0000000000001;function _F(n,e,t,s=!1){const i=t.length;if(!i)return;e.x=e.y=1;let r,o;for(let c=0;c<i;c++){r=t[c],o=r.projectionDelta;const{visualElement:u}=r.options;u&&u.props.style&&u.props.style.display==="contents"||(s&&r.options.layoutScroll&&r.scroll&&r!==r.root&&so(n,{x:-r.scroll.offset.x,y:-r.scroll.offset.y}),o&&(e.x*=o.x.scale,e.y*=o.y.scale,eA(n,o)),s&&Qi(r.latestValues)&&so(n,r.latestValues))}e.x<Yv&&e.x>Zv&&(e.x=1),e.y<Yv&&e.y>Zv&&(e.y=1)}function no(n,e){n.min=n.min+e,n.max=n.max+e}function Qv(n,e,t,s,i=.5){const r=vt(n.min,n.max,i);np(n,e,t,r,s)}function so(n,e){Qv(n.x,e.x,e.scaleX,e.scale,e.originX),Qv(n.y,e.y,e.scaleY,e.scale,e.originY)}function tA(n,e){return Q1(EF(n.getBoundingClientRect(),e))}function CF(n,e,t){const s=tA(n,t),{scroll:i}=e;return i&&(no(s.x,i.offset.x),no(s.y,i.offset.y)),s}const Jv=()=>({translate:0,scale:1,origin:0,originPoint:0}),io=()=>({x:Jv(),y:Jv()}),ew=()=>({min:0,max:0}),Ot=()=>({x:ew(),y:ew()}),sp={current:null},nA={current:!1};function kF(){if(nA.current=!0,!!Zp)if(window.matchMedia){const n=window.matchMedia("(prefers-reduced-motion)"),e=()=>sp.current=n.matches;n.addEventListener("change",e),e()}else sp.current=!1}const TF=new WeakMap;function PF(n,e,t){for(const s in e){const i=e[s],r=t[s];if(un(i))n.addValue(s,i);else if(un(r))n.addValue(s,yo(i,{owner:n}));else if(r!==i)if(n.hasValue(s)){const o=n.getValue(s);o.liveStyle===!0?o.jump(i):o.hasAnimated||o.set(i)}else{const o=n.getStaticValue(s);n.addValue(s,yo(o!==void 0?o:i,{owner:n}))}}for(const s in t)e[s]===void 0&&n.removeValue(s);return e}const tw=["AnimationStart","AnimationComplete","Update","BeforeLayoutMeasure","LayoutMeasure","LayoutAnimationStart","LayoutAnimationComplete"];class FF{scrapeMotionValuesFromProps(e,t,s){return{}}constructor({parent:e,props:t,presenceContext:s,reducedMotionConfig:i,blockInitialAnimation:r,visualState:o},c={}){this.current=null,this.children=new Set,this.isVariantNode=!1,this.isControllingVariants=!1,this.shouldReduceMotion=null,this.values=new Map,this.KeyframeResolver=pm,this.features={},this.valueSubscriptions=new Map,this.prevMotionValues={},this.events={},this.propEventSubscriptions={},this.notifyUpdate=()=>this.notify("Update",this.latestValues),this.render=()=>{this.current&&(this.triggerBuild(),this.renderInstance(this.current,this.renderState,this.props.style,this.projection))},this.renderScheduledAt=0,this.scheduleRender=()=>{const g=Pn.now();this.renderScheduledAt<g&&(this.renderScheduledAt=g,ut.render(this.render,!1,!0))};const{latestValues:u,renderState:h}=o;this.latestValues=u,this.baseTarget={...u},this.initialValues=t.initial?{...u}:{},this.renderState=h,this.parent=e,this.props=t,this.presenceContext=s,this.depth=e?e.depth+1:0,this.reducedMotionConfig=i,this.options=c,this.blockInitialAnimation=!!r,this.isControllingVariants=Ou(t),this.isVariantNode=$1(t),this.isVariantNode&&(this.variantChildren=new Set),this.manuallyAnimateOnMount=!!(e&&e.current);const{willChange:f,...p}=this.scrapeMotionValuesFromProps(t,{},this);for(const g in p){const w=p[g];u[g]!==void 0&&un(w)&&w.set(u[g])}}mount(e){this.current=e,TF.set(e,this),this.projection&&!this.projection.instance&&this.projection.mount(e),this.parent&&this.isVariantNode&&!this.isControllingVariants&&(this.removeFromVariantTree=this.parent.addVariantChild(this)),this.values.forEach((t,s)=>this.bindToMotionValue(s,t)),nA.current||kF(),this.shouldReduceMotion=this.reducedMotionConfig==="never"?!1:this.reducedMotionConfig==="always"?!0:sp.current,this.parent?.addChild(this),this.update(this.props,this.presenceContext)}unmount(){this.projection&&this.projection.unmount(),Ri(this.notifyUpdate),Ri(this.render),this.valueSubscriptions.forEach(e=>e()),this.valueSubscriptions.clear(),this.removeFromVariantTree&&this.removeFromVariantTree(),this.parent?.removeChild(this);for(const e in this.events)this.events[e].clear();for(const e in this.features){const t=this.features[e];t&&(t.unmount(),t.isMounted=!1)}this.current=null}addChild(e){this.children.add(e),this.enteringChildren??(this.enteringChildren=new Set),this.enteringChildren.add(e)}removeChild(e){this.children.delete(e),this.enteringChildren&&this.enteringChildren.delete(e)}bindToMotionValue(e,t){this.valueSubscriptions.has(e)&&this.valueSubscriptions.get(e)();const s=Po.has(e);s&&this.onBindTransform&&this.onBindTransform();const i=t.on("change",o=>{this.latestValues[e]=o,this.props.onUpdate&&ut.preRender(this.notifyUpdate),s&&this.projection&&(this.projection.isTransformDirty=!0),this.scheduleRender()});let r;window.MotionCheckAppearSync&&(r=window.MotionCheckAppearSync(this,e,t)),this.valueSubscriptions.set(e,()=>{i(),r&&r(),t.owner&&t.stop()})}sortNodePosition(e){return!this.current||!this.sortInstanceNodePosition||this.type!==e.type?0:this.sortInstanceNodePosition(this.current,e.current)}updateFeatures(){let e="animation";for(e in vo){const t=vo[e];if(!t)continue;const{isEnabled:s,Feature:i}=t;if(!this.features[e]&&i&&s(this.props)&&(this.features[e]=new i(this)),this.features[e]){const r=this.features[e];r.isMounted?r.update():(r.mount(),r.isMounted=!0)}}}triggerBuild(){this.build(this.renderState,this.latestValues,this.props)}measureViewportBox(){return this.current?this.measureInstanceViewportBox(this.current,this.props):Ot()}getStaticValue(e){return this.latestValues[e]}setStaticValue(e,t){this.latestValues[e]=t}update(e,t){(e.transformTemplate||this.props.transformTemplate)&&this.scheduleRender(),this.prevProps=this.props,this.props=e,this.prevPresenceContext=this.presenceContext,this.presenceContext=t;for(let s=0;s<tw.length;s++){const i=tw[s];this.propEventSubscriptions[i]&&(this.propEventSubscriptions[i](),delete this.propEventSubscriptions[i]);const r="on"+i,o=e[r];o&&(this.propEventSubscriptions[i]=this.on(i,o))}this.prevMotionValues=PF(this,this.scrapeMotionValuesFromProps(e,this.prevProps,this),this.prevMotionValues),this.handleChildMotionValue&&this.handleChildMotionValue()}getProps(){return this.props}getVariant(e){return this.props.variants?this.props.variants[e]:void 0}getDefaultTransition(){return this.props.transition}getTransformPagePoint(){return this.props.transformPagePoint}getClosestVariantNode(){return this.isVariantNode?this:this.parent?this.parent.getClosestVariantNode():void 0}addVariantChild(e){const t=this.getClosestVariantNode();if(t)return t.variantChildren&&t.variantChildren.add(e),()=>t.variantChildren.delete(e)}addValue(e,t){const s=this.values.get(e);t!==s&&(s&&this.removeValue(e),this.bindToMotionValue(e,t),this.values.set(e,t),this.latestValues[e]=t.get())}removeValue(e){this.values.delete(e);const t=this.valueSubscriptions.get(e);t&&(t(),this.valueSubscriptions.delete(e)),delete this.latestValues[e],this.removeValueFromRenderState(e,this.renderState)}hasValue(e){return this.values.has(e)}getValue(e,t){if(this.props.values&&this.props.values[e])return this.props.values[e];let s=this.values.get(e);return s===void 0&&t!==void 0&&(s=yo(t===null?void 0:t,{owner:this}),this.addValue(e,s)),s}readValue(e,t){let s=this.latestValues[e]!==void 0||!this.current?this.latestValues[e]:this.getBaseTargetFromProps(this.props,e)??this.readValueFromInstance(this.current,e,this.options);return s!=null&&(typeof s=="string"&&(Xb(s)||Yb(s))?s=parseFloat(s):!U2(s)&&Ni.test(t)&&(s=N1(e,t)),this.setBaseTarget(e,un(s)?s.get():s)),un(s)?s.get():s}setBaseTarget(e,t){this.baseTarget[e]=t}getBaseTarget(e){const{initial:t}=this.props;let s;if(typeof t=="string"||typeof t=="object"){const r=Em(this.props,t,this.presenceContext?.custom);r&&(s=r[e])}if(t&&s!==void 0)return s;const i=this.getBaseTargetFromProps(this.props,e);return i!==void 0&&!un(i)?i:this.initialValues[e]!==void 0&&s===void 0?void 0:this.baseTarget[e]}on(e,t){return this.events[e]||(this.events[e]=new nm),this.events[e].add(t)}notify(e,...t){this.events[e]&&this.events[e].notify(...t)}scheduleRenderMicrotask(){ym.render(this.render)}}class sA extends FF{constructor(){super(...arguments),this.KeyframeResolver=F2}sortInstanceNodePosition(e,t){return e.compareDocumentPosition(t)&2?1:-1}getBaseTargetFromProps(e,t){return e.style?e.style[t]:void 0}removeValueFromRenderState(e,{vars:t,style:s}){delete t[e],delete s[e]}handleChildMotionValue(){this.childSubscription&&(this.childSubscription(),delete this.childSubscription);const{children:e}=this.props;un(e)&&(this.childSubscription=e.on("change",t=>{this.current&&(this.current.textContent=`${t}`)}))}}function iA(n,{style:e,vars:t},s,i){const r=n.style;let o;for(o in e)r[o]=e[o];i?.applyProjectionStyles(r,s);for(o in t)r.setProperty(o,t[o])}function RF(n){return window.getComputedStyle(n)}class NF extends sA{constructor(){super(...arguments),this.type="html",this.renderInstance=iA}readValueFromInstance(e,t){if(Po.has(t))return this.projection?.isProjecting?Kf(t):XP(e,t);{const s=RF(e),i=(rm(t)?s.getPropertyValue(t):s[t])||0;return typeof i=="string"?i.trim():i}}measureInstanceViewportBox(e,{transformPagePoint:t}){return tA(e,t)}build(e,t,s){bm(e,t,s.transformTemplate)}scrapeMotionValuesFromProps(e,t,s){return _m(e,t,s)}}const rA=new Set(["baseFrequency","diffuseConstant","kernelMatrix","kernelUnitLength","keySplines","keyTimes","limitingConeAngle","markerHeight","markerWidth","numOctaves","targetX","targetY","surfaceScale","specularConstant","specularExponent","stdDeviation","tableValues","viewBox","gradientTransform","pathLength","startOffset","textLength","lengthAdjust"]);function MF(n,e,t,s){iA(n,e,void 0,s);for(const i in e.attrs)n.setAttribute(rA.has(i)?i:Cm(i),e.attrs[i])}class DF extends sA{constructor(){super(...arguments),this.type="svg",this.isSVGTag=!1,this.measureInstanceViewportBox=Ot}getBaseTargetFromProps(e,t){return e[t]}readValueFromInstance(e,t){if(Po.has(t)){const s=R1(t);return s&&s.default||0}return t=rA.has(t)?t:Cm(t),e.getAttribute(t)}scrapeMotionValuesFromProps(e,t,s){return K1(e,t,s)}build(e,t,s){H1(e,t,this.isSVGTag,s.transformTemplate,s.style)}renderInstance(e,t,s,i){MF(e,t,s,i)}mount(e){this.isSVGTag=G1(e.tagName),super.mount(e)}}const LF=(n,e)=>Sm(n)?new DF(e):new NF(e,{allowProjection:n!==F.Fragment});function co(n,e,t){const s=n.getProps();return Em(s,e,t!==void 0?t:s.custom,n)}const ip=n=>Array.isArray(n);function IF(n,e,t){n.hasValue(e)?n.getValue(e).set(t):n.addValue(e,yo(t))}function OF(n){return ip(n)?n[n.length-1]||0:n}function jF(n,e){const t=co(n,e);let{transitionEnd:s={},transition:i={},...r}=t||{};r={...r,...s};for(const o in r){const c=OF(r[o]);IF(n,o,c)}}function BF(n){return!!(un(n)&&n.add)}function rp(n,e){const t=n.getValue("willChange");if(BF(t))return t.add(e);if(!t&&ni.WillChange){const s=new ni.WillChange("auto");n.addValue("willChange",s),s.add(e)}}function oA(n){return n.props[X1]}const zF=n=>n!==null;function $F(n,{repeat:e,repeatType:t="loop"},s){const i=n.filter(zF),r=e&&t!=="loop"&&e%2===1?0:i.length-1;return i[r]}const VF={type:"spring",stiffness:500,damping:25,restSpeed:10},UF=n=>({type:"spring",stiffness:550,damping:n===0?2*Math.sqrt(550):30,restSpeed:10}),HF={type:"keyframes",duration:.8},WF={type:"keyframes",ease:[.25,.1,.35,1],duration:.3},GF=(n,{keyframes:e})=>e.length>2?HF:Po.has(n)?n.startsWith("scale")?UF(e[1]):VF:WF;function qF({when:n,delay:e,delayChildren:t,staggerChildren:s,staggerDirection:i,repeat:r,repeatType:o,repeatDelay:c,from:u,elapsed:h,...f}){return!!Object.keys(f).length}const km=(n,e,t,s={},i,r)=>o=>{const c=mm(s,n)||{},u=c.delay||s.delay||0;let{elapsed:h=0}=s;h=h-Ls(u);const f={keyframes:Array.isArray(t)?t:[null,t],ease:"easeOut",velocity:e.getVelocity(),...c,delay:-h,onUpdate:g=>{e.set(g),c.onUpdate&&c.onUpdate(g)},onComplete:()=>{o(),c.onComplete&&c.onComplete()},name:n,motionValue:e,element:r?void 0:i};qF(c)||Object.assign(f,GF(n,f)),f.duration&&(f.duration=Ls(f.duration)),f.repeatDelay&&(f.repeatDelay=Ls(f.repeatDelay)),f.from!==void 0&&(f.keyframes[0]=f.from);let p=!1;if((f.type===!1||f.duration===0&&!f.repeatDelay)&&(Jf(f),f.delay===0&&(p=!0)),(ni.instantAnimations||ni.skipAnimations)&&(p=!0,Jf(f),f.delay=0),f.allowFlatten=!c.type&&!c.ease,p&&!r&&e.get()!==void 0){const g=$F(f.keyframes,c);if(g!==void 0){ut.update(()=>{f.onUpdate(g),f.onComplete()});return}}return c.isSync?new fm(f):new v2(f)};function KF({protectedKeys:n,needsAnimating:e},t){const s=n.hasOwnProperty(t)&&e[t]!==!0;return e[t]=!1,s}function aA(n,e,{delay:t=0,transitionOverride:s,type:i}={}){let{transition:r=n.getDefaultTransition(),transitionEnd:o,...c}=e;s&&(r=s);const u=[],h=i&&n.animationState&&n.animationState.getState()[i];for(const f in c){const p=n.getValue(f,n.latestValues[f]??null),g=c[f];if(g===void 0||h&&KF(h,f))continue;const w={delay:t,...mm(r||{},f)},A=p.get();if(A!==void 0&&!p.isAnimating&&!Array.isArray(g)&&g===A&&!w.velocity)continue;let x=!1;if(window.MotionHandoffAnimation){const E=oA(n);if(E){const _=window.MotionHandoffAnimation(E,f,ut);_!==null&&(w.startTime=_,x=!0)}}rp(n,f),p.start(km(f,p,g,n.shouldReduceMotion&&T1.has(f)?{type:!1}:w,n,x));const S=p.animation;S&&u.push(S)}return o&&Promise.all(u).then(()=>{ut.update(()=>{o&&jF(n,o)})}),u}function lA(n,e,t,s=0,i=1){const r=Array.from(n).sort((h,f)=>h.sortNodePosition(f)).indexOf(e),o=n.size,c=(o-1)*s;return typeof t=="function"?t(r,o):i===1?r*s:c-r*s}function op(n,e,t={}){const s=co(n,e,t.type==="exit"?n.presenceContext?.custom:void 0);let{transition:i=n.getDefaultTransition()||{}}=s||{};t.transitionOverride&&(i=t.transitionOverride);const r=s?()=>Promise.all(aA(n,s,t)):()=>Promise.resolve(),o=n.variantChildren&&n.variantChildren.size?(u=0)=>{const{delayChildren:h=0,staggerChildren:f,staggerDirection:p}=i;return XF(n,e,u,h,f,p,t)}:()=>Promise.resolve(),{when:c}=i;if(c){const[u,h]=c==="beforeChildren"?[r,o]:[o,r];return u().then(()=>h())}else return Promise.all([r(),o(t.delay)])}function XF(n,e,t=0,s=0,i=0,r=1,o){const c=[];for(const u of n.variantChildren)u.notify("AnimationStart",e),c.push(op(u,e,{...o,delay:t+(typeof s=="function"?0:s)+lA(n.variantChildren,u,s,i,r)}).then(()=>u.notify("AnimationComplete",e)));return Promise.all(c)}function ZF(n,e,t={}){n.notify("AnimationStart",e);let s;if(Array.isArray(e)){const i=e.map(r=>op(n,r,t));s=Promise.all(i)}else if(typeof e=="string")s=op(n,e,t);else{const i=typeof e=="function"?co(n,e,t.custom):e;s=Promise.all(aA(n,i,t))}return s.then(()=>{n.notify("AnimationComplete",e)})}function cA(n,e){if(!Array.isArray(e))return!1;const t=e.length;if(t!==n.length)return!1;for(let s=0;s<t;s++)if(e[s]!==n[s])return!1;return!0}const YF=xm.length;function uA(n){if(!n)return;if(!n.isControllingVariants){const t=n.parent?uA(n.parent)||{}:{};return n.props.initial!==void 0&&(t.initial=n.props.initial),t}const e={};for(let t=0;t<YF;t++){const s=xm[t],i=n.props[s];(Ua(i)||i===!1)&&(e[s]=i)}return e}const QF=[...wm].reverse(),JF=wm.length;function eR(n){return e=>Promise.all(e.map(({animation:t,options:s})=>ZF(n,t,s)))}function tR(n){let e=eR(n),t=nw(),s=!0;const i=u=>(h,f)=>{const p=co(n,f,u==="exit"?n.presenceContext?.custom:void 0);if(p){const{transition:g,transitionEnd:w,...A}=p;h={...h,...A,...w}}return h};function r(u){e=u(n)}function o(u){const{props:h}=n,f=uA(n.parent)||{},p=[],g=new Set;let w={},A=1/0;for(let S=0;S<JF;S++){const E=QF[S],_=t[E],k=h[E]!==void 0?h[E]:f[E],T=Ua(k),P=E===u?_.isActive:null;P===!1&&(A=S);let N=k===f[E]&&k!==h[E]&&T;if(N&&s&&n.manuallyAnimateOnMount&&(N=!1),_.protectedKeys={...w},!_.isActive&&P===null||!k&&!_.prevProp||Iu(k)||typeof k=="boolean")continue;const M=nR(_.prevProp,k);let I=M||E===u&&_.isActive&&!N&&T||S>A&&T,$=!1;const q=Array.isArray(k)?k:[k];let Z=q.reduce(i(E),{});P===!1&&(Z={});const{prevResolvedValues:ie={}}=_,U={...ie,...Z},ee=Y=>{I=!0,g.has(Y)&&($=!0,g.delete(Y)),_.needsAnimating[Y]=!0;const W=n.getValue(Y);W&&(W.liveStyle=!1)};for(const Y in U){const W=Z[Y],oe=ie[Y];if(w.hasOwnProperty(Y))continue;let J=!1;ip(W)&&ip(oe)?J=!cA(W,oe):J=W!==oe,J?W!=null?ee(Y):g.add(Y):W!==void 0&&g.has(Y)?ee(Y):_.protectedKeys[Y]=!0}_.prevProp=k,_.prevResolvedValues=Z,_.isActive&&(w={...w,...Z}),s&&n.blockInitialAnimation&&(I=!1);const ue=N&&M;I&&(!ue||$)&&p.push(...q.map(Y=>{const W={type:E};if(typeof Y=="string"&&s&&!ue&&n.manuallyAnimateOnMount&&n.parent){const{parent:oe}=n,J=co(oe,Y);if(oe.enteringChildren&&J){const{delayChildren:O}=J.transition||{};W.delay=lA(oe.enteringChildren,n,O)}}return{animation:Y,options:W}}))}if(g.size){const S={};if(typeof h.initial!="boolean"){const E=co(n,Array.isArray(h.initial)?h.initial[0]:h.initial);E&&E.transition&&(S.transition=E.transition)}g.forEach(E=>{const _=n.getBaseTarget(E),k=n.getValue(E);k&&(k.liveStyle=!0),S[E]=_??null}),p.push({animation:S})}let x=!!p.length;return s&&(h.initial===!1||h.initial===h.animate)&&!n.manuallyAnimateOnMount&&(x=!1),s=!1,x?e(p):Promise.resolve()}function c(u,h){if(t[u].isActive===h)return Promise.resolve();n.variantChildren?.forEach(p=>p.animationState?.setActive(u,h)),t[u].isActive=h;const f=o(u);for(const p in t)t[p].protectedKeys={};return f}return{animateChanges:o,setActive:c,setAnimateFunction:r,getState:()=>t,reset:()=>{t=nw()}}}function nR(n,e){return typeof e=="string"?e!==n:Array.isArray(e)?!cA(e,n):!1}function Zi(n=!1){return{isActive:n,protectedKeys:{},needsAnimating:{},prevResolvedValues:{}}}function nw(){return{animate:Zi(!0),whileInView:Zi(),whileHover:Zi(),whileTap:Zi(),whileDrag:Zi(),whileFocus:Zi(),exit:Zi()}}class Di{constructor(e){this.isMounted=!1,this.node=e}update(){}}class sR extends Di{constructor(e){super(e),e.animationState||(e.animationState=tR(e))}updateAnimationControlsSubscription(){const{animate:e}=this.node.getProps();Iu(e)&&(this.unmountControls=e.subscribe(this.node))}mount(){this.updateAnimationControlsSubscription()}update(){const{animate:e}=this.node.getProps(),{animate:t}=this.node.prevProps||{};e!==t&&this.updateAnimationControlsSubscription()}unmount(){this.node.animationState.reset(),this.unmountControls?.()}}let iR=0;class rR extends Di{constructor(){super(...arguments),this.id=iR++}update(){if(!this.node.presenceContext)return;const{isPresent:e,onExitComplete:t}=this.node.presenceContext,{isPresent:s}=this.node.prevPresenceContext||{};if(!this.node.animationState||e===s)return;const i=this.node.animationState.setActive("exit",!e);t&&!e&&i.then(()=>{t(this.id)})}mount(){const{register:e,onExitComplete:t}=this.node.presenceContext||{};t&&t(this.id),e&&(this.unmount=e(this.id))}unmount(){}}const oR={animation:{Feature:sR},exit:{Feature:rR}};function Wa(n,e,t,s={passive:!0}){return n.addEventListener(e,t,s),()=>n.removeEventListener(e,t)}function al(n){return{point:{x:n.pageX,y:n.pageY}}}const aR=n=>e=>vm(e)&&n(e,al(e));function Na(n,e,t,s){return Wa(n,e,aR(t),s)}const hA=1e-4,lR=1-hA,cR=1+hA,dA=.01,uR=0-dA,hR=0+dA;function yn(n){return n.max-n.min}function dR(n,e,t){return Math.abs(n-e)<=t}function sw(n,e,t,s=.5){n.origin=s,n.originPoint=vt(e.min,e.max,n.origin),n.scale=yn(t)/yn(e),n.translate=vt(t.min,t.max,n.origin)-n.originPoint,(n.scale>=lR&&n.scale<=cR||isNaN(n.scale))&&(n.scale=1),(n.translate>=uR&&n.translate<=hR||isNaN(n.translate))&&(n.translate=0)}function Ma(n,e,t,s){sw(n.x,e.x,t.x,s?s.originX:void 0),sw(n.y,e.y,t.y,s?s.originY:void 0)}function iw(n,e,t){n.min=t.min+e.min,n.max=n.min+yn(e)}function fR(n,e,t){iw(n.x,e.x,t.x),iw(n.y,e.y,t.y)}function rw(n,e,t){n.min=e.min-t.min,n.max=n.min+yn(e)}function vu(n,e,t){rw(n.x,e.x,t.x),rw(n.y,e.y,t.y)}function Qn(n){return[n("x"),n("y")]}const fA=({current:n})=>n?n.ownerDocument.defaultView:null,ow=(n,e)=>Math.abs(n-e);function pR(n,e){const t=ow(n.x,e.x),s=ow(n.y,e.y);return Math.sqrt(t**2+s**2)}class pA{constructor(e,t,{transformPagePoint:s,contextWindow:i=window,dragSnapToOrigin:r=!1,distanceThreshold:o=3}={}){if(this.startEvent=null,this.lastMoveEvent=null,this.lastMoveEventInfo=null,this.handlers={},this.contextWindow=window,this.updatePoint=()=>{if(!(this.lastMoveEvent&&this.lastMoveEventInfo))return;const g=pf(this.lastMoveEventInfo,this.history),w=this.startEvent!==null,A=pR(g.offset,{x:0,y:0})>=this.distanceThreshold;if(!w&&!A)return;const{point:x}=g,{timestamp:S}=Qt;this.history.push({...x,timestamp:S});const{onStart:E,onMove:_}=this.handlers;w||(E&&E(this.lastMoveEvent,g),this.startEvent=this.lastMoveEvent),_&&_(this.lastMoveEvent,g)},this.handlePointerMove=(g,w)=>{this.lastMoveEvent=g,this.lastMoveEventInfo=ff(w,this.transformPagePoint),ut.update(this.updatePoint,!0)},this.handlePointerUp=(g,w)=>{this.end();const{onEnd:A,onSessionEnd:x,resumeAnimation:S}=this.handlers;if(this.dragSnapToOrigin&&S&&S(),!(this.lastMoveEvent&&this.lastMoveEventInfo))return;const E=pf(g.type==="pointercancel"?this.lastMoveEventInfo:ff(w,this.transformPagePoint),this.history);this.startEvent&&A&&A(g,E),x&&x(g,E)},!vm(e))return;this.dragSnapToOrigin=r,this.handlers=t,this.transformPagePoint=s,this.distanceThreshold=o,this.contextWindow=i||window;const c=al(e),u=ff(c,this.transformPagePoint),{point:h}=u,{timestamp:f}=Qt;this.history=[{...h,timestamp:f}];const{onSessionStart:p}=t;p&&p(e,pf(u,this.history)),this.removeListeners=il(Na(this.contextWindow,"pointermove",this.handlePointerMove),Na(this.contextWindow,"pointerup",this.handlePointerUp),Na(this.contextWindow,"pointercancel",this.handlePointerUp))}updateHandlers(e){this.handlers=e}end(){this.removeListeners&&this.removeListeners(),Ri(this.updatePoint)}}function ff(n,e){return e?{point:e(n.point)}:n}function aw(n,e){return{x:n.x-e.x,y:n.y-e.y}}function pf({point:n},e){return{point:n,delta:aw(n,mA(e)),offset:aw(n,mR(e)),velocity:gR(e,.1)}}function mR(n){return n[0]}function mA(n){return n[n.length-1]}function gR(n,e){if(n.length<2)return{x:0,y:0};let t=n.length-1,s=null;const i=mA(n);for(;t>=0&&(s=n[t],!(i.timestamp-s.timestamp>Ls(e)));)t--;if(!s)return{x:0,y:0};const r=es(i.timestamp-s.timestamp);if(r===0)return{x:0,y:0};const o={x:(i.x-s.x)/r,y:(i.y-s.y)/r};return o.x===1/0&&(o.x=0),o.y===1/0&&(o.y=0),o}function yR(n,{min:e,max:t},s){return e!==void 0&&n<e?n=s?vt(e,n,s.min):Math.max(n,e):t!==void 0&&n>t&&(n=s?vt(t,n,s.max):Math.min(n,t)),n}function lw(n,e,t){return{min:e!==void 0?n.min+e:void 0,max:t!==void 0?n.max+t-(n.max-n.min):void 0}}function vR(n,{top:e,left:t,bottom:s,right:i}){return{x:lw(n.x,t,i),y:lw(n.y,e,s)}}function cw(n,e){let t=e.min-n.min,s=e.max-n.max;return e.max-e.min<n.max-n.min&&([t,s]=[s,t]),{min:t,max:s}}function wR(n,e){return{x:cw(n.x,e.x),y:cw(n.y,e.y)}}function xR(n,e){let t=.5;const s=yn(n),i=yn(e);return i>s?t=za(e.min,e.max-s,n.min):s>i&&(t=za(n.min,n.max-i,e.min)),ti(0,1,t)}function bR(n,e){const t={};return e.min!==void 0&&(t.min=e.min-n.min),e.max!==void 0&&(t.max=e.max-n.min),t}const ap=.35;function AR(n=ap){return n===!1?n=0:n===!0&&(n=ap),{x:uw(n,"left","right"),y:uw(n,"top","bottom")}}function uw(n,e,t){return{min:hw(n,e),max:hw(n,t)}}function hw(n,e){return typeof n=="number"?n:n[e]||0}const SR=new WeakMap;class ER{constructor(e){this.openDragLock=null,this.isDragging=!1,this.currentDirection=null,this.originPoint={x:0,y:0},this.constraints=!1,this.hasMutatedConstraints=!1,this.elastic=Ot(),this.latestPointerEvent=null,this.latestPanInfo=null,this.visualElement=e}start(e,{snapToCursor:t=!1,distanceThreshold:s}={}){const{presenceContext:i}=this.visualElement;if(i&&i.isPresent===!1)return;const r=p=>{const{dragSnapToOrigin:g}=this.getProps();g?this.pauseAnimation():this.stopAnimation(),t&&this.snapToCursor(al(p).point)},o=(p,g)=>{const{drag:w,dragPropagation:A,onDragStart:x}=this.getProps();if(w&&!A&&(this.openDragLock&&this.openDragLock(),this.openDragLock=L2(w),!this.openDragLock))return;this.latestPointerEvent=p,this.latestPanInfo=g,this.isDragging=!0,this.currentDirection=null,this.resolveConstraints(),this.visualElement.projection&&(this.visualElement.projection.isAnimationBlocked=!0,this.visualElement.projection.target=void 0),Qn(E=>{let _=this.getAxisMotionValue(E).get()||0;if(Is.test(_)){const{projection:k}=this.visualElement;if(k&&k.layout){const T=k.layout.layoutBox[E];T&&(_=yn(T)*(parseFloat(_)/100))}}this.originPoint[E]=_}),x&&ut.postRender(()=>x(p,g)),rp(this.visualElement,"transform");const{animationState:S}=this.visualElement;S&&S.setActive("whileDrag",!0)},c=(p,g)=>{this.latestPointerEvent=p,this.latestPanInfo=g;const{dragPropagation:w,dragDirectionLock:A,onDirectionLock:x,onDrag:S}=this.getProps();if(!w&&!this.openDragLock)return;const{offset:E}=g;if(A&&this.currentDirection===null){this.currentDirection=_R(E),this.currentDirection!==null&&x&&x(this.currentDirection);return}this.updateAxis("x",g.point,E),this.updateAxis("y",g.point,E),this.visualElement.render(),S&&S(p,g)},u=(p,g)=>{this.latestPointerEvent=p,this.latestPanInfo=g,this.stop(p,g),this.latestPointerEvent=null,this.latestPanInfo=null},h=()=>Qn(p=>this.getAnimationState(p)==="paused"&&this.getAxisMotionValue(p).animation?.play()),{dragSnapToOrigin:f}=this.getProps();this.panSession=new pA(e,{onSessionStart:r,onStart:o,onMove:c,onSessionEnd:u,resumeAnimation:h},{transformPagePoint:this.visualElement.getTransformPagePoint(),dragSnapToOrigin:f,distanceThreshold:s,contextWindow:fA(this.visualElement)})}stop(e,t){const s=e||this.latestPointerEvent,i=t||this.latestPanInfo,r=this.isDragging;if(this.cancel(),!r||!i||!s)return;const{velocity:o}=i;this.startAnimation(o);const{onDragEnd:c}=this.getProps();c&&ut.postRender(()=>c(s,i))}cancel(){this.isDragging=!1;const{projection:e,animationState:t}=this.visualElement;e&&(e.isAnimationBlocked=!1),this.panSession&&this.panSession.end(),this.panSession=void 0;const{dragPropagation:s}=this.getProps();!s&&this.openDragLock&&(this.openDragLock(),this.openDragLock=null),t&&t.setActive("whileDrag",!1)}updateAxis(e,t,s){const{drag:i}=this.getProps();if(!s||!Lc(e,i,this.currentDirection))return;const r=this.getAxisMotionValue(e);let o=this.originPoint[e]+s[e];this.constraints&&this.constraints[e]&&(o=yR(o,this.constraints[e],this.elastic[e])),r.set(o)}resolveConstraints(){const{dragConstraints:e,dragElastic:t}=this.getProps(),s=this.visualElement.projection&&!this.visualElement.projection.layout?this.visualElement.projection.measure(!1):this.visualElement.projection?.layout,i=this.constraints;e&&to(e)?this.constraints||(this.constraints=this.resolveRefConstraints()):e&&s?this.constraints=vR(s.layoutBox,e):this.constraints=!1,this.elastic=AR(t),i!==this.constraints&&s&&this.constraints&&!this.hasMutatedConstraints&&Qn(r=>{this.constraints!==!1&&this.getAxisMotionValue(r)&&(this.constraints[r]=bR(s.layoutBox[r],this.constraints[r]))})}resolveRefConstraints(){const{dragConstraints:e,onMeasureDragConstraints:t}=this.getProps();if(!e||!to(e))return!1;const s=e.current,{projection:i}=this.visualElement;if(!i||!i.layout)return!1;const r=CF(s,i.root,this.visualElement.getTransformPagePoint());let o=wR(i.layout.layoutBox,r);if(t){const c=t(SF(o));this.hasMutatedConstraints=!!c,c&&(o=Q1(c))}return o}startAnimation(e){const{drag:t,dragMomentum:s,dragElastic:i,dragTransition:r,dragSnapToOrigin:o,onDragTransitionEnd:c}=this.getProps(),u=this.constraints||{},h=Qn(f=>{if(!Lc(f,t,this.currentDirection))return;let p=u&&u[f]||{};o&&(p={min:0,max:0});const g=i?200:1e6,w=i?40:1e7,A={type:"inertia",velocity:s?e[f]:0,bounceStiffness:g,bounceDamping:w,timeConstant:750,restDelta:1,restSpeed:10,...r,...p};return this.startAxisValueAnimation(f,A)});return Promise.all(h).then(c)}startAxisValueAnimation(e,t){const s=this.getAxisMotionValue(e);return rp(this.visualElement,e),s.start(km(e,s,0,t,this.visualElement,!1))}stopAnimation(){Qn(e=>this.getAxisMotionValue(e).stop())}pauseAnimation(){Qn(e=>this.getAxisMotionValue(e).animation?.pause())}getAnimationState(e){return this.getAxisMotionValue(e).animation?.state}getAxisMotionValue(e){const t=`_drag${e.toUpperCase()}`,s=this.visualElement.getProps(),i=s[t];return i||this.visualElement.getValue(e,(s.initial?s.initial[e]:void 0)||0)}snapToCursor(e){Qn(t=>{const{drag:s}=this.getProps();if(!Lc(t,s,this.currentDirection))return;const{projection:i}=this.visualElement,r=this.getAxisMotionValue(t);if(i&&i.layout){const{min:o,max:c}=i.layout.layoutBox[t];r.set(e[t]-vt(o,c,.5))}})}scalePositionWithinConstraints(){if(!this.visualElement.current)return;const{drag:e,dragConstraints:t}=this.getProps(),{projection:s}=this.visualElement;if(!to(t)||!s||!this.constraints)return;this.stopAnimation();const i={x:0,y:0};Qn(o=>{const c=this.getAxisMotionValue(o);if(c&&this.constraints!==!1){const u=c.get();i[o]=xR({min:u,max:u},this.constraints[o])}});const{transformTemplate:r}=this.visualElement.getProps();this.visualElement.current.style.transform=r?r({},""):"none",s.root&&s.root.updateScroll(),s.updateLayout(),this.resolveConstraints(),Qn(o=>{if(!Lc(o,e,null))return;const c=this.getAxisMotionValue(o),{min:u,max:h}=this.constraints[o];c.set(vt(u,h,i[o]))})}addListeners(){if(!this.visualElement.current)return;SR.set(this.visualElement,this);const e=this.visualElement.current,t=Na(e,"pointerdown",u=>{const{drag:h,dragListener:f=!0}=this.getProps();h&&f&&this.start(u)}),s=()=>{const{dragConstraints:u}=this.getProps();to(u)&&u.current&&(this.constraints=this.resolveRefConstraints())},{projection:i}=this.visualElement,r=i.addEventListener("measure",s);i&&!i.layout&&(i.root&&i.root.updateScroll(),i.updateLayout()),ut.read(s);const o=Wa(window,"resize",()=>this.scalePositionWithinConstraints()),c=i.addEventListener("didUpdate",(({delta:u,hasLayoutChanged:h})=>{this.isDragging&&h&&(Qn(f=>{const p=this.getAxisMotionValue(f);p&&(this.originPoint[f]+=u[f].translate,p.set(p.get()+u[f].translate))}),this.visualElement.render())}));return()=>{o(),t(),r(),c&&c()}}getProps(){const e=this.visualElement.getProps(),{drag:t=!1,dragDirectionLock:s=!1,dragPropagation:i=!1,dragConstraints:r=!1,dragElastic:o=ap,dragMomentum:c=!0}=e;return{...e,drag:t,dragDirectionLock:s,dragPropagation:i,dragConstraints:r,dragElastic:o,dragMomentum:c}}}function Lc(n,e,t){return(e===!0||e===n)&&(t===null||t===n)}function _R(n,e=10){let t=null;return Math.abs(n.y)>e?t="y":Math.abs(n.x)>e&&(t="x"),t}class CR extends Di{constructor(e){super(e),this.removeGroupControls=ts,this.removeListeners=ts,this.controls=new ER(e)}mount(){const{dragControls:e}=this.node.getProps();e&&(this.removeGroupControls=e.subscribe(this.controls)),this.removeListeners=this.controls.addListeners()||ts}unmount(){this.removeGroupControls(),this.removeListeners()}}const dw=n=>(e,t)=>{n&&ut.postRender(()=>n(e,t))};class kR extends Di{constructor(){super(...arguments),this.removePointerDownListener=ts}onPointerDown(e){this.session=new pA(e,this.createPanHandlers(),{transformPagePoint:this.node.getTransformPagePoint(),contextWindow:fA(this.node)})}createPanHandlers(){const{onPanSessionStart:e,onPanStart:t,onPan:s,onPanEnd:i}=this.node.getProps();return{onSessionStart:dw(e),onStart:dw(t),onMove:s,onEnd:(r,o)=>{delete this.session,i&&ut.postRender(()=>i(r,o))}}}mount(){this.removePointerDownListener=Na(this.node.current,"pointerdown",e=>this.onPointerDown(e))}update(){this.session&&this.session.updateHandlers(this.createPanHandlers())}unmount(){this.removePointerDownListener(),this.session&&this.session.end()}}const iu={hasAnimatedSinceResize:!0,hasEverUpdated:!1};function fw(n,e){return e.max===e.min?0:n/(e.max-e.min)*100}const xa={correct:(n,e)=>{if(!e.target)return n;if(typeof n=="string")if(Re.test(n))n=parseFloat(n);else return n;const t=fw(n,e.target.x),s=fw(n,e.target.y);return`${t}% ${s}%`}},TR={correct:(n,{treeScale:e,projectionDelta:t})=>{const s=n,i=Ni.parse(n);if(i.length>5)return s;const r=Ni.createTransformer(n),o=typeof i[0]!="number"?1:0,c=t.x.scale*e.x,u=t.y.scale*e.y;i[0+o]/=c,i[1+o]/=u;const h=vt(c,u,.5);return typeof i[2+o]=="number"&&(i[2+o]/=h),typeof i[3+o]=="number"&&(i[3+o]/=h),r(i)}};let mf=!1;class PR extends F.Component{componentDidMount(){const{visualElement:e,layoutGroup:t,switchLayoutGroup:s,layoutId:i}=this.props,{projection:r}=e;Y2(FR),r&&(t.group&&t.group.add(r),s&&s.register&&i&&s.register(r),mf&&r.root.didUpdate(),r.addEventListener("animationComplete",()=>{this.safeToRemove()}),r.setOptions({...r.options,onExitComplete:()=>this.safeToRemove()})),iu.hasEverUpdated=!0}getSnapshotBeforeUpdate(e){const{layoutDependency:t,visualElement:s,drag:i,isPresent:r}=this.props,{projection:o}=s;return o&&(o.isPresent=r,mf=!0,i||e.layoutDependency!==t||t===void 0||e.isPresent!==r?o.willUpdate():this.safeToRemove(),e.isPresent!==r&&(r?o.promote():o.relegate()||ut.postRender(()=>{const c=o.getStack();(!c||!c.members.length)&&this.safeToRemove()}))),null}componentDidUpdate(){const{projection:e}=this.props.visualElement;e&&(e.root.didUpdate(),ym.postRender(()=>{!e.currentAnimation&&e.isLead()&&this.safeToRemove()}))}componentWillUnmount(){const{visualElement:e,layoutGroup:t,switchLayoutGroup:s}=this.props,{projection:i}=e;mf=!0,i&&(i.scheduleCheckAfterUnmount(),t&&t.group&&t.group.remove(i),s&&s.deregister&&s.deregister(i))}safeToRemove(){const{safeToRemove:e}=this.props;e&&e()}render(){return null}}function gA(n){const[e,t]=H2(),s=F.useContext(Kb);return y.jsx(PR,{...n,layoutGroup:s,switchLayoutGroup:F.useContext(Z1),isPresent:e,safeToRemove:t})}const FR={borderRadius:{...xa,applyTo:["borderTopLeftRadius","borderTopRightRadius","borderBottomLeftRadius","borderBottomRightRadius"]},borderTopLeftRadius:xa,borderTopRightRadius:xa,borderBottomLeftRadius:xa,borderBottomRightRadius:xa,boxShadow:TR};function RR(n,e,t){const s=un(n)?n:yo(n);return s.start(km("",s,e,t)),s.animation}const NR=(n,e)=>n.depth-e.depth;class MR{constructor(){this.children=[],this.isDirty=!1}add(e){Qp(this.children,e),this.isDirty=!0}remove(e){Jp(this.children,e),this.isDirty=!0}forEach(e){this.isDirty&&this.children.sort(NR),this.isDirty=!1,this.children.forEach(e)}}function DR(n,e){const t=Pn.now(),s=({timestamp:i})=>{const r=i-t;r>=e&&(Ri(s),n(r-e))};return ut.setup(s,!0),()=>Ri(s)}const yA=["TopLeft","TopRight","BottomLeft","BottomRight"],LR=yA.length,pw=n=>typeof n=="string"?parseFloat(n):n,mw=n=>typeof n=="number"||Re.test(n);function IR(n,e,t,s,i,r){i?(n.opacity=vt(0,t.opacity??1,OR(s)),n.opacityExit=vt(e.opacity??1,0,jR(s))):r&&(n.opacity=vt(e.opacity??1,t.opacity??1,s));for(let o=0;o<LR;o++){const c=`border${yA[o]}Radius`;let u=gw(e,c),h=gw(t,c);if(u===void 0&&h===void 0)continue;u||(u=0),h||(h=0),u===0||h===0||mw(u)===mw(h)?(n[c]=Math.max(vt(pw(u),pw(h),s),0),(Is.test(h)||Is.test(u))&&(n[c]+="%")):n[c]=h}(e.rotate||t.rotate)&&(n.rotate=vt(e.rotate||0,t.rotate||0,s))}function gw(n,e){return n[e]!==void 0?n[e]:n.borderRadius}const OR=vA(0,.5,r1),jR=vA(.5,.95,ts);function vA(n,e,t){return s=>s<n?0:s>e?1:t(za(n,e,s))}function yw(n,e){n.min=e.min,n.max=e.max}function fs(n,e){yw(n.x,e.x),yw(n.y,e.y)}function vw(n,e){n.translate=e.translate,n.scale=e.scale,n.originPoint=e.originPoint,n.origin=e.origin}function ww(n,e,t,s,i){return n-=e,n=yu(n,1/t,s),i!==void 0&&(n=yu(n,1/i,s)),n}function BR(n,e=0,t=1,s=.5,i,r=n,o=n){if(Is.test(e)&&(e=parseFloat(e),e=vt(o.min,o.max,e/100)-o.min),typeof e!="number")return;let c=vt(r.min,r.max,s);n===r&&(c-=e),n.min=ww(n.min,e,t,c,i),n.max=ww(n.max,e,t,c,i)}function xw(n,e,[t,s,i],r,o){BR(n,e[t],e[s],e[i],e.scale,r,o)}const zR=["x","scaleX","originX"],$R=["y","scaleY","originY"];function bw(n,e,t,s){xw(n.x,e,zR,t?t.x:void 0,s?s.x:void 0),xw(n.y,e,$R,t?t.y:void 0,s?s.y:void 0)}function Aw(n){return n.translate===0&&n.scale===1}function wA(n){return Aw(n.x)&&Aw(n.y)}function Sw(n,e){return n.min===e.min&&n.max===e.max}function VR(n,e){return Sw(n.x,e.x)&&Sw(n.y,e.y)}function Ew(n,e){return Math.round(n.min)===Math.round(e.min)&&Math.round(n.max)===Math.round(e.max)}function xA(n,e){return Ew(n.x,e.x)&&Ew(n.y,e.y)}function _w(n){return yn(n.x)/yn(n.y)}function Cw(n,e){return n.translate===e.translate&&n.scale===e.scale&&n.originPoint===e.originPoint}class UR{constructor(){this.members=[]}add(e){Qp(this.members,e),e.scheduleRender()}remove(e){if(Jp(this.members,e),e===this.prevLead&&(this.prevLead=void 0),e===this.lead){const t=this.members[this.members.length-1];t&&this.promote(t)}}relegate(e){const t=this.members.findIndex(i=>e===i);if(t===0)return!1;let s;for(let i=t;i>=0;i--){const r=this.members[i];if(r.isPresent!==!1){s=r;break}}return s?(this.promote(s),!0):!1}promote(e,t){const s=this.lead;if(e!==s&&(this.prevLead=s,this.lead=e,e.show(),s)){s.instance&&s.scheduleRender(),e.scheduleRender(),e.resumeFrom=s,t&&(e.resumeFrom.preserveOpacity=!0),s.snapshot&&(e.snapshot=s.snapshot,e.snapshot.latestValues=s.animationValues||s.latestValues),e.root&&e.root.isUpdating&&(e.isLayoutDirty=!0);const{crossfade:i}=e.options;i===!1&&s.hide()}}exitAnimationComplete(){this.members.forEach(e=>{const{options:t,resumingFrom:s}=e;t.onExitComplete&&t.onExitComplete(),s&&s.options.onExitComplete&&s.options.onExitComplete()})}scheduleRender(){this.members.forEach(e=>{e.instance&&e.scheduleRender(!1)})}removeLeadSnapshot(){this.lead&&this.lead.snapshot&&(this.lead.snapshot=void 0)}}function HR(n,e,t){let s="";const i=n.x.translate/e.x,r=n.y.translate/e.y,o=t?.z||0;if((i||r||o)&&(s=`translate3d(${i}px, ${r}px, ${o}px) `),(e.x!==1||e.y!==1)&&(s+=`scale(${1/e.x}, ${1/e.y}) `),t){const{transformPerspective:h,rotate:f,rotateX:p,rotateY:g,skewX:w,skewY:A}=t;h&&(s=`perspective(${h}px) ${s}`),f&&(s+=`rotate(${f}deg) `),p&&(s+=`rotateX(${p}deg) `),g&&(s+=`rotateY(${g}deg) `),w&&(s+=`skewX(${w}deg) `),A&&(s+=`skewY(${A}deg) `)}const c=n.x.scale*e.x,u=n.y.scale*e.y;return(c!==1||u!==1)&&(s+=`scale(${c}, ${u})`),s||"none"}const gf=["","X","Y","Z"],WR=1e3;let GR=0;function yf(n,e,t,s){const{latestValues:i}=e;i[n]&&(t[n]=i[n],e.setStaticValue(n,0),s&&(s[n]=0))}function bA(n){if(n.hasCheckedOptimisedAppear=!0,n.root===n)return;const{visualElement:e}=n.options;if(!e)return;const t=oA(e);if(window.MotionHasOptimisedAnimation(t,"transform")){const{layout:i,layoutId:r}=n.options;window.MotionCancelOptimisedAnimation(t,"transform",ut,!(i||r))}const{parent:s}=n;s&&!s.hasCheckedOptimisedAppear&&bA(s)}function AA({attachResizeListener:n,defaultParent:e,measureScroll:t,checkIsScrollRoot:s,resetTransform:i}){return class{constructor(o={},c=e?.()){this.id=GR++,this.animationId=0,this.animationCommitId=0,this.children=new Set,this.options={},this.isTreeAnimating=!1,this.isAnimationBlocked=!1,this.isLayoutDirty=!1,this.isProjectionDirty=!1,this.isSharedProjectionDirty=!1,this.isTransformDirty=!1,this.updateManuallyBlocked=!1,this.updateBlockedByResize=!1,this.isUpdating=!1,this.isSVG=!1,this.needsReset=!1,this.shouldResetTransform=!1,this.hasCheckedOptimisedAppear=!1,this.treeScale={x:1,y:1},this.eventHandlers=new Map,this.hasTreeAnimated=!1,this.layoutVersion=0,this.updateScheduled=!1,this.scheduleUpdate=()=>this.update(),this.projectionUpdateScheduled=!1,this.checkUpdateFailed=()=>{this.isUpdating&&(this.isUpdating=!1,this.clearAllSnapshots())},this.updateProjection=()=>{this.projectionUpdateScheduled=!1,this.nodes.forEach(XR),this.nodes.forEach(JR),this.nodes.forEach(eN),this.nodes.forEach(ZR)},this.resolvedRelativeTargetAt=0,this.linkedParentVersion=0,this.hasProjected=!1,this.isVisible=!0,this.animationProgress=0,this.sharedNodes=new Map,this.latestValues=o,this.root=c?c.root||c:this,this.path=c?[...c.path,c]:[],this.parent=c,this.depth=c?c.depth+1:0;for(let u=0;u<this.path.length;u++)this.path[u].shouldResetTransform=!0;this.root===this&&(this.nodes=new MR)}addEventListener(o,c){return this.eventHandlers.has(o)||this.eventHandlers.set(o,new nm),this.eventHandlers.get(o).add(c)}notifyListeners(o,...c){const u=this.eventHandlers.get(o);u&&u.notify(...c)}hasListeners(o){return this.eventHandlers.has(o)}mount(o){if(this.instance)return;this.isSVG=O1(o)&&!$2(o),this.instance=o;const{layoutId:c,layout:u,visualElement:h}=this.options;if(h&&!h.current&&h.mount(o),this.root.nodes.add(this),this.parent&&this.parent.children.add(this),this.root.hasTreeAnimated&&(u||c)&&(this.isLayoutDirty=!0),n){let f,p=0;const g=()=>this.root.updateBlockedByResize=!1;ut.read(()=>{p=window.innerWidth}),n(o,()=>{const w=window.innerWidth;w!==p&&(p=w,this.root.updateBlockedByResize=!0,f&&f(),f=DR(g,250),iu.hasAnimatedSinceResize&&(iu.hasAnimatedSinceResize=!1,this.nodes.forEach(Pw)))})}c&&this.root.registerSharedNode(c,this),this.options.animate!==!1&&h&&(c||u)&&this.addEventListener("didUpdate",({delta:f,hasLayoutChanged:p,hasRelativeLayoutChanged:g,layout:w})=>{if(this.isTreeAnimationBlocked()){this.target=void 0,this.relativeTarget=void 0;return}const A=this.options.transition||h.getDefaultTransition()||rN,{onLayoutAnimationStart:x,onLayoutAnimationComplete:S}=h.getProps(),E=!this.targetLayout||!xA(this.targetLayout,w),_=!p&&g;if(this.options.layoutRoot||this.resumeFrom||_||p&&(E||!this.currentAnimation)){this.resumeFrom&&(this.resumingFrom=this.resumeFrom,this.resumingFrom.resumingFrom=void 0);const k={...mm(A,"layout"),onPlay:x,onComplete:S};(h.shouldReduceMotion||this.options.layoutRoot)&&(k.delay=0,k.type=!1),this.startAnimation(k),this.setAnimationOrigin(f,_)}else p||Pw(this),this.isLead()&&this.options.onExitComplete&&this.options.onExitComplete();this.targetLayout=w})}unmount(){this.options.layoutId&&this.willUpdate(),this.root.nodes.remove(this);const o=this.getStack();o&&o.remove(this),this.parent&&this.parent.children.delete(this),this.instance=void 0,this.eventHandlers.clear(),Ri(this.updateProjection)}blockUpdate(){this.updateManuallyBlocked=!0}unblockUpdate(){this.updateManuallyBlocked=!1}isUpdateBlocked(){return this.updateManuallyBlocked||this.updateBlockedByResize}isTreeAnimationBlocked(){return this.isAnimationBlocked||this.parent&&this.parent.isTreeAnimationBlocked()||!1}startUpdate(){this.isUpdateBlocked()||(this.isUpdating=!0,this.nodes&&this.nodes.forEach(tN),this.animationId++)}getTransformTemplate(){const{visualElement:o}=this.options;return o&&o.getProps().transformTemplate}willUpdate(o=!0){if(this.root.hasTreeAnimated=!0,this.root.isUpdateBlocked()){this.options.onExitComplete&&this.options.onExitComplete();return}if(window.MotionCancelOptimisedAnimation&&!this.hasCheckedOptimisedAppear&&bA(this),!this.root.isUpdating&&this.root.startUpdate(),this.isLayoutDirty)return;this.isLayoutDirty=!0;for(let f=0;f<this.path.length;f++){const p=this.path[f];p.shouldResetTransform=!0,p.updateScroll("snapshot"),p.options.layoutRoot&&p.willUpdate(!1)}const{layoutId:c,layout:u}=this.options;if(c===void 0&&!u)return;const h=this.getTransformTemplate();this.prevTransformTemplateValue=h?h(this.latestValues,""):void 0,this.updateSnapshot(),o&&this.notifyListeners("willUpdate")}update(){if(this.updateScheduled=!1,this.isUpdateBlocked()){this.unblockUpdate(),this.clearAllSnapshots(),this.nodes.forEach(kw);return}if(this.animationId<=this.animationCommitId){this.nodes.forEach(Tw);return}this.animationCommitId=this.animationId,this.isUpdating?(this.isUpdating=!1,this.nodes.forEach(QR),this.nodes.forEach(qR),this.nodes.forEach(KR)):this.nodes.forEach(Tw),this.clearAllSnapshots();const c=Pn.now();Qt.delta=ti(0,1e3/60,c-Qt.timestamp),Qt.timestamp=c,Qt.isProcessing=!0,rf.update.process(Qt),rf.preRender.process(Qt),rf.render.process(Qt),Qt.isProcessing=!1}didUpdate(){this.updateScheduled||(this.updateScheduled=!0,ym.read(this.scheduleUpdate))}clearAllSnapshots(){this.nodes.forEach(YR),this.sharedNodes.forEach(nN)}scheduleUpdateProjection(){this.projectionUpdateScheduled||(this.projectionUpdateScheduled=!0,ut.preRender(this.updateProjection,!1,!0))}scheduleCheckAfterUnmount(){ut.postRender(()=>{this.isLayoutDirty?this.root.didUpdate():this.root.checkUpdateFailed()})}updateSnapshot(){this.snapshot||!this.instance||(this.snapshot=this.measure(),this.snapshot&&!yn(this.snapshot.measuredBox.x)&&!yn(this.snapshot.measuredBox.y)&&(this.snapshot=void 0))}updateLayout(){if(!this.instance||(this.updateScroll(),!(this.options.alwaysMeasureLayout&&this.isLead())&&!this.isLayoutDirty))return;if(this.resumeFrom&&!this.resumeFrom.instance)for(let u=0;u<this.path.length;u++)this.path[u].updateScroll();const o=this.layout;this.layout=this.measure(!1),this.layoutVersion++,this.layoutCorrected=Ot(),this.isLayoutDirty=!1,this.projectionDelta=void 0,this.notifyListeners("measure",this.layout.layoutBox);const{visualElement:c}=this.options;c&&c.notify("LayoutMeasure",this.layout.layoutBox,o?o.layoutBox:void 0)}updateScroll(o="measure"){let c=!!(this.options.layoutScroll&&this.instance);if(this.scroll&&this.scroll.animationId===this.root.animationId&&this.scroll.phase===o&&(c=!1),c&&this.instance){const u=s(this.instance);this.scroll={animationId:this.root.animationId,phase:o,isRoot:u,offset:t(this.instance),wasRoot:this.scroll?this.scroll.isRoot:u}}}resetTransform(){if(!i)return;const o=this.isLayoutDirty||this.shouldResetTransform||this.options.alwaysMeasureLayout,c=this.projectionDelta&&!wA(this.projectionDelta),u=this.getTransformTemplate(),h=u?u(this.latestValues,""):void 0,f=h!==this.prevTransformTemplateValue;o&&this.instance&&(c||Qi(this.latestValues)||f)&&(i(this.instance,h),this.shouldResetTransform=!1,this.scheduleRender())}measure(o=!0){const c=this.measurePageBox();let u=this.removeElementScroll(c);return o&&(u=this.removeTransform(u)),oN(u),{animationId:this.root.animationId,measuredBox:c,layoutBox:u,latestValues:{},source:this.id}}measurePageBox(){const{visualElement:o}=this.options;if(!o)return Ot();const c=o.measureViewportBox();if(!(this.scroll?.wasRoot||this.path.some(aN))){const{scroll:h}=this.root;h&&(no(c.x,h.offset.x),no(c.y,h.offset.y))}return c}removeElementScroll(o){const c=Ot();if(fs(c,o),this.scroll?.wasRoot)return c;for(let u=0;u<this.path.length;u++){const h=this.path[u],{scroll:f,options:p}=h;h!==this.root&&f&&p.layoutScroll&&(f.wasRoot&&fs(c,o),no(c.x,f.offset.x),no(c.y,f.offset.y))}return c}applyTransform(o,c=!1){const u=Ot();fs(u,o);for(let h=0;h<this.path.length;h++){const f=this.path[h];!c&&f.options.layoutScroll&&f.scroll&&f!==f.root&&so(u,{x:-f.scroll.offset.x,y:-f.scroll.offset.y}),Qi(f.latestValues)&&so(u,f.latestValues)}return Qi(this.latestValues)&&so(u,this.latestValues),u}removeTransform(o){const c=Ot();fs(c,o);for(let u=0;u<this.path.length;u++){const h=this.path[u];if(!h.instance||!Qi(h.latestValues))continue;tp(h.latestValues)&&h.updateSnapshot();const f=Ot(),p=h.measurePageBox();fs(f,p),bw(c,h.latestValues,h.snapshot?h.snapshot.layoutBox:void 0,f)}return Qi(this.latestValues)&&bw(c,this.latestValues),c}setTargetDelta(o){this.targetDelta=o,this.root.scheduleUpdateProjection(),this.isProjectionDirty=!0}setOptions(o){this.options={...this.options,...o,crossfade:o.crossfade!==void 0?o.crossfade:!0}}clearMeasurements(){this.scroll=void 0,this.layout=void 0,this.snapshot=void 0,this.prevTransformTemplateValue=void 0,this.targetDelta=void 0,this.target=void 0,this.isLayoutDirty=!1}forceRelativeParentToResolveTarget(){this.relativeParent&&this.relativeParent.resolvedRelativeTargetAt!==Qt.timestamp&&this.relativeParent.resolveTargetDelta(!0)}resolveTargetDelta(o=!1){const c=this.getLead();this.isProjectionDirty||(this.isProjectionDirty=c.isProjectionDirty),this.isTransformDirty||(this.isTransformDirty=c.isTransformDirty),this.isSharedProjectionDirty||(this.isSharedProjectionDirty=c.isSharedProjectionDirty);const u=!!this.resumingFrom||this!==c;if(!(o||u&&this.isSharedProjectionDirty||this.isProjectionDirty||this.parent?.isProjectionDirty||this.attemptToResolveRelativeTarget||this.root.updateBlockedByResize))return;const{layout:f,layoutId:p}=this.options;if(!this.layout||!(f||p))return;this.resolvedRelativeTargetAt=Qt.timestamp;const g=this.getClosestProjectingParent();g&&this.linkedParentVersion!==g.layoutVersion&&!g.options.layoutRoot&&this.removeRelativeTarget(),!this.targetDelta&&!this.relativeTarget&&(g&&g.layout?this.createRelativeTarget(g,this.layout.layoutBox,g.layout.layoutBox):this.removeRelativeTarget()),!(!this.relativeTarget&&!this.targetDelta)&&(this.target||(this.target=Ot(),this.targetWithTransforms=Ot()),this.relativeTarget&&this.relativeTargetOrigin&&this.relativeParent&&this.relativeParent.target?(this.forceRelativeParentToResolveTarget(),fR(this.target,this.relativeTarget,this.relativeParent.target)):this.targetDelta?(this.resumingFrom?this.target=this.applyTransform(this.layout.layoutBox):fs(this.target,this.layout.layoutBox),eA(this.target,this.targetDelta)):fs(this.target,this.layout.layoutBox),this.attemptToResolveRelativeTarget&&(this.attemptToResolveRelativeTarget=!1,g&&!!g.resumingFrom==!!this.resumingFrom&&!g.options.layoutScroll&&g.target&&this.animationProgress!==1?this.createRelativeTarget(g,this.target,g.target):this.relativeParent=this.relativeTarget=void 0))}getClosestProjectingParent(){if(!(!this.parent||tp(this.parent.latestValues)||J1(this.parent.latestValues)))return this.parent.isProjecting()?this.parent:this.parent.getClosestProjectingParent()}isProjecting(){return!!((this.relativeTarget||this.targetDelta||this.options.layoutRoot)&&this.layout)}createRelativeTarget(o,c,u){this.relativeParent=o,this.linkedParentVersion=o.layoutVersion,this.forceRelativeParentToResolveTarget(),this.relativeTarget=Ot(),this.relativeTargetOrigin=Ot(),vu(this.relativeTargetOrigin,c,u),fs(this.relativeTarget,this.relativeTargetOrigin)}removeRelativeTarget(){this.relativeParent=this.relativeTarget=void 0}calcProjection(){const o=this.getLead(),c=!!this.resumingFrom||this!==o;let u=!0;if((this.isProjectionDirty||this.parent?.isProjectionDirty)&&(u=!1),c&&(this.isSharedProjectionDirty||this.isTransformDirty)&&(u=!1),this.resolvedRelativeTargetAt===Qt.timestamp&&(u=!1),u)return;const{layout:h,layoutId:f}=this.options;if(this.isTreeAnimating=!!(this.parent&&this.parent.isTreeAnimating||this.currentAnimation||this.pendingAnimation),this.isTreeAnimating||(this.targetDelta=this.relativeTarget=void 0),!this.layout||!(h||f))return;fs(this.layoutCorrected,this.layout.layoutBox);const p=this.treeScale.x,g=this.treeScale.y;_F(this.layoutCorrected,this.treeScale,this.path,c),o.layout&&!o.target&&(this.treeScale.x!==1||this.treeScale.y!==1)&&(o.target=o.layout.layoutBox,o.targetWithTransforms=Ot());const{target:w}=o;if(!w){this.prevProjectionDelta&&(this.createProjectionDeltas(),this.scheduleRender());return}!this.projectionDelta||!this.prevProjectionDelta?this.createProjectionDeltas():(vw(this.prevProjectionDelta.x,this.projectionDelta.x),vw(this.prevProjectionDelta.y,this.projectionDelta.y)),Ma(this.projectionDelta,this.layoutCorrected,w,this.latestValues),(this.treeScale.x!==p||this.treeScale.y!==g||!Cw(this.projectionDelta.x,this.prevProjectionDelta.x)||!Cw(this.projectionDelta.y,this.prevProjectionDelta.y))&&(this.hasProjected=!0,this.scheduleRender(),this.notifyListeners("projectionUpdate",w))}hide(){this.isVisible=!1}show(){this.isVisible=!0}scheduleRender(o=!0){if(this.options.visualElement?.scheduleRender(),o){const c=this.getStack();c&&c.scheduleRender()}this.resumingFrom&&!this.resumingFrom.instance&&(this.resumingFrom=void 0)}createProjectionDeltas(){this.prevProjectionDelta=io(),this.projectionDelta=io(),this.projectionDeltaWithTransform=io()}setAnimationOrigin(o,c=!1){const u=this.snapshot,h=u?u.latestValues:{},f={...this.latestValues},p=io();(!this.relativeParent||!this.relativeParent.options.layoutRoot)&&(this.relativeTarget=this.relativeTargetOrigin=void 0),this.attemptToResolveRelativeTarget=!c;const g=Ot(),w=u?u.source:void 0,A=this.layout?this.layout.source:void 0,x=w!==A,S=this.getStack(),E=!S||S.members.length<=1,_=!!(x&&!E&&this.options.crossfade===!0&&!this.path.some(iN));this.animationProgress=0;let k;this.mixTargetDelta=T=>{const P=T/1e3;Fw(p.x,o.x,P),Fw(p.y,o.y,P),this.setTargetDelta(p),this.relativeTarget&&this.relativeTargetOrigin&&this.layout&&this.relativeParent&&this.relativeParent.layout&&(vu(g,this.layout.layoutBox,this.relativeParent.layout.layoutBox),sN(this.relativeTarget,this.relativeTargetOrigin,g,P),k&&VR(this.relativeTarget,k)&&(this.isProjectionDirty=!1),k||(k=Ot()),fs(k,this.relativeTarget)),x&&(this.animationValues=f,IR(f,h,this.latestValues,P,_,E)),this.root.scheduleUpdateProjection(),this.scheduleRender(),this.animationProgress=P},this.mixTargetDelta(this.options.layoutRoot?1e3:0)}startAnimation(o){this.notifyListeners("animationStart"),this.currentAnimation?.stop(),this.resumingFrom?.currentAnimation?.stop(),this.pendingAnimation&&(Ri(this.pendingAnimation),this.pendingAnimation=void 0),this.pendingAnimation=ut.update(()=>{iu.hasAnimatedSinceResize=!0,this.motionValue||(this.motionValue=yo(0)),this.currentAnimation=RR(this.motionValue,[0,1e3],{...o,velocity:0,isSync:!0,onUpdate:c=>{this.mixTargetDelta(c),o.onUpdate&&o.onUpdate(c)},onStop:()=>{},onComplete:()=>{o.onComplete&&o.onComplete(),this.completeAnimation()}}),this.resumingFrom&&(this.resumingFrom.currentAnimation=this.currentAnimation),this.pendingAnimation=void 0})}completeAnimation(){this.resumingFrom&&(this.resumingFrom.currentAnimation=void 0,this.resumingFrom.preserveOpacity=void 0);const o=this.getStack();o&&o.exitAnimationComplete(),this.resumingFrom=this.currentAnimation=this.animationValues=void 0,this.notifyListeners("animationComplete")}finishAnimation(){this.currentAnimation&&(this.mixTargetDelta&&this.mixTargetDelta(WR),this.currentAnimation.stop()),this.completeAnimation()}applyTransformsToTarget(){const o=this.getLead();let{targetWithTransforms:c,target:u,layout:h,latestValues:f}=o;if(!(!c||!u||!h)){if(this!==o&&this.layout&&h&&SA(this.options.animationType,this.layout.layoutBox,h.layoutBox)){u=this.target||Ot();const p=yn(this.layout.layoutBox.x);u.x.min=o.target.x.min,u.x.max=u.x.min+p;const g=yn(this.layout.layoutBox.y);u.y.min=o.target.y.min,u.y.max=u.y.min+g}fs(c,u),so(c,f),Ma(this.projectionDeltaWithTransform,this.layoutCorrected,c,f)}}registerSharedNode(o,c){this.sharedNodes.has(o)||this.sharedNodes.set(o,new UR),this.sharedNodes.get(o).add(c);const h=c.options.initialPromotionConfig;c.promote({transition:h?h.transition:void 0,preserveFollowOpacity:h&&h.shouldPreserveFollowOpacity?h.shouldPreserveFollowOpacity(c):void 0})}isLead(){const o=this.getStack();return o?o.lead===this:!0}getLead(){const{layoutId:o}=this.options;return o?this.getStack()?.lead||this:this}getPrevLead(){const{layoutId:o}=this.options;return o?this.getStack()?.prevLead:void 0}getStack(){const{layoutId:o}=this.options;if(o)return this.root.sharedNodes.get(o)}promote({needsReset:o,transition:c,preserveFollowOpacity:u}={}){const h=this.getStack();h&&h.promote(this,u),o&&(this.projectionDelta=void 0,this.needsReset=!0),c&&this.setOptions({transition:c})}relegate(){const o=this.getStack();return o?o.relegate(this):!1}resetSkewAndRotation(){const{visualElement:o}=this.options;if(!o)return;let c=!1;const{latestValues:u}=o;if((u.z||u.rotate||u.rotateX||u.rotateY||u.rotateZ||u.skewX||u.skewY)&&(c=!0),!c)return;const h={};u.z&&yf("z",o,h,this.animationValues);for(let f=0;f<gf.length;f++)yf(`rotate${gf[f]}`,o,h,this.animationValues),yf(`skew${gf[f]}`,o,h,this.animationValues);o.render();for(const f in h)o.setStaticValue(f,h[f]),this.animationValues&&(this.animationValues[f]=h[f]);o.scheduleRender()}applyProjectionStyles(o,c){if(!this.instance||this.isSVG)return;if(!this.isVisible){o.visibility="hidden";return}const u=this.getTransformTemplate();if(this.needsReset){this.needsReset=!1,o.visibility="",o.opacity="",o.pointerEvents=su(c?.pointerEvents)||"",o.transform=u?u(this.latestValues,""):"none";return}const h=this.getLead();if(!this.projectionDelta||!this.layout||!h.target){this.options.layoutId&&(o.opacity=this.latestValues.opacity!==void 0?this.latestValues.opacity:1,o.pointerEvents=su(c?.pointerEvents)||""),this.hasProjected&&!Qi(this.latestValues)&&(o.transform=u?u({},""):"none",this.hasProjected=!1);return}o.visibility="";const f=h.animationValues||h.latestValues;this.applyTransformsToTarget();let p=HR(this.projectionDeltaWithTransform,this.treeScale,f);u&&(p=u(f,p)),o.transform=p;const{x:g,y:w}=this.projectionDelta;o.transformOrigin=`${g.origin*100}% ${w.origin*100}% 0`,h.animationValues?o.opacity=h===this?f.opacity??this.latestValues.opacity??1:this.preserveOpacity?this.latestValues.opacity:f.opacityExit:o.opacity=h===this?f.opacity!==void 0?f.opacity:"":f.opacityExit!==void 0?f.opacityExit:0;for(const A in Ha){if(f[A]===void 0)continue;const{correct:x,applyTo:S,isCSSVariable:E}=Ha[A],_=p==="none"?f[A]:x(f[A],h);if(S){const k=S.length;for(let T=0;T<k;T++)o[S[T]]=_}else E?this.options.visualElement.renderState.vars[A]=_:o[A]=_}this.options.layoutId&&(o.pointerEvents=h===this?su(c?.pointerEvents)||"":"none")}clearSnapshot(){this.resumeFrom=this.snapshot=void 0}resetTree(){this.root.nodes.forEach(o=>o.currentAnimation?.stop()),this.root.nodes.forEach(kw),this.root.sharedNodes.clear()}}}function qR(n){n.updateLayout()}function KR(n){const e=n.resumeFrom?.snapshot||n.snapshot;if(n.isLead()&&n.layout&&e&&n.hasListeners("didUpdate")){const{layoutBox:t,measuredBox:s}=n.layout,{animationType:i}=n.options,r=e.source!==n.layout.source;i==="size"?Qn(f=>{const p=r?e.measuredBox[f]:e.layoutBox[f],g=yn(p);p.min=t[f].min,p.max=p.min+g}):SA(i,e.layoutBox,t)&&Qn(f=>{const p=r?e.measuredBox[f]:e.layoutBox[f],g=yn(t[f]);p.max=p.min+g,n.relativeTarget&&!n.currentAnimation&&(n.isProjectionDirty=!0,n.relativeTarget[f].max=n.relativeTarget[f].min+g)});const o=io();Ma(o,t,e.layoutBox);const c=io();r?Ma(c,n.applyTransform(s,!0),e.measuredBox):Ma(c,t,e.layoutBox);const u=!wA(o);let h=!1;if(!n.resumeFrom){const f=n.getClosestProjectingParent();if(f&&!f.resumeFrom){const{snapshot:p,layout:g}=f;if(p&&g){const w=Ot();vu(w,e.layoutBox,p.layoutBox);const A=Ot();vu(A,t,g.layoutBox),xA(w,A)||(h=!0),f.options.layoutRoot&&(n.relativeTarget=A,n.relativeTargetOrigin=w,n.relativeParent=f)}}}n.notifyListeners("didUpdate",{layout:t,snapshot:e,delta:c,layoutDelta:o,hasLayoutChanged:u,hasRelativeLayoutChanged:h})}else if(n.isLead()){const{onExitComplete:t}=n.options;t&&t()}n.options.transition=void 0}function XR(n){n.parent&&(n.isProjecting()||(n.isProjectionDirty=n.parent.isProjectionDirty),n.isSharedProjectionDirty||(n.isSharedProjectionDirty=!!(n.isProjectionDirty||n.parent.isProjectionDirty||n.parent.isSharedProjectionDirty)),n.isTransformDirty||(n.isTransformDirty=n.parent.isTransformDirty))}function ZR(n){n.isProjectionDirty=n.isSharedProjectionDirty=n.isTransformDirty=!1}function YR(n){n.clearSnapshot()}function kw(n){n.clearMeasurements()}function Tw(n){n.isLayoutDirty=!1}function QR(n){const{visualElement:e}=n.options;e&&e.getProps().onBeforeLayoutMeasure&&e.notify("BeforeLayoutMeasure"),n.resetTransform()}function Pw(n){n.finishAnimation(),n.targetDelta=n.relativeTarget=n.target=void 0,n.isProjectionDirty=!0}function JR(n){n.resolveTargetDelta()}function eN(n){n.calcProjection()}function tN(n){n.resetSkewAndRotation()}function nN(n){n.removeLeadSnapshot()}function Fw(n,e,t){n.translate=vt(e.translate,0,t),n.scale=vt(e.scale,1,t),n.origin=e.origin,n.originPoint=e.originPoint}function Rw(n,e,t,s){n.min=vt(e.min,t.min,s),n.max=vt(e.max,t.max,s)}function sN(n,e,t,s){Rw(n.x,e.x,t.x,s),Rw(n.y,e.y,t.y,s)}function iN(n){return n.animationValues&&n.animationValues.opacityExit!==void 0}const rN={duration:.45,ease:[.4,0,.1,1]},Nw=n=>typeof navigator<"u"&&navigator.userAgent&&navigator.userAgent.toLowerCase().includes(n),Mw=Nw("applewebkit/")&&!Nw("chrome/")?Math.round:ts;function Dw(n){n.min=Mw(n.min),n.max=Mw(n.max)}function oN(n){Dw(n.x),Dw(n.y)}function SA(n,e,t){return n==="position"||n==="preserve-aspect"&&!dR(_w(e),_w(t),.2)}function aN(n){return n!==n.root&&n.scroll?.wasRoot}const lN=AA({attachResizeListener:(n,e)=>Wa(n,"resize",e),measureScroll:()=>({x:document.documentElement.scrollLeft||document.body.scrollLeft,y:document.documentElement.scrollTop||document.body.scrollTop}),checkIsScrollRoot:()=>!0}),vf={current:void 0},EA=AA({measureScroll:n=>({x:n.scrollLeft,y:n.scrollTop}),defaultParent:()=>{if(!vf.current){const n=new lN({});n.mount(window),n.setOptions({layoutScroll:!0}),vf.current=n}return vf.current},resetTransform:(n,e)=>{n.style.transform=e!==void 0?e:"none"},checkIsScrollRoot:n=>window.getComputedStyle(n).position==="fixed"}),cN={pan:{Feature:kR},drag:{Feature:CR,ProjectionNode:EA,MeasureLayout:gA}};function Lw(n,e,t){const{props:s}=n;n.animationState&&s.whileHover&&n.animationState.setActive("whileHover",t==="Start");const i="onHover"+t,r=s[i];r&&ut.postRender(()=>r(e,al(e)))}class uN extends Di{mount(){const{current:e}=this.node;e&&(this.unmount=I2(e,(t,s)=>(Lw(this.node,s,"Start"),i=>Lw(this.node,i,"End"))))}unmount(){}}class hN extends Di{constructor(){super(...arguments),this.isActive=!1}onFocus(){let e=!1;try{e=this.node.current.matches(":focus-visible")}catch{e=!0}!e||!this.node.animationState||(this.node.animationState.setActive("whileFocus",!0),this.isActive=!0)}onBlur(){!this.isActive||!this.node.animationState||(this.node.animationState.setActive("whileFocus",!1),this.isActive=!1)}mount(){this.unmount=il(Wa(this.node.current,"focus",()=>this.onFocus()),Wa(this.node.current,"blur",()=>this.onBlur()))}unmount(){}}function Iw(n,e,t){const{props:s}=n;if(n.current instanceof HTMLButtonElement&&n.current.disabled)return;n.animationState&&s.whileTap&&n.animationState.setActive("whileTap",t==="Start");const i="onTap"+(t==="End"?"":t),r=s[i];r&&ut.postRender(()=>r(e,al(e)))}class dN extends Di{mount(){const{current:e}=this.node;e&&(this.unmount=z2(e,(t,s)=>(Iw(this.node,s,"Start"),(i,{success:r})=>Iw(this.node,i,r?"End":"Cancel")),{useGlobalTarget:this.node.props.globalTapTarget}))}unmount(){}}const lp=new WeakMap,wf=new WeakMap,fN=n=>{const e=lp.get(n.target);e&&e(n)},pN=n=>{n.forEach(fN)};function mN({root:n,...e}){const t=n||document;wf.has(t)||wf.set(t,{});const s=wf.get(t),i=JSON.stringify(e);return s[i]||(s[i]=new IntersectionObserver(pN,{root:n,...e})),s[i]}function gN(n,e,t){const s=mN(e);return lp.set(n,t),s.observe(n),()=>{lp.delete(n),s.unobserve(n)}}const yN={some:0,all:1};class vN extends Di{constructor(){super(...arguments),this.hasEnteredView=!1,this.isInView=!1}startObserver(){this.unmount();const{viewport:e={}}=this.node.getProps(),{root:t,margin:s,amount:i="some",once:r}=e,o={root:t?t.current:void 0,rootMargin:s,threshold:typeof i=="number"?i:yN[i]},c=u=>{const{isIntersecting:h}=u;if(this.isInView===h||(this.isInView=h,r&&!h&&this.hasEnteredView))return;h&&(this.hasEnteredView=!0),this.node.animationState&&this.node.animationState.setActive("whileInView",h);const{onViewportEnter:f,onViewportLeave:p}=this.node.getProps(),g=h?f:p;g&&g(u)};return gN(this.node.current,o,c)}mount(){this.startObserver()}update(){if(typeof IntersectionObserver>"u")return;const{props:e,prevProps:t}=this.node;["amount","margin","root"].some(wN(e,t))&&this.startObserver()}unmount(){}}function wN({viewport:n={}},{viewport:e={}}={}){return t=>n[t]!==e[t]}const xN={inView:{Feature:vN},tap:{Feature:dN},focus:{Feature:hN},hover:{Feature:uN}},bN={layout:{ProjectionNode:EA,MeasureLayout:gA}},AN={...oR,...xN,...cN,...bN},we=AF(AN,LF);function zn({children:n,variant:e="primary",onClick:t,className:s=""}){const i="px-6 py-3 rounded-lg transition-all duration-200 cursor-pointer",r={primary:"bg-[#0B67FF] hover:bg-[#0952CC] text-white shadow-lg shadow-[#0B67FF]/30",secondary:"bg-[#06B6D4] hover:bg-[#0891A8] text-white shadow-lg shadow-[#06B6D4]/30",ghost:"bg-transparent border-2 border-[#0B67FF] text-[#0B67FF] hover:bg-[#0B67FF]/10"};return y.jsx(we.button,{whileHover:{scale:1.05},whileTap:{scale:.98},className:`${i} ${r[e]} ${s}`,onClick:t,children:n})}/**
 * @license lucide-react v0.487.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const SN=n=>n.replace(/([a-z0-9])([A-Z])/g,"$1-$2").toLowerCase(),EN=n=>n.replace(/^([A-Z])|[\s-_]+(\w)/g,(e,t,s)=>s?s.toUpperCase():t.toLowerCase()),Ow=n=>{const e=EN(n);return e.charAt(0).toUpperCase()+e.slice(1)},_A=(...n)=>n.filter((e,t,s)=>!!e&&e.trim()!==""&&s.indexOf(e)===t).join(" ").trim();/**
 * @license lucide-react v0.487.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */var _N={xmlns:"http://www.w3.org/2000/svg",width:24,height:24,viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:2,strokeLinecap:"round",strokeLinejoin:"round"};/**
 * @license lucide-react v0.487.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const CN=F.forwardRef(({color:n="currentColor",size:e=24,strokeWidth:t=2,absoluteStrokeWidth:s,className:i="",children:r,iconNode:o,...c},u)=>F.createElement("svg",{ref:u,..._N,width:e,height:e,stroke:n,strokeWidth:s?Number(t)*24/Number(e):t,className:_A("lucide",i),...c},[...o.map(([h,f])=>F.createElement(h,f)),...Array.isArray(r)?r:[r]]));/**
 * @license lucide-react v0.487.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const De=(n,e)=>{const t=F.forwardRef(({className:s,...i},r)=>F.createElement(CN,{ref:r,iconNode:e,className:_A(`lucide-${SN(Ow(n))}`,`lucide-${n}`,s),...i}));return t.displayName=Ow(n),t};/**
 * @license lucide-react v0.487.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const kN=[["path",{d:"m12 19-7-7 7-7",key:"1l729n"}],["path",{d:"M19 12H5",key:"x3x0zl"}]],wu=De("arrow-left",kN);/**
 * @license lucide-react v0.487.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const TN=[["path",{d:"M5 12h14",key:"1ays0h"}],["path",{d:"m12 5 7 7-7 7",key:"xquz4c"}]],ju=De("arrow-right",TN);/**
 * @license lucide-react v0.487.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const PN=[["path",{d:"M10.268 21a2 2 0 0 0 3.464 0",key:"vwvbt9"}],["path",{d:"M3.262 15.326A1 1 0 0 0 4 17h16a1 1 0 0 0 .74-1.673C19.41 13.956 18 12.499 18 8A6 6 0 0 0 6 8c0 4.499-1.411 5.956-2.738 7.326",key:"11g9vi"}]],FN=De("bell",PN);/**
 * @license lucide-react v0.487.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const RN=[["path",{d:"M12 7v14",key:"1akyts"}],["path",{d:"M3 18a1 1 0 0 1-1-1V4a1 1 0 0 1 1-1h5a4 4 0 0 1 4 4 4 4 0 0 1 4-4h5a1 1 0 0 1 1 1v13a1 1 0 0 1-1 1h-6a3 3 0 0 0-3 3 3 3 0 0 0-3-3z",key:"ruj8y"}]],Ic=De("book-open",RN);/**
 * @license lucide-react v0.487.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const NN=[["path",{d:"M12 5a3 3 0 1 0-5.997.125 4 4 0 0 0-2.526 5.77 4 4 0 0 0 .556 6.588A4 4 0 1 0 12 18Z",key:"l5xja"}],["path",{d:"M12 5a3 3 0 1 1 5.997.125 4 4 0 0 1 2.526 5.77 4 4 0 0 1-.556 6.588A4 4 0 1 1 12 18Z",key:"ep3f8r"}],["path",{d:"M15 13a4.5 4.5 0 0 1-3-4 4.5 4.5 0 0 1-3 4",key:"1p4c4q"}],["path",{d:"M17.599 6.5a3 3 0 0 0 .399-1.375",key:"tmeiqw"}],["path",{d:"M6.003 5.125A3 3 0 0 0 6.401 6.5",key:"105sqy"}],["path",{d:"M3.477 10.896a4 4 0 0 1 .585-.396",key:"ql3yin"}],["path",{d:"M19.938 10.5a4 4 0 0 1 .585.396",key:"1qfode"}],["path",{d:"M6 18a4 4 0 0 1-1.967-.516",key:"2e4loj"}],["path",{d:"M19.967 17.484A4 4 0 0 1 18 18",key:"159ez6"}]],MN=De("brain",NN);/**
 * @license lucide-react v0.487.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const DN=[["path",{d:"M6 22V4a2 2 0 0 1 2-2h8a2 2 0 0 1 2 2v18Z",key:"1b4qmf"}],["path",{d:"M6 12H4a2 2 0 0 0-2 2v6a2 2 0 0 0 2 2h2",key:"i71pzd"}],["path",{d:"M18 9h2a2 2 0 0 1 2 2v9a2 2 0 0 1-2 2h-2",key:"10jefs"}],["path",{d:"M10 6h4",key:"1itunk"}],["path",{d:"M10 10h4",key:"tcdvrf"}],["path",{d:"M10 14h4",key:"kelpxr"}],["path",{d:"M10 18h4",key:"1ulq68"}]],Js=De("building-2",DN);/**
 * @license lucide-react v0.487.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const LN=[["path",{d:"M8 2v4",key:"1cmpym"}],["path",{d:"M16 2v4",key:"4m81vk"}],["rect",{width:"18",height:"18",x:"3",y:"4",rx:"2",key:"1hopcy"}],["path",{d:"M3 10h18",key:"8toen8"}]],cp=De("calendar",LN);/**
 * @license lucide-react v0.487.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const IN=[["path",{d:"m15 18-6-6 6-6",key:"1wnfg3"}]],ON=De("chevron-left",IN);/**
 * @license lucide-react v0.487.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const jN=[["path",{d:"m9 18 6-6-6-6",key:"mthhwq"}]],BN=De("chevron-right",jN);/**
 * @license lucide-react v0.487.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const zN=[["path",{d:"M21.801 10A10 10 0 1 1 17 3.335",key:"yps3ct"}],["path",{d:"m9 11 3 3L22 4",key:"1pflzl"}]],CA=De("circle-check-big",zN);/**
 * @license lucide-react v0.487.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const $N=[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["path",{d:"m9 12 2 2 4-4",key:"dzmm74"}]],ru=De("circle-check",$N);/**
 * @license lucide-react v0.487.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const VN=[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["polyline",{points:"12 6 12 12 16 14",key:"68esgv"}]],up=De("clock",VN);/**
 * @license lucide-react v0.487.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const UN=[["path",{d:"M21 15v4a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2v-4",key:"ih7n3h"}],["polyline",{points:"7 10 12 15 17 10",key:"2ggqvy"}],["line",{x1:"12",x2:"12",y1:"15",y2:"3",key:"1vk2je"}]],kA=De("download",UN);/**
 * @license lucide-react v0.487.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const HN=[["circle",{cx:"12",cy:"12",r:"1",key:"41hilf"}],["circle",{cx:"12",cy:"5",r:"1",key:"gxeob9"}],["circle",{cx:"12",cy:"19",r:"1",key:"lyex9k"}]],WN=De("ellipsis-vertical",HN);/**
 * @license lucide-react v0.487.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const GN=[["path",{d:"M15 3h6v6",key:"1q9fwt"}],["path",{d:"M10 14 21 3",key:"gplh6r"}],["path",{d:"M18 13v6a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2V8a2 2 0 0 1 2-2h6",key:"a6xqqp"}]],qN=De("external-link",GN);/**
 * @license lucide-react v0.487.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const KN=[["path",{d:"M10.733 5.076a10.744 10.744 0 0 1 11.205 6.575 1 1 0 0 1 0 .696 10.747 10.747 0 0 1-1.444 2.49",key:"ct8e1f"}],["path",{d:"M14.084 14.158a3 3 0 0 1-4.242-4.242",key:"151rxh"}],["path",{d:"M17.479 17.499a10.75 10.75 0 0 1-15.417-5.151 1 1 0 0 1 0-.696 10.75 10.75 0 0 1 4.446-5.143",key:"13bj9a"}],["path",{d:"m2 2 20 20",key:"1ooewy"}]],hp=De("eye-off",KN);/**
 * @license lucide-react v0.487.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const XN=[["path",{d:"M2.062 12.348a1 1 0 0 1 0-.696 10.75 10.75 0 0 1 19.876 0 1 1 0 0 1 0 .696 10.75 10.75 0 0 1-19.876 0",key:"1nclc0"}],["circle",{cx:"12",cy:"12",r:"3",key:"1v7zrd"}]],dp=De("eye",XN);/**
 * @license lucide-react v0.487.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const ZN=[["path",{d:"M15 2H6a2 2 0 0 0-2 2v16a2 2 0 0 0 2 2h12a2 2 0 0 0 2-2V7Z",key:"1rqfz7"}],["path",{d:"M14 2v4a2 2 0 0 0 2 2h4",key:"tnqrlb"}],["path",{d:"M10 9H8",key:"b1mrlr"}],["path",{d:"M16 13H8",key:"t4e002"}],["path",{d:"M16 17H8",key:"z1uh3a"}]],Ga=De("file-text",ZN);/**
 * @license lucide-react v0.487.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const YN=[["path",{d:"M4 20h16a2 2 0 0 0 2-2V8a2 2 0 0 0-2-2h-7.93a2 2 0 0 1-1.66-.9l-.82-1.2A2 2 0 0 0 7.93 3H4a2 2 0 0 0-2 2v13c0 1.1.9 2 2 2Z",key:"1fr9dc"}],["path",{d:"M8 10v4",key:"tgpxqk"}],["path",{d:"M12 10v2",key:"hh53o1"}],["path",{d:"M16 10v6",key:"1d6xys"}]],QN=De("folder-kanban",YN);/**
 * @license lucide-react v0.487.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const JN=[["path",{d:"m6 14 1.5-2.9A2 2 0 0 1 9.24 10H20a2 2 0 0 1 1.94 2.5l-1.54 6a2 2 0 0 1-1.95 1.5H4a2 2 0 0 1-2-2V5a2 2 0 0 1 2-2h3.9a2 2 0 0 1 1.69.9l.81 1.2a2 2 0 0 0 1.67.9H18a2 2 0 0 1 2 2v2",key:"usdka0"}]],eM=De("folder-open",JN);/**
 * @license lucide-react v0.487.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const tM=[["path",{d:"M15 22v-4a4.8 4.8 0 0 0-1-3.5c3 0 6-2 6-5.5.08-1.25-.27-2.48-1-3.5.28-1.15.28-2.35 0-3.5 0 0-1 0-3 1.5-2.64-.5-5.36-.5-8 0C6 2 5 2 5 2c-.3 1.15-.3 2.35 0 3.5A5.403 5.403 0 0 0 4 9c0 3.5 3 5.5 6 5.5-.39.49-.68 1.05-.85 1.65-.17.6-.22 1.23-.15 1.85v4",key:"tonef"}],["path",{d:"M9 18c-4.51 2-5-2-7-2",key:"9comsn"}]],nM=De("github",tM);/**
 * @license lucide-react v0.487.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const sM=[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["path",{d:"M12 2a14.5 14.5 0 0 0 0 20 14.5 14.5 0 0 0 0-20",key:"13o1zl"}],["path",{d:"M2 12h20",key:"9i4pu4"}]],iM=De("globe",sM);/**
 * @license lucide-react v0.487.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const rM=[["rect",{width:"18",height:"18",x:"3",y:"3",rx:"2",ry:"2",key:"1m3agn"}],["circle",{cx:"9",cy:"9",r:"2",key:"af1f0g"}],["path",{d:"m21 15-3.086-3.086a2 2 0 0 0-2.828 0L6 21",key:"1xmnt7"}]],oM=De("image",rM);/**
 * @license lucide-react v0.487.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const aM=[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["path",{d:"M12 16v-4",key:"1dtifu"}],["path",{d:"M12 8h.01",key:"e9boi3"}]],jw=De("info",aM);/**
 * @license lucide-react v0.487.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const lM=[["rect",{width:"7",height:"9",x:"3",y:"3",rx:"1",key:"10lvy0"}],["rect",{width:"7",height:"5",x:"14",y:"3",rx:"1",key:"16une8"}],["rect",{width:"7",height:"9",x:"14",y:"12",rx:"1",key:"1hutg5"}],["rect",{width:"7",height:"5",x:"3",y:"16",rx:"1",key:"ldoo1y"}]],cM=De("layout-dashboard",lM);/**
 * @license lucide-react v0.487.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const uM=[["path",{d:"M16 8a6 6 0 0 1 6 6v7h-4v-7a2 2 0 0 0-2-2 2 2 0 0 0-2 2v7h-4v-7a6 6 0 0 1 6-6z",key:"c2jq9f"}],["rect",{width:"4",height:"12",x:"2",y:"9",key:"mk3on5"}],["circle",{cx:"4",cy:"4",r:"2",key:"bt5ra8"}]],hM=De("linkedin",uM);/**
 * @license lucide-react v0.487.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const dM=[["path",{d:"M21 12a9 9 0 1 1-6.219-8.56",key:"13zald"}]],fM=De("loader-circle",dM);/**
 * @license lucide-react v0.487.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const pM=[["rect",{width:"18",height:"11",x:"3",y:"11",rx:"2",ry:"2",key:"1w4ew1"}],["path",{d:"M7 11V7a5 5 0 0 1 10 0v4",key:"fwvmzm"}]],fp=De("lock",pM);/**
 * @license lucide-react v0.487.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const mM=[["rect",{width:"20",height:"16",x:"2",y:"4",rx:"2",key:"18n3k1"}],["path",{d:"m22 7-8.97 5.7a1.94 1.94 0 0 1-2.06 0L2 7",key:"1ocrg3"}]],Tm=De("mail",mM);/**
 * @license lucide-react v0.487.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const gM=[["path",{d:"M20 10c0 4.993-5.539 10.193-7.399 11.799a1 1 0 0 1-1.202 0C9.539 20.193 4 14.993 4 10a8 8 0 0 1 16 0",key:"1r0f0z"}],["circle",{cx:"12",cy:"10",r:"3",key:"ilqhr7"}]],qa=De("map-pin",gM);/**
 * @license lucide-react v0.487.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const yM=[["path",{d:"M12 20h9",key:"t2du7b"}],["path",{d:"M16.376 3.622a1 1 0 0 1 3.002 3.002L7.368 18.635a2 2 0 0 1-.855.506l-2.872.838a.5.5 0 0 1-.62-.62l.838-2.872a2 2 0 0 1 .506-.854z",key:"1ykcvy"}]],vM=De("pen-line",yM);/**
 * @license lucide-react v0.487.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const wM=[["path",{d:"M5 12h14",key:"1ays0h"}],["path",{d:"M12 5v14",key:"s699le"}]],xM=De("plus",wM);/**
 * @license lucide-react v0.487.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const bM=[["path",{d:"M3 12a9 9 0 0 1 9-9 9.75 9.75 0 0 1 6.74 2.74L21 8",key:"v9h5vc"}],["path",{d:"M21 3v5h-5",key:"1q7to0"}],["path",{d:"M21 12a9 9 0 0 1-9 9 9.75 9.75 0 0 1-6.74-2.74L3 16",key:"3uifl3"}],["path",{d:"M8 16H3v5",key:"1cv678"}]],AM=De("refresh-cw",bM);/**
 * @license lucide-react v0.487.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const SM=[["path",{d:"M12.22 2h-.44a2 2 0 0 0-2 2v.18a2 2 0 0 1-1 1.73l-.43.25a2 2 0 0 1-2 0l-.15-.08a2 2 0 0 0-2.73.73l-.22.38a2 2 0 0 0 .73 2.73l.15.1a2 2 0 0 1 1 1.72v.51a2 2 0 0 1-1 1.74l-.15.09a2 2 0 0 0-.73 2.73l.22.38a2 2 0 0 0 2.73.73l.15-.08a2 2 0 0 1 2 0l.43.25a2 2 0 0 1 1 1.73V20a2 2 0 0 0 2 2h.44a2 2 0 0 0 2-2v-.18a2 2 0 0 1 1-1.73l.43-.25a2 2 0 0 1 2 0l.15.08a2 2 0 0 0 2.73-.73l.22-.39a2 2 0 0 0-.73-2.73l-.15-.08a2 2 0 0 1-1-1.74v-.5a2 2 0 0 1 1-1.74l.15-.09a2 2 0 0 0 .73-2.73l-.22-.38a2 2 0 0 0-2.73-.73l-.15.08a2 2 0 0 1-2 0l-.43-.25a2 2 0 0 1-1-1.73V4a2 2 0 0 0-2-2z",key:"1qme2f"}],["circle",{cx:"12",cy:"12",r:"3",key:"1v7zrd"}]],EM=De("settings",SM);/**
 * @license lucide-react v0.487.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const _M=[["path",{d:"M20 13c0 5-3.5 7.5-7.66 8.95a1 1 0 0 1-.67-.01C7.5 20.5 4 18 4 13V6a1 1 0 0 1 1-1c2 0 4.5-1.2 6.24-2.72a1.17 1.17 0 0 1 1.52 0C14.51 3.81 17 5 19 5a1 1 0 0 1 1 1z",key:"oel41y"}],["path",{d:"M12 8v4",key:"1got3b"}],["path",{d:"M12 16h.01",key:"1drbdi"}]],CM=De("shield-alert",_M);/**
 * @license lucide-react v0.487.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const kM=[["rect",{width:"14",height:"20",x:"5",y:"2",rx:"2",ry:"2",key:"1yt0o3"}],["path",{d:"M12 18h.01",key:"mhygvu"}]],TM=De("smartphone",kM);/**
 * @license lucide-react v0.487.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const PM=[["path",{d:"M9.937 15.5A2 2 0 0 0 8.5 14.063l-6.135-1.582a.5.5 0 0 1 0-.962L8.5 9.936A2 2 0 0 0 9.937 8.5l1.582-6.135a.5.5 0 0 1 .963 0L14.063 8.5A2 2 0 0 0 15.5 9.937l6.135 1.581a.5.5 0 0 1 0 .964L15.5 14.063a2 2 0 0 0-1.437 1.437l-1.582 6.135a.5.5 0 0 1-.963 0z",key:"4pj2yx"}],["path",{d:"M20 3v4",key:"1olli1"}],["path",{d:"M22 5h-4",key:"1gvqau"}],["path",{d:"M4 17v2",key:"vumght"}],["path",{d:"M5 18H3",key:"zchphs"}]],TA=De("sparkles",PM);/**
 * @license lucide-react v0.487.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const FM=[["path",{d:"M11.525 2.295a.53.53 0 0 1 .95 0l2.31 4.679a2.123 2.123 0 0 0 1.595 1.16l5.166.756a.53.53 0 0 1 .294.904l-3.736 3.638a2.123 2.123 0 0 0-.611 1.878l.882 5.14a.53.53 0 0 1-.771.56l-4.618-2.428a2.122 2.122 0 0 0-1.973 0L6.396 21.01a.53.53 0 0 1-.77-.56l.881-5.139a2.122 2.122 0 0 0-.611-1.879L2.16 9.795a.53.53 0 0 1 .294-.906l5.165-.755a2.122 2.122 0 0 0 1.597-1.16z",key:"r04s7s"}]],RM=De("star",FM);/**
 * @license lucide-react v0.487.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const NM=[["polyline",{points:"22 7 13.5 15.5 8.5 10.5 2 17",key:"126l90"}],["polyline",{points:"16 7 22 7 22 13",key:"kwv8wd"}]],PA=De("trending-up",NM);/**
 * @license lucide-react v0.487.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const MM=[["path",{d:"m21.73 18-8-14a2 2 0 0 0-3.48 0l-8 14A2 2 0 0 0 4 21h16a2 2 0 0 0 1.73-3",key:"wmoenq"}],["path",{d:"M12 9v4",key:"juzpu7"}],["path",{d:"M12 17h.01",key:"p32p05"}]],Pm=De("triangle-alert",MM);/**
 * @license lucide-react v0.487.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const DM=[["path",{d:"M22 4s-.7 2.1-2 3.4c1.6 10-9.4 17.3-18 11.6 2.2.1 4.4-.6 6-2C3 15.5.5 9.6 3 5c2.2 2.6 5.6 4.1 9 4-.9-4.2 4-6.6 7-3.8 1.1 0 3-1.2 3-1.2z",key:"pff0z6"}]],LM=De("twitter",DM);/**
 * @license lucide-react v0.487.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const IM=[["path",{d:"M21 15v4a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2v-4",key:"ih7n3h"}],["polyline",{points:"17 8 12 3 7 8",key:"t8dd8p"}],["line",{x1:"12",x2:"12",y1:"3",y2:"15",key:"widbto"}]],FA=De("upload",IM);/**
 * @license lucide-react v0.487.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const OM=[["path",{d:"M19 21v-2a4 4 0 0 0-4-4H9a4 4 0 0 0-4 4v2",key:"975kel"}],["circle",{cx:"12",cy:"7",r:"4",key:"17ys0d"}]],RA=De("user",OM);/**
 * @license lucide-react v0.487.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const jM=[["path",{d:"M14.7 6.3a1 1 0 0 0 0 1.4l1.6 1.6a1 1 0 0 0 1.4 0l3.77-3.77a6 6 0 0 1-7.94 7.94l-6.91 6.91a2.12 2.12 0 0 1-3-3l6.91-6.91a6 6 0 0 1 7.94-7.94l-3.76 3.76z",key:"cbrjhi"}]],BM=De("wrench",jM);/**
 * @license lucide-react v0.487.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const zM=[["path",{d:"M18 6 6 18",key:"1bl5f8"}],["path",{d:"m6 6 12 12",key:"d8bk6v"}]],NA=De("x",zM);/**
 * @license lucide-react v0.487.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const $M=[["path",{d:"M4 14a1 1 0 0 1-.78-1.63l9.9-10.2a.5.5 0 0 1 .86.46l-1.92 6.02A1 1 0 0 0 13 10h7a1 1 0 0 1 .78 1.63l-9.9 10.2a.5.5 0 0 1-.86-.46l1.92-6.02A1 1 0 0 0 11 14z",key:"1xq2db"}]],VM=De("zap",$M);function UM(){const n=Os();return y.jsxs("section",{className:"relative min-h-screen flex items-center justify-center overflow-hidden px-4",children:[y.jsxs("div",{className:"absolute inset-0 overflow-hidden",children:[y.jsx(we.div,{className:"absolute top-1/4 left-1/4 w-96 h-96 bg-[#0B67FF]/20 rounded-full blur-3xl",animate:{x:[0,50,0],y:[0,30,0],scale:[1,1.2,1]},transition:{duration:8,repeat:1/0,ease:"easeInOut"}}),y.jsx(we.div,{className:"absolute bottom-1/4 right-1/4 w-96 h-96 bg-[#06B6D4]/20 rounded-full blur-3xl",animate:{x:[0,-50,0],y:[0,-30,0],scale:[1,1.2,1]},transition:{duration:10,repeat:1/0,ease:"easeInOut"}})]}),y.jsxs("div",{className:"relative z-10 max-w-7xl mx-auto grid md:grid-cols-2 gap-12 items-center",children:[y.jsxs(we.div,{initial:{opacity:0,x:-50},animate:{opacity:1,x:0},transition:{duration:.8},children:[y.jsxs(we.div,{className:"inline-flex items-center gap-2 px-4 py-2 bg-[#0B67FF]/10 border border-[#0B67FF]/30 rounded-full mb-6",initial:{opacity:0,y:20},animate:{opacity:1,y:0},transition:{delay:.2},children:[y.jsx(TA,{size:16,className:"text-[#0B67FF]"}),y.jsx("small",{className:"text-[#0B67FF]",children:"Powered by Advanced AI"})]}),y.jsx("h1",{className:"mb-6 bg-gradient-to-r from-[#F8FAFC] to-[#06B6D4] bg-clip-text text-transparent",children:"AI Architectural Compliance in 60 Seconds"}),y.jsx("p",{className:"text-[#6B7280] mb-8 max-w-xl",children:"Revolutionize your architectural review process with AI-powered compliance checking. Upload plans, get instant feedback, and ensure your designs meet all regulatory requirements across multiple cities."}),y.jsxs("div",{className:"flex flex-wrap gap-4",children:[y.jsxs(zn,{variant:"primary",onClick:()=>n("/register"),children:["Get Started ",y.jsx(ju,{size:20,className:"inline ml-2"})]}),y.jsx(zn,{variant:"ghost",children:"Learn More"})]}),y.jsxs("div",{className:"mt-12 flex gap-8",children:[y.jsxs("div",{children:[y.jsx("h3",{className:"text-[#0B67FF]",children:"10,000+"}),y.jsx("p",{className:"text-[#6B7280]",children:"Plans Reviewed"})]}),y.jsxs("div",{children:[y.jsx("h3",{className:"text-[#06B6D4]",children:"50+"}),y.jsx("p",{className:"text-[#6B7280]",children:"Cities Supported"})]}),y.jsxs("div",{children:[y.jsx("h3",{className:"text-[#10B981]",children:"98%"}),y.jsx("p",{className:"text-[#6B7280]",children:"Accuracy Rate"})]})]})]}),y.jsx(we.div,{initial:{opacity:0,x:50},animate:{opacity:1,x:0},transition:{duration:.8,delay:.2},className:"relative",children:y.jsxs("div",{className:"relative rounded-2xl overflow-hidden shadow-2xl shadow-[#0B67FF]/20",children:[y.jsx("img",{src:"https://images.unsplash.com/photo-1742415106160-594d07f6cc23?crop=entropy&cs=tinysrgb&fit=max&fm=jpg&ixid=M3w3Nzg4Nzd8MHwxfHNlYXJjaHwxfHxhcmNoaXRlY3R1cmFsJTIwYmx1ZXByaW50JTIwYnVpbGRpbmd8ZW58MXx8fHwxNzY1MDkzMTU4fDA&ixlib=rb-4.1.0&q=80&w=1080&utm_source=figma&utm_medium=referral",alt:"Architectural Blueprint",className:"w-full h-auto"}),y.jsx(we.div,{className:"absolute inset-0 bg-gradient-to-t from-[#0B67FF]/40 to-transparent",animate:{opacity:[.4,.6,.4]},transition:{duration:3,repeat:1/0}}),y.jsxs(we.div,{className:"absolute top-8 right-8 bg-[#1E293B]/90 backdrop-blur-sm rounded-lg p-4 shadow-xl",animate:{y:[0,-10,0]},transition:{duration:3,repeat:1/0},children:[y.jsxs("div",{className:"flex items-center gap-2 mb-2",children:[y.jsx("div",{className:"w-2 h-2 bg-[#10B981] rounded-full animate-pulse"}),y.jsx("small",{className:"text-[#10B981]",children:"Analysis Complete"})]}),y.jsx("p",{className:"text-[#F8FAFC]",children:"Compliance: 96%"})]})]})})]})]})}function kt({children:n,className:e="",hoverable:t=!0}){return y.jsx(we.div,{className:`bg-[#1E293B] rounded-xl p-6 ${e}`,whileHover:t?{y:-8,boxShadow:"0 20px 40px rgba(11, 103, 255, 0.2)"}:{},transition:{duration:.3},children:n})}const HM=[{icon:MN,title:"AI-Powered Analysis",description:"Advanced machine learning algorithms analyze your plans instantly, identifying compliance issues with 98% accuracy.",color:"#0B67FF"},{icon:iM,title:"Multi-City Support",description:"Check compliance across 50+ cities and municipalities with continuously updated building codes and regulations.",color:"#06B6D4"},{icon:TM,title:"Mobile + Web Platform",description:"Access your projects anywhere, anytime. Full-featured mobile and web applications for maximum flexibility.",color:"#F97316"},{icon:BM,title:"Auto-Fix Suggestions",description:"Receive intelligent recommendations to fix compliance issues automatically, saving hours of manual work.",color:"#10B981"},{icon:vM,title:"Redline Editing",description:"Mark up plans with professional redline tools, add annotations, and collaborate with your team in real-time.",color:"#EF4444"}];function WM(){return y.jsx("section",{className:"py-24 px-4 bg-[#0F172A]",children:y.jsxs("div",{className:"max-w-7xl mx-auto",children:[y.jsxs(we.div,{initial:{opacity:0,y:30},whileInView:{opacity:1,y:0},viewport:{once:!0},transition:{duration:.6},className:"text-center mb-16",children:[y.jsx("h2",{className:"mb-4",children:"Powerful Features for Modern Architecture"}),y.jsx("p",{className:"text-[#6B7280] max-w-2xl mx-auto",children:"Everything you need to streamline your architectural compliance workflow, from initial upload to final approval."})]}),y.jsx("div",{className:"grid md:grid-cols-2 lg:grid-cols-3 gap-6",children:HM.map((n,e)=>{const t=n.icon;return y.jsx(we.div,{initial:{opacity:0,y:30},whileInView:{opacity:1,y:0},viewport:{once:!0},transition:{duration:.6,delay:e*.1},children:y.jsxs(kt,{children:[y.jsx("div",{className:"w-14 h-14 rounded-lg flex items-center justify-center mb-4",style:{backgroundColor:`${n.color}20`},children:y.jsx(t,{size:28,style:{color:n.color}})}),y.jsx("h3",{className:"mb-3",children:n.title}),y.jsx("p",{className:"text-[#6B7280]",children:n.description})]})},e)})})]})})}const GM=[{icon:FA,title:"Upload Plans",description:"Drag and drop your architectural plans in PDF, DWG, or image format.",color:"#0B67FF"},{icon:VM,title:"AI Analysis",description:"Our AI instantly analyzes your plans against local building codes and regulations.",color:"#06B6D4"},{icon:CA,title:"Review Results",description:"Get detailed compliance reports with highlighted issues and auto-fix suggestions.",color:"#10B981"},{icon:kA,title:"Export & Submit",description:"Download corrected plans with redline annotations ready for submission.",color:"#F97316"}];function qM(){return y.jsx("section",{className:"py-24 px-4 bg-gradient-to-b from-[#0F172A] to-[#1E293B]",children:y.jsxs("div",{className:"max-w-7xl mx-auto",children:[y.jsxs(we.div,{initial:{opacity:0,y:30},whileInView:{opacity:1,y:0},viewport:{once:!0},className:"text-center mb-16",children:[y.jsx("h2",{className:"mb-4",children:"How It Works"}),y.jsx("p",{className:"text-[#6B7280] max-w-2xl mx-auto",children:"Get your architectural plans compliance-checked in four simple steps. No complex workflows, no steep learning curve."})]}),y.jsxs("div",{className:"relative",children:[y.jsx("div",{className:"hidden lg:block absolute top-1/2 left-0 right-0 h-0.5 bg-gradient-to-r from-[#0B67FF] via-[#06B6D4] to-[#F97316] -translate-y-1/2"}),y.jsx("div",{className:"grid md:grid-cols-2 lg:grid-cols-4 gap-8 relative z-10",children:GM.map((n,e)=>{const t=n.icon;return y.jsxs(we.div,{initial:{opacity:0,y:50},whileInView:{opacity:1,y:0},viewport:{once:!0},transition:{duration:.6,delay:e*.15},className:"text-center",children:[y.jsxs(we.div,{className:"w-20 h-20 rounded-full flex items-center justify-center mx-auto mb-6 relative",style:{backgroundColor:`${n.color}20`,border:`2px solid ${n.color}`},whileHover:{scale:1.1,rotate:5},children:[y.jsx(t,{size:36,style:{color:n.color}}),y.jsx("div",{className:"absolute -top-2 -right-2 w-8 h-8 rounded-full flex items-center justify-center",style:{backgroundColor:n.color},children:y.jsx("span",{className:"text-white",children:e+1})})]}),y.jsx("h3",{className:"mb-3",children:n.title}),y.jsx("p",{className:"text-[#6B7280]",children:n.description})]},e)})})]})]})})}const KM=[{name:"Sarah Mitchell",role:"Senior Architect",company:"Metropolitan Design Group",image:"https://images.unsplash.com/photo-1581065178047-8ee15951ede6?crop=entropy&cs=tinysrgb&fit=max&fm=jpg&ixid=M3w3Nzg4Nzd8MHwxfHNlYXJjaHwxfHxidXNpbmVzcyUyMHByb2Zlc3Npb25hbCUyMHBvcnRyYWl0fGVufDF8fHx8MTc2NTAwOTUyOHww&ixlib=rb-4.1.0&q=80&w=1080&utm_source=figma&utm_medium=referral",quote:"This platform reduced our compliance review time from days to minutes. The AI accuracy is remarkable, and the auto-fix suggestions have saved us countless hours.",rating:5},{name:"Michael Chen",role:"Principal",company:"Chen & Associates Architecture",image:"https://images.unsplash.com/photo-1581065178047-8ee15951ede6?crop=entropy&cs=tinysrgb&fit=max&fm=jpg&ixid=M3w3Nzg4Nzd8MHwxfHNlYXJjaHwxfHxidXNpbmVzcyUyMHByb2Zlc3Npb25hbCUyMHBvcnRyYWl0fGVufDF8fHx8MTc2NTAwOTUyOHww&ixlib=rb-4.1.0&q=80&w=1080&utm_source=figma&utm_medium=referral",quote:"The multi-city support is a game-changer for our firm. We work across multiple jurisdictions, and having all building codes in one platform is invaluable.",rating:5},{name:"Jennifer Rodriguez",role:"Project Manager",company:"Urban Planning Solutions",image:"https://images.unsplash.com/photo-1581065178047-8ee15951ede6?crop=entropy&cs=tinysrgb&fit=max&fm=jpg&ixid=M3w3Nzg4Nzd8MHwxfHNlYXJjaHwxfHxidXNpbmVzcyUyMHByb2Zlc3Npb25hbCUyMHBvcnRyYWl0fGVufDF8fHx8MTc2NTAwOTUyOHww&ixlib=rb-4.1.0&q=80&w=1080&utm_source=figma&utm_medium=referral",quote:"Outstanding tool for our workflow. The redline editing feature and real-time collaboration have transformed how our team works together on projects.",rating:5}];function XM(){return y.jsx("section",{className:"py-24 px-4 bg-[#0F172A]",children:y.jsxs("div",{className:"max-w-7xl mx-auto",children:[y.jsxs(we.div,{initial:{opacity:0,y:30},whileInView:{opacity:1,y:0},viewport:{once:!0},className:"text-center mb-16",children:[y.jsx("h2",{className:"mb-4",children:"Trusted by Architecture Professionals"}),y.jsx("p",{className:"text-[#6B7280] max-w-2xl mx-auto",children:"Join thousands of architects and planners who have transformed their compliance workflow."})]}),y.jsx("div",{className:"grid md:grid-cols-3 gap-6",children:KM.map((n,e)=>y.jsx(we.div,{initial:{opacity:0,y:30},whileInView:{opacity:1,y:0},viewport:{once:!0},transition:{duration:.6,delay:e*.1},children:y.jsxs(kt,{children:[y.jsx("div",{className:"flex gap-1 mb-4",children:[...Array(n.rating)].map((t,s)=>y.jsx(RM,{size:16,fill:"#F97316",color:"#F97316"},s))}),y.jsxs("p",{className:"text-[#F8FAFC] mb-6 italic",children:["",n.quote,""]}),y.jsxs("div",{className:"flex items-center gap-3",children:[y.jsx("img",{src:n.image,alt:n.name,className:"w-12 h-12 rounded-full object-cover"}),y.jsxs("div",{children:[y.jsx("p",{className:"text-[#F8FAFC]",children:n.name}),y.jsxs("small",{className:"text-[#6B7280]",children:[n.role," at ",n.company]})]})]})]})},e))})]})})}function ZM(){const n=Os();return y.jsxs("section",{className:"py-24 px-4 bg-gradient-to-br from-[#0B67FF]/10 via-[#06B6D4]/10 to-[#F97316]/10 relative overflow-hidden",children:[y.jsx(we.div,{className:"absolute top-0 left-0 w-96 h-96 bg-[#0B67FF]/10 rounded-full blur-3xl",animate:{scale:[1,1.2,1],opacity:[.3,.5,.3]},transition:{duration:6,repeat:1/0}}),y.jsx(we.div,{className:"absolute bottom-0 right-0 w-96 h-96 bg-[#06B6D4]/10 rounded-full blur-3xl",animate:{scale:[1,1.2,1],opacity:[.3,.5,.3]},transition:{duration:8,repeat:1/0,delay:1}}),y.jsx("div",{className:"max-w-4xl mx-auto text-center relative z-10",children:y.jsxs(we.div,{initial:{opacity:0,scale:.9},whileInView:{opacity:1,scale:1},viewport:{once:!0},transition:{duration:.6},children:[y.jsxs(we.div,{className:"inline-flex items-center gap-2 px-4 py-2 bg-[#0B67FF]/20 border border-[#0B67FF]/30 rounded-full mb-6",animate:{y:[0,-5,0]},transition:{duration:2,repeat:1/0},children:[y.jsx(TA,{size:16,className:"text-[#0B67FF]"}),y.jsx("small",{className:"text-[#0B67FF]",children:"Start Your Free Trial Today"})]}),y.jsx("h2",{className:"mb-6",children:"Ready to Transform Your Architectural Workflow?"}),y.jsx("p",{className:"text-[#6B7280] mb-8 max-w-2xl mx-auto",children:"Join thousands of architects who have accelerated their compliance process with AI. Get started in less than 60 secondsno credit card required."}),y.jsxs(we.div,{className:"flex flex-wrap justify-center gap-4",initial:{opacity:0,y:20},whileInView:{opacity:1,y:0},viewport:{once:!0},transition:{delay:.3},children:[y.jsxs(zn,{variant:"primary",onClick:()=>n("/register"),children:["Get Started Free ",y.jsx(ju,{size:20,className:"inline ml-2"})]}),y.jsx(zn,{variant:"secondary",children:"Schedule a Demo"})]}),y.jsx(we.p,{className:"text-[#6B7280] mt-6",initial:{opacity:0},whileInView:{opacity:1},viewport:{once:!0},transition:{delay:.5},children:y.jsx("small",{children:"Free 14-day trial  No credit card required  Cancel anytime"})})]})})]})}function YM(){return y.jsx("footer",{className:"bg-[#1E293B] border-t border-[#0B67FF]/20 py-12 px-4",children:y.jsxs("div",{className:"max-w-7xl mx-auto",children:[y.jsxs("div",{className:"grid md:grid-cols-4 gap-8 mb-8",children:[y.jsxs("div",{children:[y.jsxs("div",{className:"flex items-center gap-2 mb-4",children:[y.jsx(Js,{size:32,className:"text-[#0B67FF]"}),y.jsx("span",{className:"text-xl",children:"ComplianceAI"})]}),y.jsx("p",{className:"text-[#6B7280] mb-4",children:"AI-powered architectural compliance platform for modern architecture professionals."}),y.jsxs("div",{className:"flex gap-3",children:[y.jsx("a",{href:"#",className:"text-[#6B7280] hover:text-[#0B67FF] transition-colors",children:y.jsx(LM,{size:20})}),y.jsx("a",{href:"#",className:"text-[#6B7280] hover:text-[#0B67FF] transition-colors",children:y.jsx(hM,{size:20})}),y.jsx("a",{href:"#",className:"text-[#6B7280] hover:text-[#0B67FF] transition-colors",children:y.jsx(nM,{size:20})}),y.jsx("a",{href:"#",className:"text-[#6B7280] hover:text-[#0B67FF] transition-colors",children:y.jsx(Tm,{size:20})})]})]}),y.jsxs("div",{children:[y.jsx("h3",{className:"mb-4",children:"Product"}),y.jsxs("ul",{className:"space-y-2",children:[y.jsx("li",{children:y.jsx("a",{href:"#",className:"text-[#6B7280] hover:text-[#F8FAFC] transition-colors",children:"Features"})}),y.jsx("li",{children:y.jsx("a",{href:"#",className:"text-[#6B7280] hover:text-[#F8FAFC] transition-colors",children:"Pricing"})}),y.jsx("li",{children:y.jsx("a",{href:"#",className:"text-[#6B7280] hover:text-[#F8FAFC] transition-colors",children:"API"})}),y.jsx("li",{children:y.jsx("a",{href:"#",className:"text-[#6B7280] hover:text-[#F8FAFC] transition-colors",children:"Integrations"})})]})]}),y.jsxs("div",{children:[y.jsx("h3",{className:"mb-4",children:"Company"}),y.jsxs("ul",{className:"space-y-2",children:[y.jsx("li",{children:y.jsx("a",{href:"#",className:"text-[#6B7280] hover:text-[#F8FAFC] transition-colors",children:"About Us"})}),y.jsx("li",{children:y.jsx("a",{href:"#",className:"text-[#6B7280] hover:text-[#F8FAFC] transition-colors",children:"Careers"})}),y.jsx("li",{children:y.jsx("a",{href:"#",className:"text-[#6B7280] hover:text-[#F8FAFC] transition-colors",children:"Blog"})}),y.jsx("li",{children:y.jsx("a",{href:"#",className:"text-[#6B7280] hover:text-[#F8FAFC] transition-colors",children:"Contact"})})]})]}),y.jsxs("div",{children:[y.jsx("h3",{className:"mb-4",children:"Resources"}),y.jsxs("ul",{className:"space-y-2",children:[y.jsx("li",{children:y.jsx("a",{href:"#",className:"text-[#6B7280] hover:text-[#F8FAFC] transition-colors",children:"Documentation"})}),y.jsx("li",{children:y.jsx("a",{href:"#",className:"text-[#6B7280] hover:text-[#F8FAFC] transition-colors",children:"Tutorials"})}),y.jsx("li",{children:y.jsx("a",{href:"#",className:"text-[#6B7280] hover:text-[#F8FAFC] transition-colors",children:"Support"})}),y.jsx("li",{children:y.jsx("a",{href:"#",className:"text-[#6B7280] hover:text-[#F8FAFC] transition-colors",children:"Community"})})]})]})]}),y.jsxs("div",{className:"border-t border-[#0B67FF]/20 pt-8 flex flex-col md:flex-row justify-between items-center gap-4",children:[y.jsx("p",{className:"text-[#6B7280]",children:y.jsx("small",{children:" 2025 ComplianceAI. All rights reserved."})}),y.jsxs("div",{className:"flex gap-6",children:[y.jsx("a",{href:"#",className:"text-[#6B7280] hover:text-[#F8FAFC] transition-colors",children:y.jsx("small",{children:"Privacy Policy"})}),y.jsx("a",{href:"#",className:"text-[#6B7280] hover:text-[#F8FAFC] transition-colors",children:y.jsx("small",{children:"Terms of Service"})}),y.jsx("a",{href:"#",className:"text-[#6B7280] hover:text-[#F8FAFC] transition-colors",children:y.jsx("small",{children:"Cookie Policy"})})]})]})]})})}const Bw=n=>{let e;const t=new Set,s=(h,f)=>{const p=typeof h=="function"?h(e):h;if(!Object.is(p,e)){const g=e;e=f??(typeof p!="object"||p===null)?p:Object.assign({},e,p),t.forEach(w=>w(e,g))}},i=()=>e,c={setState:s,getState:i,getInitialState:()=>u,subscribe:h=>(t.add(h),()=>t.delete(h))},u=e=n(s,i,c);return c},QM=(n=>n?Bw(n):Bw),JM=n=>n;function eD(n,e=JM){const t=Jt.useSyncExternalStore(n.subscribe,Jt.useCallback(()=>e(n.getState()),[n,e]),Jt.useCallback(()=>e(n.getInitialState()),[n,e]));return Jt.useDebugValue(t),t}const zw=n=>{const e=QM(n),t=s=>eD(e,s);return Object.assign(t,e),t},MA=(n=>n?zw(n):zw),wo=MA(n=>({user:JSON.parse(localStorage.getItem("user")||"null"),setUser:e=>{localStorage.setItem("user",JSON.stringify(e)),n({user:e})},logout:()=>{localStorage.removeItem("user"),n({user:null})}}));function tD(){const n=Os(),t=is().pathname==="/",s=wo(i=>i.user);return wo(i=>i.logout),y.jsx(we.nav,{initial:{y:-100},animate:{y:0},className:"fixed top-0 left-0 right-0 z-50 bg-[#1E293B]/80 backdrop-blur-lg border-b border-[#0B67FF]/20",children:y.jsxs("div",{className:"max-w-7xl mx-auto px-4 py-4 flex items-center justify-between",children:[y.jsxs(we.button,{onClick:()=>n("/"),className:"flex items-center gap-2 hover:opacity-80 transition-opacity",whileHover:{scale:1.05},children:[y.jsx(Js,{size:32,className:"text-[#0B67FF]"}),y.jsx("span",{className:"text-xl text-[#F8FAFC]",children:"ComplianceAI"})]}),y.jsxs("div",{className:"hidden md:flex items-center gap-6",children:[y.jsx("button",{onClick:()=>n("/"),className:`transition-colors ${t?"text-[#0B67FF]":"text-[#6B7280] hover:text-[#F8FAFC]"}`,children:"Home"}),y.jsx("a",{href:"#",className:"text-[#6B7280] hover:text-[#F8FAFC] transition-colors",children:"Features"}),y.jsx("a",{href:"#",className:"text-[#6B7280] hover:text-[#F8FAFC] transition-colors",children:"Pricing"}),y.jsx("a",{href:"#",className:"text-[#6B7280] hover:text-[#F8FAFC] transition-colors",children:"About"})]}),y.jsx("div",{className:"flex items-center gap-3",children:s?y.jsx(zn,{variant:"primary",onClick:()=>n("/dashboard"),children:"Go to Dashboard"}):y.jsxs(y.Fragment,{children:[y.jsx(zn,{variant:"ghost",onClick:()=>n("/login"),children:"Login"}),y.jsx(zn,{variant:"primary",onClick:()=>n("/register"),children:"Sign Up"})]})})]})})}function nD(){return y.jsxs("div",{className:"bg-[#0F172A]",children:[y.jsx(tD,{}),y.jsx(UM,{}),y.jsx(WM,{}),y.jsx(qM,{}),y.jsx(XM,{}),y.jsx(ZM,{}),y.jsx(YM,{})]})}function sD(){const n=Os(),e=is(),t=wo(r=>r.user),s=wo(r=>r.logout),i=r=>r==="/dashboard"?e.pathname==="/dashboard":e.pathname.startsWith(r);return y.jsxs("div",{className:"bg-[#1E293B] border-b border-[#0B67FF]/20 px-6 py-4 flex items-center justify-between sticky top-0 z-30",children:[y.jsxs("div",{className:"flex items-center gap-2",children:[y.jsx(Js,{size:32,className:"text-[#0B67FF]"}),y.jsx("span",{className:"text-xl",children:"ComplianceAI"})]}),y.jsxs("nav",{className:"hidden md:flex items-center gap-6",children:[y.jsx("button",{onClick:()=>n("/dashboard"),className:`transition-colors ${i("/dashboard")?"text-[#F8FAFC]":"text-[#6B7280] hover:text-[#F8FAFC]"}`,children:"Dashboard"}),y.jsx("button",{onClick:()=>n("/dashboard/projects"),className:`transition-colors ${i("/dashboard/projects")?"text-[#F8FAFC]":"text-[#6B7280] hover:text-[#F8FAFC]"}`,children:"Projects"}),y.jsx("button",{disabled:!0,className:"transition-colors text-[#6B7280] cursor-not-allowed",children:"Analytics"}),y.jsx("button",{onClick:()=>n("/dashboard/settings"),className:`transition-colors ${i("/dashboard/settings")?"text-[#F8FAFC]":"text-[#6B7280] hover:text-[#F8FAFC]"}`,children:"Settings"})]}),y.jsxs("div",{className:"flex items-center gap-4",children:[y.jsxs(we.button,{whileHover:{scale:1.1},whileTap:{scale:.95},className:"relative p-2 rounded-lg hover:bg-[#0B67FF]/10 transition-colors",children:[y.jsx(FN,{size:20,className:"text-[#6B7280]"}),y.jsx("div",{className:"absolute top-1 right-1 w-2 h-2 bg-[#EF4444] rounded-full"})]}),t&&y.jsxs("div",{className:"flex items-center gap-3",children:[y.jsxs("div",{className:"flex items-center gap-2 px-3 py-2 rounded-lg bg-[#0F172A] border border-[#0B67FF]/30",children:[y.jsx("div",{className:"w-8 h-8 rounded-full bg-[#0B67FF]/20 flex items-center justify-center text-xs font-medium text-[#0B67FF]",children:t.full_name?.charAt(0)?.toUpperCase()||t.email?.charAt(0)?.toUpperCase()||"?"}),y.jsxs("div",{className:"hidden sm:flex flex-col items-start",children:[y.jsx("span",{className:"text-sm text-[#F8FAFC] leading-tight",children:t.full_name||t.email}),y.jsx("span",{className:"text-xs text-[#6B7280] leading-tight",children:t.email})]})]}),y.jsx("button",{onClick:()=>{s(),localStorage.removeItem("token"),n("/login")},className:"text-xs md:text-sm text-[#FCA5A5] hover:text-[#F87171]",children:"Logout"})]})]})]})}const iD=[{id:"overview",label:"Overview",icon:cM,path:"/dashboard"},{id:"projects",label:"Projects",icon:QN,path:"/dashboard/projects"},{id:"settings",label:"Settings",icon:EM,path:"/dashboard/settings"}];function rD(){const[n,e]=F.useState(!1),t=is(),s=Os();return y.jsxs(we.div,{className:"bg-[#1E293B] border-r border-[#0B67FF]/20 h-full relative",animate:{width:n?80:240},transition:{duration:.3},children:[y.jsx("button",{onClick:()=>e(!n),className:"absolute -right-3 top-6 w-6 h-6 bg-[#0B67FF] rounded-full flex items-center justify-center text-white hover:bg-[#0952CC] transition-colors z-10",children:n?y.jsx(BN,{size:14}):y.jsx(ON,{size:14})}),y.jsx("nav",{className:"py-6",children:iD.map(i=>{const r=i.icon,o=i.path==="/dashboard"?t.pathname==="/dashboard":t.pathname.startsWith(i.path);return y.jsxs(we.button,{onClick:()=>s(i.path),className:`w-full flex items-center gap-3 px-6 py-3 transition-colors relative ${o?"text-[#0B67FF] bg-[#0B67FF]/10":"text-[#6B7280] hover:text-[#F8FAFC] hover:bg-[#0B67FF]/5"}`,whileHover:{x:4},transition:{duration:.2},children:[o&&y.jsx(we.div,{layoutId:"activeTab",className:"absolute left-0 top-0 bottom-0 w-1 bg-[#0B67FF]",transition:{duration:.3}}),y.jsx(r,{size:20}),!n&&y.jsx("span",{children:i.label})]},i.id)})})]})}function oD(){return y.jsxs("div",{className:"h-screen flex flex-col bg-[#0F172A]",children:[y.jsx(sD,{}),y.jsxs("div",{className:"flex-1 flex overflow-hidden",children:[y.jsx(rD,{}),y.jsx("main",{className:"flex-1 overflow-y-auto",children:y.jsx(Tk,{})})]})]})}var ll=n=>n.type==="checkbox",sr=n=>n instanceof Date,Tn=n=>n==null;const DA=n=>typeof n=="object";var Dt=n=>!Tn(n)&&!Array.isArray(n)&&DA(n)&&!sr(n),aD=n=>Dt(n)&&n.target?ll(n.target)?n.target.checked:n.target.value:n,lD=n=>n.substring(0,n.search(/\.\d+(\.|$)/))||n,cD=(n,e)=>n.has(lD(e)),uD=n=>{const e=n.constructor&&n.constructor.prototype;return Dt(e)&&e.hasOwnProperty("isPrototypeOf")},Fm=typeof window<"u"&&typeof window.HTMLElement<"u"&&typeof document<"u";function Ut(n){let e;const t=Array.isArray(n),s=typeof FileList<"u"?n instanceof FileList:!1;if(n instanceof Date)e=new Date(n);else if(!(Fm&&(n instanceof Blob||s))&&(t||Dt(n)))if(e=t?[]:Object.create(Object.getPrototypeOf(n)),!t&&!uD(n))e=n;else for(const i in n)n.hasOwnProperty(i)&&(e[i]=Ut(n[i]));else return n;return e}var Bu=n=>/^\w*$/.test(n),Tt=n=>n===void 0,Rm=n=>Array.isArray(n)?n.filter(Boolean):[],Nm=n=>Rm(n.replace(/["|']|\]/g,"").split(/\.|\[/)),ve=(n,e,t)=>{if(!e||!Dt(n))return t;const s=(Bu(e)?[e]:Nm(e)).reduce((i,r)=>Tn(i)?i:i[r],n);return Tt(s)||s===n?Tt(n[e])?t:n[e]:s},Fs=n=>typeof n=="boolean",et=(n,e,t)=>{let s=-1;const i=Bu(e)?[e]:Nm(e),r=i.length,o=r-1;for(;++s<r;){const c=i[s];let u=t;if(s!==o){const h=n[c];u=Dt(h)||Array.isArray(h)?h:isNaN(+i[s+1])?{}:[]}if(c==="__proto__"||c==="constructor"||c==="prototype")return;n[c]=u,n=n[c]}};const $w={BLUR:"blur",FOCUS_OUT:"focusout"},ms={onBlur:"onBlur",onChange:"onChange",onSubmit:"onSubmit",onTouched:"onTouched",all:"all"},Xs={max:"max",min:"min",maxLength:"maxLength",minLength:"minLength",pattern:"pattern",required:"required",validate:"validate"},hD=Jt.createContext(null);hD.displayName="HookFormContext";var dD=(n,e,t,s=!0)=>{const i={defaultValues:e._defaultValues};for(const r in n)Object.defineProperty(i,r,{get:()=>{const o=r;return e._proxyFormState[o]!==ms.all&&(e._proxyFormState[o]=!s||ms.all),n[o]}});return i};const fD=typeof window<"u"?Jt.useLayoutEffect:Jt.useEffect;var Bn=n=>typeof n=="string",pD=(n,e,t,s,i)=>Bn(n)?(s&&e.watch.add(n),ve(t,n,i)):Array.isArray(n)?n.map(r=>(s&&e.watch.add(r),ve(t,r))):(s&&(e.watchAll=!0),t),pp=n=>Tn(n)||!DA(n);function ki(n,e,t=new WeakSet){if(pp(n)||pp(e))return Object.is(n,e);if(sr(n)&&sr(e))return n.getTime()===e.getTime();const s=Object.keys(n),i=Object.keys(e);if(s.length!==i.length)return!1;if(t.has(n)||t.has(e))return!0;t.add(n),t.add(e);for(const r of s){const o=n[r];if(!i.includes(r))return!1;if(r!=="ref"){const c=e[r];if(sr(o)&&sr(c)||Dt(o)&&Dt(c)||Array.isArray(o)&&Array.isArray(c)?!ki(o,c,t):!Object.is(o,c))return!1}}return!0}var Mm=(n,e,t,s,i)=>e?{...t[n],types:{...t[n]&&t[n].types?t[n].types:{},[s]:i||!0}}:{},Da=n=>Array.isArray(n)?n:[n],Vw=()=>{let n=[];return{get observers(){return n},next:i=>{for(const r of n)r.next&&r.next(i)},subscribe:i=>(n.push(i),{unsubscribe:()=>{n=n.filter(r=>r!==i)}}),unsubscribe:()=>{n=[]}}};function LA(n,e){const t={};for(const s in n)if(n.hasOwnProperty(s)){const i=n[s],r=e[s];if(i&&Dt(i)&&r){const o=LA(i,r);Dt(o)&&(t[s]=o)}else n[s]&&(t[s]=r)}return t}var pn=n=>Dt(n)&&!Object.keys(n).length,Dm=n=>n.type==="file",gs=n=>typeof n=="function",xu=n=>{if(!Fm)return!1;const e=n?n.ownerDocument:0;return n instanceof(e&&e.defaultView?e.defaultView.HTMLElement:HTMLElement)},IA=n=>n.type==="select-multiple",Lm=n=>n.type==="radio",mD=n=>Lm(n)||ll(n),xf=n=>xu(n)&&n.isConnected;function gD(n,e){const t=e.slice(0,-1).length;let s=0;for(;s<t;)n=Tt(n)?s++:n[e[s++]];return n}function yD(n){for(const e in n)if(n.hasOwnProperty(e)&&!Tt(n[e]))return!1;return!0}function Nt(n,e){const t=Array.isArray(e)?e:Bu(e)?[e]:Nm(e),s=t.length===1?n:gD(n,t),i=t.length-1,r=t[i];return s&&delete s[r],i!==0&&(Dt(s)&&pn(s)||Array.isArray(s)&&yD(s))&&Nt(n,t.slice(0,-1)),n}var vD=n=>{for(const e in n)if(gs(n[e]))return!0;return!1};function OA(n){return Array.isArray(n)||Dt(n)&&!vD(n)}function mp(n,e={}){for(const t in n){const s=n[t];OA(s)?(e[t]=Array.isArray(s)?[]:{},mp(s,e[t])):Tt(s)||(e[t]=!0)}return e}function Yr(n,e,t){t||(t=mp(e));for(const s in n){const i=n[s];if(OA(i))Tt(e)||pp(t[s])?t[s]=mp(i,Array.isArray(i)?[]:{}):Yr(i,Tn(e)?{}:e[s],t[s]);else{const r=e[s];t[s]=!ki(i,r)}}return t}const Uw={value:!1,isValid:!1},Hw={value:!0,isValid:!0};var jA=n=>{if(Array.isArray(n)){if(n.length>1){const e=n.filter(t=>t&&t.checked&&!t.disabled).map(t=>t.value);return{value:e,isValid:!!e.length}}return n[0].checked&&!n[0].disabled?n[0].attributes&&!Tt(n[0].attributes.value)?Tt(n[0].value)||n[0].value===""?Hw:{value:n[0].value,isValid:!0}:Hw:Uw}return Uw},BA=(n,{valueAsNumber:e,valueAsDate:t,setValueAs:s})=>Tt(n)?n:e?n===""?NaN:n&&+n:t&&Bn(n)?new Date(n):s?s(n):n;const Ww={isValid:!1,value:null};var zA=n=>Array.isArray(n)?n.reduce((e,t)=>t&&t.checked&&!t.disabled?{isValid:!0,value:t.value}:e,Ww):Ww;function Gw(n){const e=n.ref;return Dm(e)?e.files:Lm(e)?zA(n.refs).value:IA(e)?[...e.selectedOptions].map(({value:t})=>t):ll(e)?jA(n.refs).value:BA(Tt(e.value)?n.ref.value:e.value,n)}var wD=(n,e,t,s)=>{const i={};for(const r of n){const o=ve(e,r);o&&et(i,r,o._f)}return{criteriaMode:t,names:[...n],fields:i,shouldUseNativeValidation:s}},bu=n=>n instanceof RegExp,ba=n=>Tt(n)?n:bu(n)?n.source:Dt(n)?bu(n.value)?n.value.source:n.value:n,qw=n=>({isOnSubmit:!n||n===ms.onSubmit,isOnBlur:n===ms.onBlur,isOnChange:n===ms.onChange,isOnAll:n===ms.all,isOnTouch:n===ms.onTouched});const Kw="AsyncFunction";var xD=n=>!!n&&!!n.validate&&!!(gs(n.validate)&&n.validate.constructor.name===Kw||Dt(n.validate)&&Object.values(n.validate).find(e=>e.constructor.name===Kw)),bD=n=>n.mount&&(n.required||n.min||n.max||n.maxLength||n.minLength||n.pattern||n.validate),Xw=(n,e,t)=>!t&&(e.watchAll||e.watch.has(n)||[...e.watch].some(s=>n.startsWith(s)&&/^\.\w+/.test(n.slice(s.length))));const La=(n,e,t,s)=>{for(const i of t||Object.keys(n)){const r=ve(n,i);if(r){const{_f:o,...c}=r;if(o){if(o.refs&&o.refs[0]&&e(o.refs[0],i)&&!s)return!0;if(o.ref&&e(o.ref,o.name)&&!s)return!0;if(La(c,e))break}else if(Dt(c)&&La(c,e))break}}};function Zw(n,e,t){const s=ve(n,t);if(s||Bu(t))return{error:s,name:t};const i=t.split(".");for(;i.length;){const r=i.join("."),o=ve(e,r),c=ve(n,r);if(o&&!Array.isArray(o)&&t!==r)return{name:t};if(c&&c.type)return{name:r,error:c};if(c&&c.root&&c.root.type)return{name:`${r}.root`,error:c.root};i.pop()}return{name:t}}var AD=(n,e,t,s)=>{t(n);const{name:i,...r}=n;return pn(r)||Object.keys(r).length>=Object.keys(e).length||Object.keys(r).find(o=>e[o]===(!s||ms.all))},SD=(n,e,t)=>!n||!e||n===e||Da(n).some(s=>s&&(t?s===e:s.startsWith(e)||e.startsWith(s))),ED=(n,e,t,s,i)=>i.isOnAll?!1:!t&&i.isOnTouch?!(e||n):(t?s.isOnBlur:i.isOnBlur)?!n:(t?s.isOnChange:i.isOnChange)?n:!0,_D=(n,e)=>!Rm(ve(n,e)).length&&Nt(n,e),CD=(n,e,t)=>{const s=Da(ve(n,t));return et(s,"root",e[t]),et(n,t,s),n};function Yw(n,e,t="validate"){if(Bn(n)||Array.isArray(n)&&n.every(Bn)||Fs(n)&&!n)return{type:t,message:Bn(n)?n:"",ref:e}}var Xr=n=>Dt(n)&&!bu(n)?n:{value:n,message:""},Qw=async(n,e,t,s,i,r)=>{const{ref:o,refs:c,required:u,maxLength:h,minLength:f,min:p,max:g,pattern:w,validate:A,name:x,valueAsNumber:S,mount:E}=n._f,_=ve(t,x);if(!E||e.has(x))return{};const k=c?c[0]:o,T=ie=>{i&&k.reportValidity&&(k.setCustomValidity(Fs(ie)?"":ie||""),k.reportValidity())},P={},N=Lm(o),M=ll(o),I=N||M,$=(S||Dm(o))&&Tt(o.value)&&Tt(_)||xu(o)&&o.value===""||_===""||Array.isArray(_)&&!_.length,q=Mm.bind(null,x,s,P),Z=(ie,U,ee,ue=Xs.maxLength,Q=Xs.minLength)=>{const Y=ie?U:ee;P[x]={type:ie?ue:Q,message:Y,ref:o,...q(ie?ue:Q,Y)}};if(r?!Array.isArray(_)||!_.length:u&&(!I&&($||Tn(_))||Fs(_)&&!_||M&&!jA(c).isValid||N&&!zA(c).isValid)){const{value:ie,message:U}=Bn(u)?{value:!!u,message:u}:Xr(u);if(ie&&(P[x]={type:Xs.required,message:U,ref:k,...q(Xs.required,U)},!s))return T(U),P}if(!$&&(!Tn(p)||!Tn(g))){let ie,U;const ee=Xr(g),ue=Xr(p);if(!Tn(_)&&!isNaN(_)){const Q=o.valueAsNumber||_&&+_;Tn(ee.value)||(ie=Q>ee.value),Tn(ue.value)||(U=Q<ue.value)}else{const Q=o.valueAsDate||new Date(_),Y=J=>new Date(new Date().toDateString()+" "+J),W=o.type=="time",oe=o.type=="week";Bn(ee.value)&&_&&(ie=W?Y(_)>Y(ee.value):oe?_>ee.value:Q>new Date(ee.value)),Bn(ue.value)&&_&&(U=W?Y(_)<Y(ue.value):oe?_<ue.value:Q<new Date(ue.value))}if((ie||U)&&(Z(!!ie,ee.message,ue.message,Xs.max,Xs.min),!s))return T(P[x].message),P}if((h||f)&&!$&&(Bn(_)||r&&Array.isArray(_))){const ie=Xr(h),U=Xr(f),ee=!Tn(ie.value)&&_.length>+ie.value,ue=!Tn(U.value)&&_.length<+U.value;if((ee||ue)&&(Z(ee,ie.message,U.message),!s))return T(P[x].message),P}if(w&&!$&&Bn(_)){const{value:ie,message:U}=Xr(w);if(bu(ie)&&!_.match(ie)&&(P[x]={type:Xs.pattern,message:U,ref:o,...q(Xs.pattern,U)},!s))return T(U),P}if(A){if(gs(A)){const ie=await A(_,t),U=Yw(ie,k);if(U&&(P[x]={...U,...q(Xs.validate,U.message)},!s))return T(U.message),P}else if(Dt(A)){let ie={};for(const U in A){if(!pn(ie)&&!s)break;const ee=Yw(await A[U](_,t),k,U);ee&&(ie={...ee,...q(U,ee.message)},T(ee.message),s&&(P[x]=ie))}if(!pn(ie)&&(P[x]={ref:k,...ie},!s))return P}}return T(!0),P};const kD={mode:ms.onSubmit,reValidateMode:ms.onChange,shouldFocusError:!0};function TD(n={}){let e={...kD,...n},t={submitCount:0,isDirty:!1,isReady:!1,isLoading:gs(e.defaultValues),isValidating:!1,isSubmitted:!1,isSubmitting:!1,isSubmitSuccessful:!1,isValid:!1,touchedFields:{},dirtyFields:{},validatingFields:{},errors:e.errors||{},disabled:e.disabled||!1},s={},i=Dt(e.defaultValues)||Dt(e.values)?Ut(e.defaultValues||e.values)||{}:{},r=e.shouldUnregister?{}:Ut(i),o={action:!1,mount:!1,watch:!1},c={mount:new Set,disabled:new Set,unMount:new Set,array:new Set,watch:new Set},u,h=0;const f={isDirty:!1,dirtyFields:!1,validatingFields:!1,touchedFields:!1,isValidating:!1,isValid:!1,errors:!1};let p={...f};const g={array:Vw(),state:Vw()},w=e.criteriaMode===ms.all,A=D=>z=>{clearTimeout(h),h=setTimeout(D,z)},x=async D=>{if(!e.disabled&&(f.isValid||p.isValid||D)){const z=e.resolver?pn((await M()).errors):await $(s,!0);z!==t.isValid&&g.state.next({isValid:z})}},S=(D,z)=>{!e.disabled&&(f.isValidating||f.validatingFields||p.isValidating||p.validatingFields)&&((D||Array.from(c.mount)).forEach(X=>{X&&(z?et(t.validatingFields,X,z):Nt(t.validatingFields,X))}),g.state.next({validatingFields:t.validatingFields,isValidating:!pn(t.validatingFields)}))},E=(D,z=[],X,de,ce=!0,ae=!0)=>{if(de&&X&&!e.disabled){if(o.action=!0,ae&&Array.isArray(ve(s,D))){const Se=X(ve(s,D),de.argA,de.argB);ce&&et(s,D,Se)}if(ae&&Array.isArray(ve(t.errors,D))){const Se=X(ve(t.errors,D),de.argA,de.argB);ce&&et(t.errors,D,Se),_D(t.errors,D)}if((f.touchedFields||p.touchedFields)&&ae&&Array.isArray(ve(t.touchedFields,D))){const Se=X(ve(t.touchedFields,D),de.argA,de.argB);ce&&et(t.touchedFields,D,Se)}(f.dirtyFields||p.dirtyFields)&&(t.dirtyFields=Yr(i,r)),g.state.next({name:D,isDirty:Z(D,z),dirtyFields:t.dirtyFields,errors:t.errors,isValid:t.isValid})}else et(r,D,z)},_=(D,z)=>{et(t.errors,D,z),g.state.next({errors:t.errors})},k=D=>{t.errors=D,g.state.next({errors:t.errors,isValid:!1})},T=(D,z,X,de)=>{const ce=ve(s,D);if(ce){const ae=ve(r,D,Tt(X)?ve(i,D):X);Tt(ae)||de&&de.defaultChecked||z?et(r,D,z?ae:Gw(ce._f)):ee(D,ae),o.mount&&!o.action&&x()}},P=(D,z,X,de,ce)=>{let ae=!1,Se=!1;const Be={name:D};if(!e.disabled){if(!X||de){(f.isDirty||p.isDirty)&&(Se=t.isDirty,t.isDirty=Be.isDirty=Z(),ae=Se!==Be.isDirty);const He=ki(ve(i,D),z);Se=!!ve(t.dirtyFields,D),He?Nt(t.dirtyFields,D):et(t.dirtyFields,D,!0),Be.dirtyFields=t.dirtyFields,ae=ae||(f.dirtyFields||p.dirtyFields)&&Se!==!He}if(X){const He=ve(t.touchedFields,D);He||(et(t.touchedFields,D,X),Be.touchedFields=t.touchedFields,ae=ae||(f.touchedFields||p.touchedFields)&&He!==X)}ae&&ce&&g.state.next(Be)}return ae?Be:{}},N=(D,z,X,de)=>{const ce=ve(t.errors,D),ae=(f.isValid||p.isValid)&&Fs(z)&&t.isValid!==z;if(e.delayError&&X?(u=A(()=>_(D,X)),u(e.delayError)):(clearTimeout(h),u=null,X?et(t.errors,D,X):Nt(t.errors,D)),(X?!ki(ce,X):ce)||!pn(de)||ae){const Se={...de,...ae&&Fs(z)?{isValid:z}:{},errors:t.errors,name:D};t={...t,...Se},g.state.next(Se)}},M=async D=>{S(D,!0);const z=await e.resolver(r,e.context,wD(D||c.mount,s,e.criteriaMode,e.shouldUseNativeValidation));return S(D),z},I=async D=>{const{errors:z}=await M(D);if(D)for(const X of D){const de=ve(z,X);de?et(t.errors,X,de):Nt(t.errors,X)}else t.errors=z;return z},$=async(D,z,X={valid:!0})=>{for(const de in D){const ce=D[de];if(ce){const{_f:ae,...Se}=ce;if(ae){const Be=c.array.has(ae.name),He=ce._f&&xD(ce._f);He&&f.validatingFields&&S([ae.name],!0);const lt=await Qw(ce,c.disabled,r,w,e.shouldUseNativeValidation&&!z,Be);if(He&&f.validatingFields&&S([ae.name]),lt[ae.name]&&(X.valid=!1,z))break;!z&&(ve(lt,ae.name)?Be?CD(t.errors,lt,ae.name):et(t.errors,ae.name,lt[ae.name]):Nt(t.errors,ae.name))}!pn(Se)&&await $(Se,z,X)}}return X.valid},q=()=>{for(const D of c.unMount){const z=ve(s,D);z&&(z._f.refs?z._f.refs.every(X=>!xf(X)):!xf(z._f.ref))&&Ee(D)}c.unMount=new Set},Z=(D,z)=>!e.disabled&&(D&&z&&et(r,D,z),!ki(J(),i)),ie=(D,z,X)=>pD(D,c,{...o.mount?r:Tt(z)?i:Bn(D)?{[D]:z}:z},X,z),U=D=>Rm(ve(o.mount?r:i,D,e.shouldUnregister?ve(i,D,[]):[])),ee=(D,z,X={})=>{const de=ve(s,D);let ce=z;if(de){const ae=de._f;ae&&(!ae.disabled&&et(r,D,BA(z,ae)),ce=xu(ae.ref)&&Tn(z)?"":z,IA(ae.ref)?[...ae.ref.options].forEach(Se=>Se.selected=ce.includes(Se.value)):ae.refs?ll(ae.ref)?ae.refs.forEach(Se=>{(!Se.defaultChecked||!Se.disabled)&&(Array.isArray(ce)?Se.checked=!!ce.find(Be=>Be===Se.value):Se.checked=ce===Se.value||!!ce)}):ae.refs.forEach(Se=>Se.checked=Se.value===ce):Dm(ae.ref)?ae.ref.value="":(ae.ref.value=ce,ae.ref.type||g.state.next({name:D,values:Ut(r)})))}(X.shouldDirty||X.shouldTouch)&&P(D,ce,X.shouldTouch,X.shouldDirty,!0),X.shouldValidate&&oe(D)},ue=(D,z,X)=>{for(const de in z){if(!z.hasOwnProperty(de))return;const ce=z[de],ae=D+"."+de,Se=ve(s,ae);(c.array.has(D)||Dt(ce)||Se&&!Se._f)&&!sr(ce)?ue(ae,ce,X):ee(ae,ce,X)}},Q=(D,z,X={})=>{const de=ve(s,D),ce=c.array.has(D),ae=Ut(z);et(r,D,ae),ce?(g.array.next({name:D,values:Ut(r)}),(f.isDirty||f.dirtyFields||p.isDirty||p.dirtyFields)&&X.shouldDirty&&g.state.next({name:D,dirtyFields:Yr(i,r),isDirty:Z(D,ae)})):de&&!de._f&&!Tn(ae)?ue(D,ae,X):ee(D,ae,X),Xw(D,c)&&g.state.next({...t,name:D}),g.state.next({name:o.mount?D:void 0,values:Ut(r)})},Y=async D=>{o.mount=!0;const z=D.target;let X=z.name,de=!0;const ce=ve(s,X),ae=He=>{de=Number.isNaN(He)||sr(He)&&isNaN(He.getTime())||ki(He,ve(r,X,He))},Se=qw(e.mode),Be=qw(e.reValidateMode);if(ce){let He,lt;const vn=z.type?Gw(ce._f):aD(D),wn=D.type===$w.BLUR||D.type===$w.FOCUS_OUT,uh=!bD(ce._f)&&!e.resolver&&!ve(t.errors,X)&&!ce._f.deps||ED(wn,ve(t.touchedFields,X),t.isSubmitted,Be,Se),br=Xw(X,c,wn);et(r,X,vn),wn?(!z||!z.readOnly)&&(ce._f.onBlur&&ce._f.onBlur(D),u&&u(0)):ce._f.onChange&&ce._f.onChange(D);const Ar=P(X,vn,wn),hh=!pn(Ar)||br;if(!wn&&g.state.next({name:X,type:D.type,values:Ut(r)}),uh)return(f.isValid||p.isValid)&&(e.mode==="onBlur"?wn&&x():wn||x()),hh&&g.state.next({name:X,...br?{}:Ar});if(!wn&&br&&g.state.next({...t}),e.resolver){const{errors:Sr}=await M([X]);if(ae(vn),de){const Lo=Zw(t.errors,s,X),Er=Zw(Sr,s,Lo.name||X);He=Er.error,X=Er.name,lt=pn(Sr)}}else S([X],!0),He=(await Qw(ce,c.disabled,r,w,e.shouldUseNativeValidation))[X],S([X]),ae(vn),de&&(He?lt=!1:(f.isValid||p.isValid)&&(lt=await $(s,!0)));de&&(ce._f.deps&&(!Array.isArray(ce._f.deps)||ce._f.deps.length>0)&&oe(ce._f.deps),N(X,lt,He,Ar))}},W=(D,z)=>{if(ve(t.errors,z)&&D.focus)return D.focus(),1},oe=async(D,z={})=>{let X,de;const ce=Da(D);if(e.resolver){const ae=await I(Tt(D)?D:ce);X=pn(ae),de=D?!ce.some(Se=>ve(ae,Se)):X}else D?(de=(await Promise.all(ce.map(async ae=>{const Se=ve(s,ae);return await $(Se&&Se._f?{[ae]:Se}:Se)}))).every(Boolean),!(!de&&!t.isValid)&&x()):de=X=await $(s);return g.state.next({...!Bn(D)||(f.isValid||p.isValid)&&X!==t.isValid?{}:{name:D},...e.resolver||!D?{isValid:X}:{},errors:t.errors}),z.shouldFocus&&!de&&La(s,W,D?ce:c.mount),de},J=(D,z)=>{let X={...o.mount?r:i};return z&&(X=LA(z.dirtyFields?t.dirtyFields:t.touchedFields,X)),Tt(D)?X:Bn(D)?ve(X,D):D.map(de=>ve(X,de))},O=(D,z)=>({invalid:!!ve((z||t).errors,D),isDirty:!!ve((z||t).dirtyFields,D),error:ve((z||t).errors,D),isValidating:!!ve(t.validatingFields,D),isTouched:!!ve((z||t).touchedFields,D)}),K=D=>{D&&Da(D).forEach(z=>Nt(t.errors,z)),g.state.next({errors:D?t.errors:{}})},he=(D,z,X)=>{const de=(ve(s,D,{_f:{}})._f||{}).ref,ce=ve(t.errors,D)||{},{ref:ae,message:Se,type:Be,...He}=ce;et(t.errors,D,{...He,...z,ref:de}),g.state.next({name:D,errors:t.errors,isValid:!1}),X&&X.shouldFocus&&de&&de.focus&&de.focus()},be=(D,z)=>gs(D)?g.state.subscribe({next:X=>"values"in X&&D(ie(void 0,z),X)}):ie(D,z,!0),Ce=D=>g.state.subscribe({next:z=>{SD(D.name,z.name,D.exact)&&AD(z,D.formState||f,Vn,D.reRenderRoot)&&D.callback({values:{...r},...t,...z,defaultValues:i})}}).unsubscribe,Pe=D=>(o.mount=!0,p={...p,...D.formState},Ce({...D,formState:p})),Ee=(D,z={})=>{for(const X of D?Da(D):c.mount)c.mount.delete(X),c.array.delete(X),z.keepValue||(Nt(s,X),Nt(r,X)),!z.keepError&&Nt(t.errors,X),!z.keepDirty&&Nt(t.dirtyFields,X),!z.keepTouched&&Nt(t.touchedFields,X),!z.keepIsValidating&&Nt(t.validatingFields,X),!e.shouldUnregister&&!z.keepDefaultValue&&Nt(i,X);g.state.next({values:Ut(r)}),g.state.next({...t,...z.keepDirty?{isDirty:Z()}:{}}),!z.keepIsValid&&x()},je=({disabled:D,name:z})=>{(Fs(D)&&o.mount||D||c.disabled.has(z))&&(D?c.disabled.add(z):c.disabled.delete(z))},Le=(D,z={})=>{let X=ve(s,D);const de=Fs(z.disabled)||Fs(e.disabled);return et(s,D,{...X||{},_f:{...X&&X._f?X._f:{ref:{name:D}},name:D,mount:!0,...z}}),c.mount.add(D),X?je({disabled:Fs(z.disabled)?z.disabled:e.disabled,name:D}):T(D,!0,z.value),{...de?{disabled:z.disabled||e.disabled}:{},...e.progressive?{required:!!z.required,min:ba(z.min),max:ba(z.max),minLength:ba(z.minLength),maxLength:ba(z.maxLength),pattern:ba(z.pattern)}:{},name:D,onChange:Y,onBlur:Y,ref:ce=>{if(ce){Le(D,z),X=ve(s,D);const ae=Tt(ce.value)&&ce.querySelectorAll&&ce.querySelectorAll("input,select,textarea")[0]||ce,Se=mD(ae),Be=X._f.refs||[];if(Se?Be.find(He=>He===ae):ae===X._f.ref)return;et(s,D,{_f:{...X._f,...Se?{refs:[...Be.filter(xf),ae,...Array.isArray(ve(i,D))?[{}]:[]],ref:{type:ae.type,name:D}}:{ref:ae}}}),T(D,!1,void 0,ae)}else X=ve(s,D,{}),X._f&&(X._f.mount=!1),(e.shouldUnregister||z.shouldUnregister)&&!(cD(c.array,D)&&o.action)&&c.unMount.add(D)}}},$e=()=>e.shouldFocusError&&La(s,W,c.mount),tn=D=>{Fs(D)&&(g.state.next({disabled:D}),La(s,(z,X)=>{const de=ve(s,X);de&&(z.disabled=de._f.disabled||D,Array.isArray(de._f.refs)&&de._f.refs.forEach(ce=>{ce.disabled=de._f.disabled||D}))},0,!1))},hn=(D,z)=>async X=>{let de;X&&(X.preventDefault&&X.preventDefault(),X.persist&&X.persist());let ce=Ut(r);if(g.state.next({isSubmitting:!0}),e.resolver){const{errors:ae,values:Se}=await M();t.errors=ae,ce=Ut(Se)}else await $(s);if(c.disabled.size)for(const ae of c.disabled)Nt(ce,ae);if(Nt(t.errors,"root"),pn(t.errors)){g.state.next({errors:{}});try{await D(ce,X)}catch(ae){de=ae}}else z&&await z({...t.errors},X),$e(),setTimeout($e);if(g.state.next({isSubmitted:!0,isSubmitting:!1,isSubmitSuccessful:pn(t.errors)&&!de,submitCount:t.submitCount+1,errors:t.errors}),de)throw de},Ue=(D,z={})=>{ve(s,D)&&(Tt(z.defaultValue)?Q(D,Ut(ve(i,D))):(Q(D,z.defaultValue),et(i,D,Ut(z.defaultValue))),z.keepTouched||Nt(t.touchedFields,D),z.keepDirty||(Nt(t.dirtyFields,D),t.isDirty=z.defaultValue?Z(D,Ut(ve(i,D))):Z()),z.keepError||(Nt(t.errors,D),f.isValid&&x()),g.state.next({...t}))},Ze=(D,z={})=>{const X=D?Ut(D):i,de=Ut(X),ce=pn(D),ae=ce?i:de;if(z.keepDefaultValues||(i=X),!z.keepValues){if(z.keepDirtyValues){const Se=new Set([...c.mount,...Object.keys(Yr(i,r))]);for(const Be of Array.from(Se))ve(t.dirtyFields,Be)?et(ae,Be,ve(r,Be)):Q(Be,ve(ae,Be))}else{if(Fm&&Tt(D))for(const Se of c.mount){const Be=ve(s,Se);if(Be&&Be._f){const He=Array.isArray(Be._f.refs)?Be._f.refs[0]:Be._f.ref;if(xu(He)){const lt=He.closest("form");if(lt){lt.reset();break}}}}if(z.keepFieldsRef)for(const Se of c.mount)Q(Se,ve(ae,Se));else s={}}r=e.shouldUnregister?z.keepDefaultValues?Ut(i):{}:Ut(ae),g.array.next({values:{...ae}}),g.state.next({values:{...ae}})}c={mount:z.keepDirtyValues?c.mount:new Set,unMount:new Set,array:new Set,disabled:new Set,watch:new Set,watchAll:!1,focus:""},o.mount=!f.isValid||!!z.keepIsValid||!!z.keepDirtyValues||!e.shouldUnregister&&!pn(ae),o.watch=!!e.shouldUnregister,o.action=!1,z.keepErrors||(t.errors={}),g.state.next({submitCount:z.keepSubmitCount?t.submitCount:0,isDirty:ce?!1:z.keepDirty?t.isDirty:!!(z.keepDefaultValues&&!ki(D,i)),isSubmitted:z.keepIsSubmitted?t.isSubmitted:!1,dirtyFields:ce?{}:z.keepDirtyValues?z.keepDefaultValues&&r?Yr(i,r):t.dirtyFields:z.keepDefaultValues&&D?Yr(i,D):z.keepDirty?t.dirtyFields:{},touchedFields:z.keepTouched?t.touchedFields:{},errors:z.keepErrors?t.errors:{},isSubmitSuccessful:z.keepIsSubmitSuccessful?t.isSubmitSuccessful:!1,isSubmitting:!1,defaultValues:i})},rt=(D,z)=>Ze(gs(D)?D(r):D,z),ft=(D,z={})=>{const X=ve(s,D),de=X&&X._f;if(de){const ce=de.refs?de.refs[0]:de.ref;ce.focus&&(ce.focus(),z.shouldSelect&&gs(ce.select)&&ce.select())}},Vn=D=>{t={...t,...D}},xs={control:{register:Le,unregister:Ee,getFieldState:O,handleSubmit:hn,setError:he,_subscribe:Ce,_runSchema:M,_focusError:$e,_getWatch:ie,_getDirty:Z,_setValid:x,_setFieldArray:E,_setDisabledField:je,_setErrors:k,_getFieldArray:U,_reset:Ze,_resetDefaultValues:()=>gs(e.defaultValues)&&e.defaultValues().then(D=>{rt(D,e.resetOptions),g.state.next({isLoading:!1})}),_removeUnmounted:q,_disableForm:tn,_subjects:g,_proxyFormState:f,get _fields(){return s},get _formValues(){return r},get _state(){return o},set _state(D){o=D},get _defaultValues(){return i},get _names(){return c},set _names(D){c=D},get _formState(){return t},get _options(){return e},set _options(D){e={...e,...D}}},subscribe:Pe,trigger:oe,register:Le,handleSubmit:hn,watch:be,setValue:Q,getValues:J,reset:rt,resetField:Ue,clearErrors:K,unregister:Ee,setError:he,setFocus:ft,getFieldState:O};return{...xs,formControl:xs}}function Im(n={}){const e=Jt.useRef(void 0),t=Jt.useRef(void 0),[s,i]=Jt.useState({isDirty:!1,isValidating:!1,isLoading:gs(n.defaultValues),isSubmitted:!1,isSubmitting:!1,isSubmitSuccessful:!1,isValid:!1,submitCount:0,dirtyFields:{},touchedFields:{},validatingFields:{},errors:n.errors||{},disabled:n.disabled||!1,isReady:!1,defaultValues:gs(n.defaultValues)?void 0:n.defaultValues});if(!e.current)if(n.formControl)e.current={...n.formControl,formState:s},n.defaultValues&&!gs(n.defaultValues)&&n.formControl.reset(n.defaultValues,n.resetOptions);else{const{formControl:o,...c}=TD(n);e.current={...c,formState:s}}const r=e.current.control;return r._options=n,fD(()=>{const o=r._subscribe({formState:r._proxyFormState,callback:()=>i({...r._formState}),reRenderRoot:!0});return i(c=>({...c,isReady:!0})),r._formState.isReady=!0,o},[r]),Jt.useEffect(()=>r._disableForm(n.disabled),[r,n.disabled]),Jt.useEffect(()=>{n.mode&&(r._options.mode=n.mode),n.reValidateMode&&(r._options.reValidateMode=n.reValidateMode)},[r,n.mode,n.reValidateMode]),Jt.useEffect(()=>{n.errors&&(r._setErrors(n.errors),r._focusError())},[r,n.errors]),Jt.useEffect(()=>{n.shouldUnregister&&r._subjects.state.next({values:r._getWatch()})},[r,n.shouldUnregister]),Jt.useEffect(()=>{if(r._proxyFormState.isDirty){const o=r._getDirty();o!==s.isDirty&&r._subjects.state.next({isDirty:o})}},[r,s.isDirty]),Jt.useEffect(()=>{var o;n.values&&!ki(n.values,t.current)?(r._reset(n.values,{keepFieldsRef:!0,...r._options.resetOptions}),!((o=r._options.resetOptions)===null||o===void 0)&&o.keepIsValid||r._setValid(),t.current=n.values,i(c=>({...c}))):r._resetDefaultValues()},[r,n.values]),Jt.useEffect(()=>{r._state.mount||(r._setValid(),r._state.mount=!0),r._state.watch&&(r._state.watch=!1,r._subjects.state.next({...r._formState})),r._removeUnmounted()}),e.current.formState=dD(s,r),e.current}function ne(n,e,t){function s(c,u){if(c._zod||Object.defineProperty(c,"_zod",{value:{def:u,constr:o,traits:new Set},enumerable:!1}),c._zod.traits.has(n))return;c._zod.traits.add(n),e(c,u);const h=o.prototype,f=Object.keys(h);for(let p=0;p<f.length;p++){const g=f[p];g in c||(c[g]=h[g].bind(c))}}const i=t?.Parent??Object;class r extends i{}Object.defineProperty(r,"name",{value:n});function o(c){var u;const h=t?.Parent?new r:this;s(h,c),(u=h._zod).deferred??(u.deferred=[]);for(const f of h._zod.deferred)f();return h}return Object.defineProperty(o,"init",{value:s}),Object.defineProperty(o,Symbol.hasInstance,{value:c=>t?.Parent&&c instanceof t.Parent?!0:c?._zod?.traits?.has(n)}),Object.defineProperty(o,"name",{value:n}),o}class uo extends Error{constructor(){super("Encountered Promise during synchronous parse. Use .parseAsync() instead.")}}class $A extends Error{constructor(e){super(`Encountered unidirectional transform during encode: ${e}`),this.name="ZodEncodeError"}}const VA={};function hr(n){return VA}function PD(n){const e=Object.values(n).filter(s=>typeof s=="number");return Object.entries(n).filter(([s,i])=>e.indexOf(+s)===-1).map(([s,i])=>i)}function gp(n,e){return typeof e=="bigint"?e.toString():e}function Om(n){return{get value(){{const e=n();return Object.defineProperty(this,"value",{value:e}),e}}}}function jm(n){return n==null}function Bm(n){const e=n.startsWith("^")?1:0,t=n.endsWith("$")?n.length-1:n.length;return n.slice(e,t)}const Jw=Symbol("evaluating");function it(n,e,t){let s;Object.defineProperty(n,e,{get(){if(s!==Jw)return s===void 0&&(s=Jw,s=t()),s},set(i){Object.defineProperty(n,e,{value:i})},configurable:!0})}function yr(n,e,t){Object.defineProperty(n,e,{value:t,writable:!0,enumerable:!0,configurable:!0})}function vr(...n){const e={};for(const t of n){const s=Object.getOwnPropertyDescriptors(t);Object.assign(e,s)}return Object.defineProperties({},e)}function ex(n){return JSON.stringify(n)}function FD(n){return n.toLowerCase().trim().replace(/[^\w\s-]/g,"").replace(/[\s_-]+/g,"-").replace(/^-+|-+$/g,"")}const UA="captureStackTrace"in Error?Error.captureStackTrace:(...n)=>{};function Au(n){return typeof n=="object"&&n!==null&&!Array.isArray(n)}const RD=Om(()=>{if(typeof navigator<"u"&&navigator?.userAgent?.includes("Cloudflare"))return!1;try{const n=Function;return new n(""),!0}catch{return!1}});function Ka(n){if(Au(n)===!1)return!1;const e=n.constructor;if(e===void 0||typeof e!="function")return!0;const t=e.prototype;return!(Au(t)===!1||Object.prototype.hasOwnProperty.call(t,"isPrototypeOf")===!1)}function HA(n){return Ka(n)?{...n}:Array.isArray(n)?[...n]:n}const ND=new Set(["string","number","symbol"]);function zu(n){return n.replace(/[.*+?^${}()|[\]\\]/g,"\\$&")}function Li(n,e,t){const s=new n._zod.constr(e??n._zod.def);return(!e||t?.parent)&&(s._zod.parent=n),s}function Me(n){const e=n;if(!e)return{};if(typeof e=="string")return{error:()=>e};if(e?.message!==void 0){if(e?.error!==void 0)throw new Error("Cannot specify both `message` and `error` params");e.error=e.message}return delete e.message,typeof e.error=="string"?{...e,error:()=>e.error}:e}function MD(n){return Object.keys(n).filter(e=>n[e]._zod.optin==="optional"&&n[e]._zod.optout==="optional")}function DD(n,e){const t=n._zod.def,s=vr(n._zod.def,{get shape(){const i={};for(const r in e){if(!(r in t.shape))throw new Error(`Unrecognized key: "${r}"`);e[r]&&(i[r]=t.shape[r])}return yr(this,"shape",i),i},checks:[]});return Li(n,s)}function LD(n,e){const t=n._zod.def,s=vr(n._zod.def,{get shape(){const i={...n._zod.def.shape};for(const r in e){if(!(r in t.shape))throw new Error(`Unrecognized key: "${r}"`);e[r]&&delete i[r]}return yr(this,"shape",i),i},checks:[]});return Li(n,s)}function ID(n,e){if(!Ka(e))throw new Error("Invalid input to extend: expected a plain object");const t=n._zod.def.checks;if(t&&t.length>0)throw new Error("Object schemas containing refinements cannot be extended. Use `.safeExtend()` instead.");const i=vr(n._zod.def,{get shape(){const r={...n._zod.def.shape,...e};return yr(this,"shape",r),r},checks:[]});return Li(n,i)}function OD(n,e){if(!Ka(e))throw new Error("Invalid input to safeExtend: expected a plain object");const t={...n._zod.def,get shape(){const s={...n._zod.def.shape,...e};return yr(this,"shape",s),s},checks:n._zod.def.checks};return Li(n,t)}function jD(n,e){const t=vr(n._zod.def,{get shape(){const s={...n._zod.def.shape,...e._zod.def.shape};return yr(this,"shape",s),s},get catchall(){return e._zod.def.catchall},checks:[]});return Li(n,t)}function BD(n,e,t){const s=vr(e._zod.def,{get shape(){const i=e._zod.def.shape,r={...i};if(t)for(const o in t){if(!(o in i))throw new Error(`Unrecognized key: "${o}"`);t[o]&&(r[o]=n?new n({type:"optional",innerType:i[o]}):i[o])}else for(const o in i)r[o]=n?new n({type:"optional",innerType:i[o]}):i[o];return yr(this,"shape",r),r},checks:[]});return Li(e,s)}function zD(n,e,t){const s=vr(e._zod.def,{get shape(){const i=e._zod.def.shape,r={...i};if(t)for(const o in t){if(!(o in r))throw new Error(`Unrecognized key: "${o}"`);t[o]&&(r[o]=new n({type:"nonoptional",innerType:i[o]}))}else for(const o in i)r[o]=new n({type:"nonoptional",innerType:i[o]});return yr(this,"shape",r),r},checks:[]});return Li(e,s)}function ro(n,e=0){if(n.aborted===!0)return!0;for(let t=e;t<n.issues.length;t++)if(n.issues[t]?.continue!==!0)return!0;return!1}function WA(n,e){return e.map(t=>{var s;return(s=t).path??(s.path=[]),t.path.unshift(n),t})}function Oc(n){return typeof n=="string"?n:n?.message}function dr(n,e,t){const s={...n,path:n.path??[]};if(!n.message){const i=Oc(n.inst?._zod.def?.error?.(n))??Oc(e?.error?.(n))??Oc(t.customError?.(n))??Oc(t.localeError?.(n))??"Invalid input";s.message=i}return delete s.inst,delete s.continue,e?.reportInput||delete s.input,s}function zm(n){return Array.isArray(n)?"array":typeof n=="string"?"string":"unknown"}function Xa(...n){const[e,t,s]=n;return typeof e=="string"?{message:e,code:"custom",input:t,inst:s}:{...e}}const GA=(n,e)=>{n.name="$ZodError",Object.defineProperty(n,"_zod",{value:n._zod,enumerable:!1}),Object.defineProperty(n,"issues",{value:e,enumerable:!1}),n.message=JSON.stringify(e,gp,2),Object.defineProperty(n,"toString",{value:()=>n.message,enumerable:!1})},$m=ne("$ZodError",GA),$u=ne("$ZodError",GA,{Parent:Error});function $D(n,e=t=>t.message){const t={},s=[];for(const i of n.issues)i.path.length>0?(t[i.path[0]]=t[i.path[0]]||[],t[i.path[0]].push(e(i))):s.push(e(i));return{formErrors:s,fieldErrors:t}}function VD(n,e=t=>t.message){const t={_errors:[]},s=i=>{for(const r of i.issues)if(r.code==="invalid_union"&&r.errors.length)r.errors.map(o=>s({issues:o}));else if(r.code==="invalid_key")s({issues:r.issues});else if(r.code==="invalid_element")s({issues:r.issues});else if(r.path.length===0)t._errors.push(e(r));else{let o=t,c=0;for(;c<r.path.length;){const u=r.path[c];c===r.path.length-1?(o[u]=o[u]||{_errors:[]},o[u]._errors.push(e(r))):o[u]=o[u]||{_errors:[]},o=o[u],c++}}};return s(n),t}const Vu=n=>(e,t,s,i)=>{const r=s?Object.assign(s,{async:!1}):{async:!1},o=e._zod.run({value:t,issues:[]},r);if(o instanceof Promise)throw new uo;if(o.issues.length){const c=new(i?.Err??n)(o.issues.map(u=>dr(u,r,hr())));throw UA(c,i?.callee),c}return o.value},UD=Vu($u),Uu=n=>async(e,t,s,i)=>{const r=s?Object.assign(s,{async:!0}):{async:!0};let o=e._zod.run({value:t,issues:[]},r);if(o instanceof Promise&&(o=await o),o.issues.length){const c=new(i?.Err??n)(o.issues.map(u=>dr(u,r,hr())));throw UA(c,i?.callee),c}return o.value},HD=Uu($u),Hu=n=>(e,t,s)=>{const i=s?{...s,async:!1}:{async:!1},r=e._zod.run({value:t,issues:[]},i);if(r instanceof Promise)throw new uo;return r.issues.length?{success:!1,error:new(n??$m)(r.issues.map(o=>dr(o,i,hr())))}:{success:!0,data:r.value}},WD=Hu($u),Wu=n=>async(e,t,s)=>{const i=s?Object.assign(s,{async:!0}):{async:!0};let r=e._zod.run({value:t,issues:[]},i);return r instanceof Promise&&(r=await r),r.issues.length?{success:!1,error:new n(r.issues.map(o=>dr(o,i,hr())))}:{success:!0,data:r.value}},GD=Wu($u),qD=n=>(e,t,s)=>{const i=s?Object.assign(s,{direction:"backward"}):{direction:"backward"};return Vu(n)(e,t,i)},KD=n=>(e,t,s)=>Vu(n)(e,t,s),XD=n=>async(e,t,s)=>{const i=s?Object.assign(s,{direction:"backward"}):{direction:"backward"};return Uu(n)(e,t,i)},ZD=n=>async(e,t,s)=>Uu(n)(e,t,s),YD=n=>(e,t,s)=>{const i=s?Object.assign(s,{direction:"backward"}):{direction:"backward"};return Hu(n)(e,t,i)},QD=n=>(e,t,s)=>Hu(n)(e,t,s),JD=n=>async(e,t,s)=>{const i=s?Object.assign(s,{direction:"backward"}):{direction:"backward"};return Wu(n)(e,t,i)},eL=n=>async(e,t,s)=>Wu(n)(e,t,s),tL=/^[cC][^\s-]{8,}$/,nL=/^[0-9a-z]+$/,sL=/^[0-9A-HJKMNP-TV-Za-hjkmnp-tv-z]{26}$/,iL=/^[0-9a-vA-V]{20}$/,rL=/^[A-Za-z0-9]{27}$/,oL=/^[a-zA-Z0-9_-]{21}$/,aL=/^P(?:(\d+W)|(?!.*W)(?=\d|T\d)(\d+Y)?(\d+M)?(\d+D)?(T(?=\d)(\d+H)?(\d+M)?(\d+([.,]\d+)?S)?)?)$/,lL=/^([0-9a-fA-F]{8}-[0-9a-fA-F]{4}-[0-9a-fA-F]{4}-[0-9a-fA-F]{4}-[0-9a-fA-F]{12})$/,tx=n=>n?new RegExp(`^([0-9a-fA-F]{8}-[0-9a-fA-F]{4}-${n}[0-9a-fA-F]{3}-[89abAB][0-9a-fA-F]{3}-[0-9a-fA-F]{12})$`):/^([0-9a-fA-F]{8}-[0-9a-fA-F]{4}-[1-8][0-9a-fA-F]{3}-[89abAB][0-9a-fA-F]{3}-[0-9a-fA-F]{12}|00000000-0000-0000-0000-000000000000|ffffffff-ffff-ffff-ffff-ffffffffffff)$/,cL=/^(?!\.)(?!.*\.\.)([A-Za-z0-9_'+\-\.]*)[A-Za-z0-9_+-]@([A-Za-z0-9][A-Za-z0-9\-]*\.)+[A-Za-z]{2,}$/,uL="^(\\p{Extended_Pictographic}|\\p{Emoji_Component})+$";function hL(){return new RegExp(uL,"u")}const dL=/^(?:(?:25[0-5]|2[0-4][0-9]|1[0-9][0-9]|[1-9][0-9]|[0-9])\.){3}(?:25[0-5]|2[0-4][0-9]|1[0-9][0-9]|[1-9][0-9]|[0-9])$/,fL=/^(([0-9a-fA-F]{1,4}:){7}[0-9a-fA-F]{1,4}|([0-9a-fA-F]{1,4}:){1,7}:|([0-9a-fA-F]{1,4}:){1,6}:[0-9a-fA-F]{1,4}|([0-9a-fA-F]{1,4}:){1,5}(:[0-9a-fA-F]{1,4}){1,2}|([0-9a-fA-F]{1,4}:){1,4}(:[0-9a-fA-F]{1,4}){1,3}|([0-9a-fA-F]{1,4}:){1,3}(:[0-9a-fA-F]{1,4}){1,4}|([0-9a-fA-F]{1,4}:){1,2}(:[0-9a-fA-F]{1,4}){1,5}|[0-9a-fA-F]{1,4}:((:[0-9a-fA-F]{1,4}){1,6})|:((:[0-9a-fA-F]{1,4}){1,7}|:))$/,pL=/^((25[0-5]|2[0-4][0-9]|1[0-9][0-9]|[1-9][0-9]|[0-9])\.){3}(25[0-5]|2[0-4][0-9]|1[0-9][0-9]|[1-9][0-9]|[0-9])\/([0-9]|[1-2][0-9]|3[0-2])$/,mL=/^(([0-9a-fA-F]{1,4}:){7}[0-9a-fA-F]{1,4}|::|([0-9a-fA-F]{1,4})?::([0-9a-fA-F]{1,4}:?){0,6})\/(12[0-8]|1[01][0-9]|[1-9]?[0-9])$/,gL=/^$|^(?:[0-9a-zA-Z+/]{4})*(?:(?:[0-9a-zA-Z+/]{2}==)|(?:[0-9a-zA-Z+/]{3}=))?$/,qA=/^[A-Za-z0-9_-]*$/,yL=/^\+(?:[0-9]){6,14}[0-9]$/,KA="(?:(?:\\d\\d[2468][048]|\\d\\d[13579][26]|\\d\\d0[48]|[02468][048]00|[13579][26]00)-02-29|\\d{4}-(?:(?:0[13578]|1[02])-(?:0[1-9]|[12]\\d|3[01])|(?:0[469]|11)-(?:0[1-9]|[12]\\d|30)|(?:02)-(?:0[1-9]|1\\d|2[0-8])))",vL=new RegExp(`^${KA}$`);function XA(n){const e="(?:[01]\\d|2[0-3]):[0-5]\\d";return typeof n.precision=="number"?n.precision===-1?`${e}`:n.precision===0?`${e}:[0-5]\\d`:`${e}:[0-5]\\d\\.\\d{${n.precision}}`:`${e}(?::[0-5]\\d(?:\\.\\d+)?)?`}function wL(n){return new RegExp(`^${XA(n)}$`)}function xL(n){const e=XA({precision:n.precision}),t=["Z"];n.local&&t.push(""),n.offset&&t.push("([+-](?:[01]\\d|2[0-3]):[0-5]\\d)");const s=`${e}(?:${t.join("|")})`;return new RegExp(`^${KA}T(?:${s})$`)}const bL=n=>{const e=n?`[\\s\\S]{${n?.minimum??0},${n?.maximum??""}}`:"[\\s\\S]*";return new RegExp(`^${e}$`)},AL=/^[^A-Z]*$/,SL=/^[^a-z]*$/,js=ne("$ZodCheck",(n,e)=>{var t;n._zod??(n._zod={}),n._zod.def=e,(t=n._zod).onattach??(t.onattach=[])}),EL=ne("$ZodCheckMaxLength",(n,e)=>{var t;js.init(n,e),(t=n._zod.def).when??(t.when=s=>{const i=s.value;return!jm(i)&&i.length!==void 0}),n._zod.onattach.push(s=>{const i=s._zod.bag.maximum??Number.POSITIVE_INFINITY;e.maximum<i&&(s._zod.bag.maximum=e.maximum)}),n._zod.check=s=>{const i=s.value;if(i.length<=e.maximum)return;const o=zm(i);s.issues.push({origin:o,code:"too_big",maximum:e.maximum,inclusive:!0,input:i,inst:n,continue:!e.abort})}}),_L=ne("$ZodCheckMinLength",(n,e)=>{var t;js.init(n,e),(t=n._zod.def).when??(t.when=s=>{const i=s.value;return!jm(i)&&i.length!==void 0}),n._zod.onattach.push(s=>{const i=s._zod.bag.minimum??Number.NEGATIVE_INFINITY;e.minimum>i&&(s._zod.bag.minimum=e.minimum)}),n._zod.check=s=>{const i=s.value;if(i.length>=e.minimum)return;const o=zm(i);s.issues.push({origin:o,code:"too_small",minimum:e.minimum,inclusive:!0,input:i,inst:n,continue:!e.abort})}}),CL=ne("$ZodCheckLengthEquals",(n,e)=>{var t;js.init(n,e),(t=n._zod.def).when??(t.when=s=>{const i=s.value;return!jm(i)&&i.length!==void 0}),n._zod.onattach.push(s=>{const i=s._zod.bag;i.minimum=e.length,i.maximum=e.length,i.length=e.length}),n._zod.check=s=>{const i=s.value,r=i.length;if(r===e.length)return;const o=zm(i),c=r>e.length;s.issues.push({origin:o,...c?{code:"too_big",maximum:e.length}:{code:"too_small",minimum:e.length},inclusive:!0,exact:!0,input:s.value,inst:n,continue:!e.abort})}}),Gu=ne("$ZodCheckStringFormat",(n,e)=>{var t,s;js.init(n,e),n._zod.onattach.push(i=>{const r=i._zod.bag;r.format=e.format,e.pattern&&(r.patterns??(r.patterns=new Set),r.patterns.add(e.pattern))}),e.pattern?(t=n._zod).check??(t.check=i=>{e.pattern.lastIndex=0,!e.pattern.test(i.value)&&i.issues.push({origin:"string",code:"invalid_format",format:e.format,input:i.value,...e.pattern?{pattern:e.pattern.toString()}:{},inst:n,continue:!e.abort})}):(s=n._zod).check??(s.check=()=>{})}),kL=ne("$ZodCheckRegex",(n,e)=>{Gu.init(n,e),n._zod.check=t=>{e.pattern.lastIndex=0,!e.pattern.test(t.value)&&t.issues.push({origin:"string",code:"invalid_format",format:"regex",input:t.value,pattern:e.pattern.toString(),inst:n,continue:!e.abort})}}),TL=ne("$ZodCheckLowerCase",(n,e)=>{e.pattern??(e.pattern=AL),Gu.init(n,e)}),PL=ne("$ZodCheckUpperCase",(n,e)=>{e.pattern??(e.pattern=SL),Gu.init(n,e)}),FL=ne("$ZodCheckIncludes",(n,e)=>{js.init(n,e);const t=zu(e.includes),s=new RegExp(typeof e.position=="number"?`^.{${e.position}}${t}`:t);e.pattern=s,n._zod.onattach.push(i=>{const r=i._zod.bag;r.patterns??(r.patterns=new Set),r.patterns.add(s)}),n._zod.check=i=>{i.value.includes(e.includes,e.position)||i.issues.push({origin:"string",code:"invalid_format",format:"includes",includes:e.includes,input:i.value,inst:n,continue:!e.abort})}}),RL=ne("$ZodCheckStartsWith",(n,e)=>{js.init(n,e);const t=new RegExp(`^${zu(e.prefix)}.*`);e.pattern??(e.pattern=t),n._zod.onattach.push(s=>{const i=s._zod.bag;i.patterns??(i.patterns=new Set),i.patterns.add(t)}),n._zod.check=s=>{s.value.startsWith(e.prefix)||s.issues.push({origin:"string",code:"invalid_format",format:"starts_with",prefix:e.prefix,input:s.value,inst:n,continue:!e.abort})}}),NL=ne("$ZodCheckEndsWith",(n,e)=>{js.init(n,e);const t=new RegExp(`.*${zu(e.suffix)}$`);e.pattern??(e.pattern=t),n._zod.onattach.push(s=>{const i=s._zod.bag;i.patterns??(i.patterns=new Set),i.patterns.add(t)}),n._zod.check=s=>{s.value.endsWith(e.suffix)||s.issues.push({origin:"string",code:"invalid_format",format:"ends_with",suffix:e.suffix,input:s.value,inst:n,continue:!e.abort})}}),ML=ne("$ZodCheckOverwrite",(n,e)=>{js.init(n,e),n._zod.check=t=>{t.value=e.tx(t.value)}});class DL{constructor(e=[]){this.content=[],this.indent=0,this&&(this.args=e)}indented(e){this.indent+=1,e(this),this.indent-=1}write(e){if(typeof e=="function"){e(this,{execution:"sync"}),e(this,{execution:"async"});return}const s=e.split(`
`).filter(o=>o),i=Math.min(...s.map(o=>o.length-o.trimStart().length)),r=s.map(o=>o.slice(i)).map(o=>" ".repeat(this.indent*2)+o);for(const o of r)this.content.push(o)}compile(){const e=Function,t=this?.args,i=[...(this?.content??[""]).map(r=>`  ${r}`)];return new e(...t,i.join(`
`))}}const LL={major:4,minor:1,patch:13},Bt=ne("$ZodType",(n,e)=>{var t;n??(n={}),n._zod.def=e,n._zod.bag=n._zod.bag||{},n._zod.version=LL;const s=[...n._zod.def.checks??[]];n._zod.traits.has("$ZodCheck")&&s.unshift(n);for(const i of s)for(const r of i._zod.onattach)r(n);if(s.length===0)(t=n._zod).deferred??(t.deferred=[]),n._zod.deferred?.push(()=>{n._zod.run=n._zod.parse});else{const i=(o,c,u)=>{let h=ro(o),f;for(const p of c){if(p._zod.def.when){if(!p._zod.def.when(o))continue}else if(h)continue;const g=o.issues.length,w=p._zod.check(o);if(w instanceof Promise&&u?.async===!1)throw new uo;if(f||w instanceof Promise)f=(f??Promise.resolve()).then(async()=>{await w,o.issues.length!==g&&(h||(h=ro(o,g)))});else{if(o.issues.length===g)continue;h||(h=ro(o,g))}}return f?f.then(()=>o):o},r=(o,c,u)=>{if(ro(o))return o.aborted=!0,o;const h=i(c,s,u);if(h instanceof Promise){if(u.async===!1)throw new uo;return h.then(f=>n._zod.parse(f,u))}return n._zod.parse(h,u)};n._zod.run=(o,c)=>{if(c.skipChecks)return n._zod.parse(o,c);if(c.direction==="backward"){const h=n._zod.parse({value:o.value,issues:[]},{...c,skipChecks:!0});return h instanceof Promise?h.then(f=>r(f,o,c)):r(h,o,c)}const u=n._zod.parse(o,c);if(u instanceof Promise){if(c.async===!1)throw new uo;return u.then(h=>i(h,s,c))}return i(u,s,c)}}n["~standard"]={validate:i=>{try{const r=WD(n,i);return r.success?{value:r.data}:{issues:r.error?.issues}}catch{return GD(n,i).then(o=>o.success?{value:o.data}:{issues:o.error?.issues})}},vendor:"zod",version:1}}),Vm=ne("$ZodString",(n,e)=>{Bt.init(n,e),n._zod.pattern=[...n?._zod.bag?.patterns??[]].pop()??bL(n._zod.bag),n._zod.parse=(t,s)=>{if(e.coerce)try{t.value=String(t.value)}catch{}return typeof t.value=="string"||t.issues.push({expected:"string",code:"invalid_type",input:t.value,inst:n}),t}}),dt=ne("$ZodStringFormat",(n,e)=>{Gu.init(n,e),Vm.init(n,e)}),IL=ne("$ZodGUID",(n,e)=>{e.pattern??(e.pattern=lL),dt.init(n,e)}),OL=ne("$ZodUUID",(n,e)=>{if(e.version){const s={v1:1,v2:2,v3:3,v4:4,v5:5,v6:6,v7:7,v8:8}[e.version];if(s===void 0)throw new Error(`Invalid UUID version: "${e.version}"`);e.pattern??(e.pattern=tx(s))}else e.pattern??(e.pattern=tx());dt.init(n,e)}),jL=ne("$ZodEmail",(n,e)=>{e.pattern??(e.pattern=cL),dt.init(n,e)}),BL=ne("$ZodURL",(n,e)=>{dt.init(n,e),n._zod.check=t=>{try{const s=t.value.trim(),i=new URL(s);e.hostname&&(e.hostname.lastIndex=0,e.hostname.test(i.hostname)||t.issues.push({code:"invalid_format",format:"url",note:"Invalid hostname",pattern:e.hostname.source,input:t.value,inst:n,continue:!e.abort})),e.protocol&&(e.protocol.lastIndex=0,e.protocol.test(i.protocol.endsWith(":")?i.protocol.slice(0,-1):i.protocol)||t.issues.push({code:"invalid_format",format:"url",note:"Invalid protocol",pattern:e.protocol.source,input:t.value,inst:n,continue:!e.abort})),e.normalize?t.value=i.href:t.value=s;return}catch{t.issues.push({code:"invalid_format",format:"url",input:t.value,inst:n,continue:!e.abort})}}}),zL=ne("$ZodEmoji",(n,e)=>{e.pattern??(e.pattern=hL()),dt.init(n,e)}),$L=ne("$ZodNanoID",(n,e)=>{e.pattern??(e.pattern=oL),dt.init(n,e)}),VL=ne("$ZodCUID",(n,e)=>{e.pattern??(e.pattern=tL),dt.init(n,e)}),UL=ne("$ZodCUID2",(n,e)=>{e.pattern??(e.pattern=nL),dt.init(n,e)}),HL=ne("$ZodULID",(n,e)=>{e.pattern??(e.pattern=sL),dt.init(n,e)}),WL=ne("$ZodXID",(n,e)=>{e.pattern??(e.pattern=iL),dt.init(n,e)}),GL=ne("$ZodKSUID",(n,e)=>{e.pattern??(e.pattern=rL),dt.init(n,e)}),qL=ne("$ZodISODateTime",(n,e)=>{e.pattern??(e.pattern=xL(e)),dt.init(n,e)}),KL=ne("$ZodISODate",(n,e)=>{e.pattern??(e.pattern=vL),dt.init(n,e)}),XL=ne("$ZodISOTime",(n,e)=>{e.pattern??(e.pattern=wL(e)),dt.init(n,e)}),ZL=ne("$ZodISODuration",(n,e)=>{e.pattern??(e.pattern=aL),dt.init(n,e)}),YL=ne("$ZodIPv4",(n,e)=>{e.pattern??(e.pattern=dL),dt.init(n,e),n._zod.bag.format="ipv4"}),QL=ne("$ZodIPv6",(n,e)=>{e.pattern??(e.pattern=fL),dt.init(n,e),n._zod.bag.format="ipv6",n._zod.check=t=>{try{new URL(`http://[${t.value}]`)}catch{t.issues.push({code:"invalid_format",format:"ipv6",input:t.value,inst:n,continue:!e.abort})}}}),JL=ne("$ZodCIDRv4",(n,e)=>{e.pattern??(e.pattern=pL),dt.init(n,e)}),eI=ne("$ZodCIDRv6",(n,e)=>{e.pattern??(e.pattern=mL),dt.init(n,e),n._zod.check=t=>{const s=t.value.split("/");try{if(s.length!==2)throw new Error;const[i,r]=s;if(!r)throw new Error;const o=Number(r);if(`${o}`!==r)throw new Error;if(o<0||o>128)throw new Error;new URL(`http://[${i}]`)}catch{t.issues.push({code:"invalid_format",format:"cidrv6",input:t.value,inst:n,continue:!e.abort})}}});function ZA(n){if(n==="")return!0;if(n.length%4!==0)return!1;try{return atob(n),!0}catch{return!1}}const tI=ne("$ZodBase64",(n,e)=>{e.pattern??(e.pattern=gL),dt.init(n,e),n._zod.bag.contentEncoding="base64",n._zod.check=t=>{ZA(t.value)||t.issues.push({code:"invalid_format",format:"base64",input:t.value,inst:n,continue:!e.abort})}});function nI(n){if(!qA.test(n))return!1;const e=n.replace(/[-_]/g,s=>s==="-"?"+":"/"),t=e.padEnd(Math.ceil(e.length/4)*4,"=");return ZA(t)}const sI=ne("$ZodBase64URL",(n,e)=>{e.pattern??(e.pattern=qA),dt.init(n,e),n._zod.bag.contentEncoding="base64url",n._zod.check=t=>{nI(t.value)||t.issues.push({code:"invalid_format",format:"base64url",input:t.value,inst:n,continue:!e.abort})}}),iI=ne("$ZodE164",(n,e)=>{e.pattern??(e.pattern=yL),dt.init(n,e)});function rI(n,e=null){try{const t=n.split(".");if(t.length!==3)return!1;const[s]=t;if(!s)return!1;const i=JSON.parse(atob(s));return!("typ"in i&&i?.typ!=="JWT"||!i.alg||e&&(!("alg"in i)||i.alg!==e))}catch{return!1}}const oI=ne("$ZodJWT",(n,e)=>{dt.init(n,e),n._zod.check=t=>{rI(t.value,e.alg)||t.issues.push({code:"invalid_format",format:"jwt",input:t.value,inst:n,continue:!e.abort})}}),aI=ne("$ZodUnknown",(n,e)=>{Bt.init(n,e),n._zod.parse=t=>t}),lI=ne("$ZodNever",(n,e)=>{Bt.init(n,e),n._zod.parse=(t,s)=>(t.issues.push({expected:"never",code:"invalid_type",input:t.value,inst:n}),t)});function nx(n,e,t){n.issues.length&&e.issues.push(...WA(t,n.issues)),e.value[t]=n.value}const cI=ne("$ZodArray",(n,e)=>{Bt.init(n,e),n._zod.parse=(t,s)=>{const i=t.value;if(!Array.isArray(i))return t.issues.push({expected:"array",code:"invalid_type",input:i,inst:n}),t;t.value=Array(i.length);const r=[];for(let o=0;o<i.length;o++){const c=i[o],u=e.element._zod.run({value:c,issues:[]},s);u instanceof Promise?r.push(u.then(h=>nx(h,t,o))):nx(u,t,o)}return r.length?Promise.all(r).then(()=>t):t}});function Su(n,e,t,s){n.issues.length&&e.issues.push(...WA(t,n.issues)),n.value===void 0?t in s&&(e.value[t]=void 0):e.value[t]=n.value}function YA(n){const e=Object.keys(n.shape);for(const s of e)if(!n.shape?.[s]?._zod?.traits?.has("$ZodType"))throw new Error(`Invalid element at key "${s}": expected a Zod schema`);const t=MD(n.shape);return{...n,keys:e,keySet:new Set(e),numKeys:e.length,optionalKeys:new Set(t)}}function QA(n,e,t,s,i,r){const o=[],c=i.keySet,u=i.catchall._zod,h=u.def.type;for(const f in e){if(c.has(f))continue;if(h==="never"){o.push(f);continue}const p=u.run({value:e[f],issues:[]},s);p instanceof Promise?n.push(p.then(g=>Su(g,t,f,e))):Su(p,t,f,e)}return o.length&&t.issues.push({code:"unrecognized_keys",keys:o,input:e,inst:r}),n.length?Promise.all(n).then(()=>t):t}const uI=ne("$ZodObject",(n,e)=>{if(Bt.init(n,e),!Object.getOwnPropertyDescriptor(e,"shape")?.get){const c=e.shape;Object.defineProperty(e,"shape",{get:()=>{const u={...c};return Object.defineProperty(e,"shape",{value:u}),u}})}const s=Om(()=>YA(e));it(n._zod,"propValues",()=>{const c=e.shape,u={};for(const h in c){const f=c[h]._zod;if(f.values){u[h]??(u[h]=new Set);for(const p of f.values)u[h].add(p)}}return u});const i=Au,r=e.catchall;let o;n._zod.parse=(c,u)=>{o??(o=s.value);const h=c.value;if(!i(h))return c.issues.push({expected:"object",code:"invalid_type",input:h,inst:n}),c;c.value={};const f=[],p=o.shape;for(const g of o.keys){const A=p[g]._zod.run({value:h[g],issues:[]},u);A instanceof Promise?f.push(A.then(x=>Su(x,c,g,h))):Su(A,c,g,h)}return r?QA(f,h,c,u,s.value,n):f.length?Promise.all(f).then(()=>c):c}}),hI=ne("$ZodObjectJIT",(n,e)=>{uI.init(n,e);const t=n._zod.parse,s=Om(()=>YA(e)),i=g=>{const w=new DL(["shape","payload","ctx"]),A=s.value,x=k=>{const T=ex(k);return`shape[${T}]._zod.run({ value: input[${T}], issues: [] }, ctx)`};w.write("const input = payload.value;");const S=Object.create(null);let E=0;for(const k of A.keys)S[k]=`key_${E++}`;w.write("const newResult = {};");for(const k of A.keys){const T=S[k],P=ex(k);w.write(`const ${T} = ${x(k)};`),w.write(`
        if (${T}.issues.length) {
          payload.issues = payload.issues.concat(${T}.issues.map(iss => ({
            ...iss,
            path: iss.path ? [${P}, ...iss.path] : [${P}]
          })));
        }
        
        
        if (${T}.value === undefined) {
          if (${P} in input) {
            newResult[${P}] = undefined;
          }
        } else {
          newResult[${P}] = ${T}.value;
        }
        
      `)}w.write("payload.value = newResult;"),w.write("return payload;");const _=w.compile();return(k,T)=>_(g,k,T)};let r;const o=Au,c=!VA.jitless,h=c&&RD.value,f=e.catchall;let p;n._zod.parse=(g,w)=>{p??(p=s.value);const A=g.value;return o(A)?c&&h&&w?.async===!1&&w.jitless!==!0?(r||(r=i(e.shape)),g=r(g,w),f?QA([],A,g,w,p,n):g):t(g,w):(g.issues.push({expected:"object",code:"invalid_type",input:A,inst:n}),g)}});function sx(n,e,t,s){for(const r of n)if(r.issues.length===0)return e.value=r.value,e;const i=n.filter(r=>!ro(r));return i.length===1?(e.value=i[0].value,i[0]):(e.issues.push({code:"invalid_union",input:e.value,inst:t,errors:n.map(r=>r.issues.map(o=>dr(o,s,hr())))}),e)}const dI=ne("$ZodUnion",(n,e)=>{Bt.init(n,e),it(n._zod,"optin",()=>e.options.some(i=>i._zod.optin==="optional")?"optional":void 0),it(n._zod,"optout",()=>e.options.some(i=>i._zod.optout==="optional")?"optional":void 0),it(n._zod,"values",()=>{if(e.options.every(i=>i._zod.values))return new Set(e.options.flatMap(i=>Array.from(i._zod.values)))}),it(n._zod,"pattern",()=>{if(e.options.every(i=>i._zod.pattern)){const i=e.options.map(r=>r._zod.pattern);return new RegExp(`^(${i.map(r=>Bm(r.source)).join("|")})$`)}});const t=e.options.length===1,s=e.options[0]._zod.run;n._zod.parse=(i,r)=>{if(t)return s(i,r);let o=!1;const c=[];for(const u of e.options){const h=u._zod.run({value:i.value,issues:[]},r);if(h instanceof Promise)c.push(h),o=!0;else{if(h.issues.length===0)return h;c.push(h)}}return o?Promise.all(c).then(u=>sx(u,i,n,r)):sx(c,i,n,r)}}),fI=ne("$ZodIntersection",(n,e)=>{Bt.init(n,e),n._zod.parse=(t,s)=>{const i=t.value,r=e.left._zod.run({value:i,issues:[]},s),o=e.right._zod.run({value:i,issues:[]},s);return r instanceof Promise||o instanceof Promise?Promise.all([r,o]).then(([u,h])=>ix(t,u,h)):ix(t,r,o)}});function yp(n,e){if(n===e)return{valid:!0,data:n};if(n instanceof Date&&e instanceof Date&&+n==+e)return{valid:!0,data:n};if(Ka(n)&&Ka(e)){const t=Object.keys(e),s=Object.keys(n).filter(r=>t.indexOf(r)!==-1),i={...n,...e};for(const r of s){const o=yp(n[r],e[r]);if(!o.valid)return{valid:!1,mergeErrorPath:[r,...o.mergeErrorPath]};i[r]=o.data}return{valid:!0,data:i}}if(Array.isArray(n)&&Array.isArray(e)){if(n.length!==e.length)return{valid:!1,mergeErrorPath:[]};const t=[];for(let s=0;s<n.length;s++){const i=n[s],r=e[s],o=yp(i,r);if(!o.valid)return{valid:!1,mergeErrorPath:[s,...o.mergeErrorPath]};t.push(o.data)}return{valid:!0,data:t}}return{valid:!1,mergeErrorPath:[]}}function ix(n,e,t){if(e.issues.length&&n.issues.push(...e.issues),t.issues.length&&n.issues.push(...t.issues),ro(n))return n;const s=yp(e.value,t.value);if(!s.valid)throw new Error(`Unmergable intersection. Error path: ${JSON.stringify(s.mergeErrorPath)}`);return n.value=s.data,n}const pI=ne("$ZodEnum",(n,e)=>{Bt.init(n,e);const t=PD(e.entries),s=new Set(t);n._zod.values=s,n._zod.pattern=new RegExp(`^(${t.filter(i=>ND.has(typeof i)).map(i=>typeof i=="string"?zu(i):i.toString()).join("|")})$`),n._zod.parse=(i,r)=>{const o=i.value;return s.has(o)||i.issues.push({code:"invalid_value",values:t,input:o,inst:n}),i}}),mI=ne("$ZodTransform",(n,e)=>{Bt.init(n,e),n._zod.parse=(t,s)=>{if(s.direction==="backward")throw new $A(n.constructor.name);const i=e.transform(t.value,t);if(s.async)return(i instanceof Promise?i:Promise.resolve(i)).then(o=>(t.value=o,t));if(i instanceof Promise)throw new uo;return t.value=i,t}});function rx(n,e){return n.issues.length&&e===void 0?{issues:[],value:void 0}:n}const gI=ne("$ZodOptional",(n,e)=>{Bt.init(n,e),n._zod.optin="optional",n._zod.optout="optional",it(n._zod,"values",()=>e.innerType._zod.values?new Set([...e.innerType._zod.values,void 0]):void 0),it(n._zod,"pattern",()=>{const t=e.innerType._zod.pattern;return t?new RegExp(`^(${Bm(t.source)})?$`):void 0}),n._zod.parse=(t,s)=>{if(e.innerType._zod.optin==="optional"){const i=e.innerType._zod.run(t,s);return i instanceof Promise?i.then(r=>rx(r,t.value)):rx(i,t.value)}return t.value===void 0?t:e.innerType._zod.run(t,s)}}),yI=ne("$ZodNullable",(n,e)=>{Bt.init(n,e),it(n._zod,"optin",()=>e.innerType._zod.optin),it(n._zod,"optout",()=>e.innerType._zod.optout),it(n._zod,"pattern",()=>{const t=e.innerType._zod.pattern;return t?new RegExp(`^(${Bm(t.source)}|null)$`):void 0}),it(n._zod,"values",()=>e.innerType._zod.values?new Set([...e.innerType._zod.values,null]):void 0),n._zod.parse=(t,s)=>t.value===null?t:e.innerType._zod.run(t,s)}),vI=ne("$ZodDefault",(n,e)=>{Bt.init(n,e),n._zod.optin="optional",it(n._zod,"values",()=>e.innerType._zod.values),n._zod.parse=(t,s)=>{if(s.direction==="backward")return e.innerType._zod.run(t,s);if(t.value===void 0)return t.value=e.defaultValue,t;const i=e.innerType._zod.run(t,s);return i instanceof Promise?i.then(r=>ox(r,e)):ox(i,e)}});function ox(n,e){return n.value===void 0&&(n.value=e.defaultValue),n}const wI=ne("$ZodPrefault",(n,e)=>{Bt.init(n,e),n._zod.optin="optional",it(n._zod,"values",()=>e.innerType._zod.values),n._zod.parse=(t,s)=>(s.direction==="backward"||t.value===void 0&&(t.value=e.defaultValue),e.innerType._zod.run(t,s))}),xI=ne("$ZodNonOptional",(n,e)=>{Bt.init(n,e),it(n._zod,"values",()=>{const t=e.innerType._zod.values;return t?new Set([...t].filter(s=>s!==void 0)):void 0}),n._zod.parse=(t,s)=>{const i=e.innerType._zod.run(t,s);return i instanceof Promise?i.then(r=>ax(r,n)):ax(i,n)}});function ax(n,e){return!n.issues.length&&n.value===void 0&&n.issues.push({code:"invalid_type",expected:"nonoptional",input:n.value,inst:e}),n}const bI=ne("$ZodCatch",(n,e)=>{Bt.init(n,e),it(n._zod,"optin",()=>e.innerType._zod.optin),it(n._zod,"optout",()=>e.innerType._zod.optout),it(n._zod,"values",()=>e.innerType._zod.values),n._zod.parse=(t,s)=>{if(s.direction==="backward")return e.innerType._zod.run(t,s);const i=e.innerType._zod.run(t,s);return i instanceof Promise?i.then(r=>(t.value=r.value,r.issues.length&&(t.value=e.catchValue({...t,error:{issues:r.issues.map(o=>dr(o,s,hr()))},input:t.value}),t.issues=[]),t)):(t.value=i.value,i.issues.length&&(t.value=e.catchValue({...t,error:{issues:i.issues.map(r=>dr(r,s,hr()))},input:t.value}),t.issues=[]),t)}}),AI=ne("$ZodPipe",(n,e)=>{Bt.init(n,e),it(n._zod,"values",()=>e.in._zod.values),it(n._zod,"optin",()=>e.in._zod.optin),it(n._zod,"optout",()=>e.out._zod.optout),it(n._zod,"propValues",()=>e.in._zod.propValues),n._zod.parse=(t,s)=>{if(s.direction==="backward"){const r=e.out._zod.run(t,s);return r instanceof Promise?r.then(o=>jc(o,e.in,s)):jc(r,e.in,s)}const i=e.in._zod.run(t,s);return i instanceof Promise?i.then(r=>jc(r,e.out,s)):jc(i,e.out,s)}});function jc(n,e,t){return n.issues.length?(n.aborted=!0,n):e._zod.run({value:n.value,issues:n.issues},t)}const SI=ne("$ZodReadonly",(n,e)=>{Bt.init(n,e),it(n._zod,"propValues",()=>e.innerType._zod.propValues),it(n._zod,"values",()=>e.innerType._zod.values),it(n._zod,"optin",()=>e.innerType?._zod?.optin),it(n._zod,"optout",()=>e.innerType?._zod?.optout),n._zod.parse=(t,s)=>{if(s.direction==="backward")return e.innerType._zod.run(t,s);const i=e.innerType._zod.run(t,s);return i instanceof Promise?i.then(lx):lx(i)}});function lx(n){return n.value=Object.freeze(n.value),n}const EI=ne("$ZodCustom",(n,e)=>{js.init(n,e),Bt.init(n,e),n._zod.parse=(t,s)=>t,n._zod.check=t=>{const s=t.value,i=e.fn(s);if(i instanceof Promise)return i.then(r=>cx(r,t,s,n));cx(i,t,s,n)}});function cx(n,e,t,s){if(!n){const i={code:"custom",input:t,inst:s,path:[...s._zod.def.path??[]],continue:!s._zod.def.abort};s._zod.def.params&&(i.params=s._zod.def.params),e.issues.push(Xa(i))}}var ux;class _I{constructor(){this._map=new WeakMap,this._idmap=new Map}add(e,...t){const s=t[0];if(this._map.set(e,s),s&&typeof s=="object"&&"id"in s){if(this._idmap.has(s.id))throw new Error(`ID ${s.id} already exists in the registry`);this._idmap.set(s.id,e)}return this}clear(){return this._map=new WeakMap,this._idmap=new Map,this}remove(e){const t=this._map.get(e);return t&&typeof t=="object"&&"id"in t&&this._idmap.delete(t.id),this._map.delete(e),this}get(e){const t=e._zod.parent;if(t){const s={...this.get(t)??{}};delete s.id;const i={...s,...this._map.get(e)};return Object.keys(i).length?i:void 0}return this._map.get(e)}has(e){return this._map.has(e)}}function CI(){return new _I}(ux=globalThis).__zod_globalRegistry??(ux.__zod_globalRegistry=CI());const Bc=globalThis.__zod_globalRegistry;function kI(n,e){return new n({type:"string",...Me(e)})}function TI(n,e){return new n({type:"string",format:"email",check:"string_format",abort:!1,...Me(e)})}function hx(n,e){return new n({type:"string",format:"guid",check:"string_format",abort:!1,...Me(e)})}function PI(n,e){return new n({type:"string",format:"uuid",check:"string_format",abort:!1,...Me(e)})}function FI(n,e){return new n({type:"string",format:"uuid",check:"string_format",abort:!1,version:"v4",...Me(e)})}function RI(n,e){return new n({type:"string",format:"uuid",check:"string_format",abort:!1,version:"v6",...Me(e)})}function NI(n,e){return new n({type:"string",format:"uuid",check:"string_format",abort:!1,version:"v7",...Me(e)})}function MI(n,e){return new n({type:"string",format:"url",check:"string_format",abort:!1,...Me(e)})}function DI(n,e){return new n({type:"string",format:"emoji",check:"string_format",abort:!1,...Me(e)})}function LI(n,e){return new n({type:"string",format:"nanoid",check:"string_format",abort:!1,...Me(e)})}function II(n,e){return new n({type:"string",format:"cuid",check:"string_format",abort:!1,...Me(e)})}function OI(n,e){return new n({type:"string",format:"cuid2",check:"string_format",abort:!1,...Me(e)})}function jI(n,e){return new n({type:"string",format:"ulid",check:"string_format",abort:!1,...Me(e)})}function BI(n,e){return new n({type:"string",format:"xid",check:"string_format",abort:!1,...Me(e)})}function zI(n,e){return new n({type:"string",format:"ksuid",check:"string_format",abort:!1,...Me(e)})}function $I(n,e){return new n({type:"string",format:"ipv4",check:"string_format",abort:!1,...Me(e)})}function VI(n,e){return new n({type:"string",format:"ipv6",check:"string_format",abort:!1,...Me(e)})}function UI(n,e){return new n({type:"string",format:"cidrv4",check:"string_format",abort:!1,...Me(e)})}function HI(n,e){return new n({type:"string",format:"cidrv6",check:"string_format",abort:!1,...Me(e)})}function WI(n,e){return new n({type:"string",format:"base64",check:"string_format",abort:!1,...Me(e)})}function GI(n,e){return new n({type:"string",format:"base64url",check:"string_format",abort:!1,...Me(e)})}function qI(n,e){return new n({type:"string",format:"e164",check:"string_format",abort:!1,...Me(e)})}function KI(n,e){return new n({type:"string",format:"jwt",check:"string_format",abort:!1,...Me(e)})}function XI(n,e){return new n({type:"string",format:"datetime",check:"string_format",offset:!1,local:!1,precision:null,...Me(e)})}function ZI(n,e){return new n({type:"string",format:"date",check:"string_format",...Me(e)})}function YI(n,e){return new n({type:"string",format:"time",check:"string_format",precision:null,...Me(e)})}function QI(n,e){return new n({type:"string",format:"duration",check:"string_format",...Me(e)})}function JI(n){return new n({type:"unknown"})}function eO(n,e){return new n({type:"never",...Me(e)})}function JA(n,e){return new EL({check:"max_length",...Me(e),maximum:n})}function Eu(n,e){return new _L({check:"min_length",...Me(e),minimum:n})}function eS(n,e){return new CL({check:"length_equals",...Me(e),length:n})}function tO(n,e){return new kL({check:"string_format",format:"regex",...Me(e),pattern:n})}function nO(n){return new TL({check:"string_format",format:"lowercase",...Me(n)})}function sO(n){return new PL({check:"string_format",format:"uppercase",...Me(n)})}function iO(n,e){return new FL({check:"string_format",format:"includes",...Me(e),includes:n})}function rO(n,e){return new RL({check:"string_format",format:"starts_with",...Me(e),prefix:n})}function oO(n,e){return new NL({check:"string_format",format:"ends_with",...Me(e),suffix:n})}function Fo(n){return new ML({check:"overwrite",tx:n})}function aO(n){return Fo(e=>e.normalize(n))}function lO(){return Fo(n=>n.trim())}function cO(){return Fo(n=>n.toLowerCase())}function uO(){return Fo(n=>n.toUpperCase())}function hO(){return Fo(n=>FD(n))}function dO(n,e,t){return new n({type:"array",element:e,...Me(t)})}function fO(n,e,t){return new n({type:"custom",check:"custom",fn:e,...Me(t)})}function pO(n){const e=mO(t=>(t.addIssue=s=>{if(typeof s=="string")t.issues.push(Xa(s,t.value,e._zod.def));else{const i=s;i.fatal&&(i.continue=!1),i.code??(i.code="custom"),i.input??(i.input=t.value),i.inst??(i.inst=e),i.continue??(i.continue=!e._zod.def.abort),t.issues.push(Xa(i))}},n(t.value,t)));return e}function mO(n,e){const t=new js({check:"custom",...Me(e)});return t._zod.check=n,t}const gO=ne("ZodISODateTime",(n,e)=>{qL.init(n,e),xt.init(n,e)});function yO(n){return XI(gO,n)}const vO=ne("ZodISODate",(n,e)=>{KL.init(n,e),xt.init(n,e)});function wO(n){return ZI(vO,n)}const xO=ne("ZodISOTime",(n,e)=>{XL.init(n,e),xt.init(n,e)});function bO(n){return YI(xO,n)}const AO=ne("ZodISODuration",(n,e)=>{ZL.init(n,e),xt.init(n,e)});function SO(n){return QI(AO,n)}const EO=(n,e)=>{$m.init(n,e),n.name="ZodError",Object.defineProperties(n,{format:{value:t=>VD(n,t)},flatten:{value:t=>$D(n,t)},addIssue:{value:t=>{n.issues.push(t),n.message=JSON.stringify(n.issues,gp,2)}},addIssues:{value:t=>{n.issues.push(...t),n.message=JSON.stringify(n.issues,gp,2)}},isEmpty:{get(){return n.issues.length===0}}})},rs=ne("ZodError",EO,{Parent:Error}),_O=Vu(rs),CO=Uu(rs),kO=Hu(rs),TO=Wu(rs),PO=qD(rs),FO=KD(rs),RO=XD(rs),NO=ZD(rs),MO=YD(rs),DO=QD(rs),LO=JD(rs),IO=eL(rs),Kt=ne("ZodType",(n,e)=>(Bt.init(n,e),n.def=e,n.type=e.type,Object.defineProperty(n,"_def",{value:e}),n.check=(...t)=>n.clone(vr(e,{checks:[...e.checks??[],...t.map(s=>typeof s=="function"?{_zod:{check:s,def:{check:"custom"},onattach:[]}}:s)]})),n.clone=(t,s)=>Li(n,t,s),n.brand=()=>n,n.register=((t,s)=>(t.add(n,s),n)),n.parse=(t,s)=>_O(n,t,s,{callee:n.parse}),n.safeParse=(t,s)=>kO(n,t,s),n.parseAsync=async(t,s)=>CO(n,t,s,{callee:n.parseAsync}),n.safeParseAsync=async(t,s)=>TO(n,t,s),n.spa=n.safeParseAsync,n.encode=(t,s)=>PO(n,t,s),n.decode=(t,s)=>FO(n,t,s),n.encodeAsync=async(t,s)=>RO(n,t,s),n.decodeAsync=async(t,s)=>NO(n,t,s),n.safeEncode=(t,s)=>MO(n,t,s),n.safeDecode=(t,s)=>DO(n,t,s),n.safeEncodeAsync=async(t,s)=>LO(n,t,s),n.safeDecodeAsync=async(t,s)=>IO(n,t,s),n.refine=(t,s)=>n.check(Cj(t,s)),n.superRefine=t=>n.check(kj(t)),n.overwrite=t=>n.check(Fo(t)),n.optional=()=>px(n),n.nullable=()=>mx(n),n.nullish=()=>px(mx(n)),n.nonoptional=t=>wj(n,t),n.array=()=>rj(n),n.or=t=>lj([n,t]),n.and=t=>uj(n,t),n.transform=t=>gx(n,fj(t)),n.default=t=>gj(n,t),n.prefault=t=>vj(n,t),n.catch=t=>bj(n,t),n.pipe=t=>gx(n,t),n.readonly=()=>Ej(n),n.describe=t=>{const s=n.clone();return Bc.add(s,{description:t}),s},Object.defineProperty(n,"description",{get(){return Bc.get(n)?.description},configurable:!0}),n.meta=(...t)=>{if(t.length===0)return Bc.get(n);const s=n.clone();return Bc.add(s,t[0]),s},n.isOptional=()=>n.safeParse(void 0).success,n.isNullable=()=>n.safeParse(null).success,n)),tS=ne("_ZodString",(n,e)=>{Vm.init(n,e),Kt.init(n,e);const t=n._zod.bag;n.format=t.format??null,n.minLength=t.minimum??null,n.maxLength=t.maximum??null,n.regex=(...s)=>n.check(tO(...s)),n.includes=(...s)=>n.check(iO(...s)),n.startsWith=(...s)=>n.check(rO(...s)),n.endsWith=(...s)=>n.check(oO(...s)),n.min=(...s)=>n.check(Eu(...s)),n.max=(...s)=>n.check(JA(...s)),n.length=(...s)=>n.check(eS(...s)),n.nonempty=(...s)=>n.check(Eu(1,...s)),n.lowercase=s=>n.check(nO(s)),n.uppercase=s=>n.check(sO(s)),n.trim=()=>n.check(lO()),n.normalize=(...s)=>n.check(aO(...s)),n.toLowerCase=()=>n.check(cO()),n.toUpperCase=()=>n.check(uO()),n.slugify=()=>n.check(hO())}),OO=ne("ZodString",(n,e)=>{Vm.init(n,e),tS.init(n,e),n.email=t=>n.check(TI(jO,t)),n.url=t=>n.check(MI(BO,t)),n.jwt=t=>n.check(KI(ej,t)),n.emoji=t=>n.check(DI(zO,t)),n.guid=t=>n.check(hx(dx,t)),n.uuid=t=>n.check(PI(zc,t)),n.uuidv4=t=>n.check(FI(zc,t)),n.uuidv6=t=>n.check(RI(zc,t)),n.uuidv7=t=>n.check(NI(zc,t)),n.nanoid=t=>n.check(LI($O,t)),n.guid=t=>n.check(hx(dx,t)),n.cuid=t=>n.check(II(VO,t)),n.cuid2=t=>n.check(OI(UO,t)),n.ulid=t=>n.check(jI(HO,t)),n.base64=t=>n.check(WI(YO,t)),n.base64url=t=>n.check(GI(QO,t)),n.xid=t=>n.check(BI(WO,t)),n.ksuid=t=>n.check(zI(GO,t)),n.ipv4=t=>n.check($I(qO,t)),n.ipv6=t=>n.check(VI(KO,t)),n.cidrv4=t=>n.check(UI(XO,t)),n.cidrv6=t=>n.check(HI(ZO,t)),n.e164=t=>n.check(qI(JO,t)),n.datetime=t=>n.check(yO(t)),n.date=t=>n.check(wO(t)),n.time=t=>n.check(bO(t)),n.duration=t=>n.check(SO(t))});function oo(n){return kI(OO,n)}const xt=ne("ZodStringFormat",(n,e)=>{dt.init(n,e),tS.init(n,e)}),jO=ne("ZodEmail",(n,e)=>{jL.init(n,e),xt.init(n,e)}),dx=ne("ZodGUID",(n,e)=>{IL.init(n,e),xt.init(n,e)}),zc=ne("ZodUUID",(n,e)=>{OL.init(n,e),xt.init(n,e)}),BO=ne("ZodURL",(n,e)=>{BL.init(n,e),xt.init(n,e)}),zO=ne("ZodEmoji",(n,e)=>{zL.init(n,e),xt.init(n,e)}),$O=ne("ZodNanoID",(n,e)=>{$L.init(n,e),xt.init(n,e)}),VO=ne("ZodCUID",(n,e)=>{VL.init(n,e),xt.init(n,e)}),UO=ne("ZodCUID2",(n,e)=>{UL.init(n,e),xt.init(n,e)}),HO=ne("ZodULID",(n,e)=>{HL.init(n,e),xt.init(n,e)}),WO=ne("ZodXID",(n,e)=>{WL.init(n,e),xt.init(n,e)}),GO=ne("ZodKSUID",(n,e)=>{GL.init(n,e),xt.init(n,e)}),qO=ne("ZodIPv4",(n,e)=>{YL.init(n,e),xt.init(n,e)}),KO=ne("ZodIPv6",(n,e)=>{QL.init(n,e),xt.init(n,e)}),XO=ne("ZodCIDRv4",(n,e)=>{JL.init(n,e),xt.init(n,e)}),ZO=ne("ZodCIDRv6",(n,e)=>{eI.init(n,e),xt.init(n,e)}),YO=ne("ZodBase64",(n,e)=>{tI.init(n,e),xt.init(n,e)}),QO=ne("ZodBase64URL",(n,e)=>{sI.init(n,e),xt.init(n,e)}),JO=ne("ZodE164",(n,e)=>{iI.init(n,e),xt.init(n,e)}),ej=ne("ZodJWT",(n,e)=>{oI.init(n,e),xt.init(n,e)}),tj=ne("ZodUnknown",(n,e)=>{aI.init(n,e),Kt.init(n,e)});function fx(){return JI(tj)}const nj=ne("ZodNever",(n,e)=>{lI.init(n,e),Kt.init(n,e)});function sj(n){return eO(nj,n)}const ij=ne("ZodArray",(n,e)=>{cI.init(n,e),Kt.init(n,e),n.element=e.element,n.min=(t,s)=>n.check(Eu(t,s)),n.nonempty=t=>n.check(Eu(1,t)),n.max=(t,s)=>n.check(JA(t,s)),n.length=(t,s)=>n.check(eS(t,s)),n.unwrap=()=>n.element});function rj(n,e){return dO(ij,n,e)}const oj=ne("ZodObject",(n,e)=>{hI.init(n,e),Kt.init(n,e),it(n,"shape",()=>e.shape),n.keyof=()=>hj(Object.keys(n._zod.def.shape)),n.catchall=t=>n.clone({...n._zod.def,catchall:t}),n.passthrough=()=>n.clone({...n._zod.def,catchall:fx()}),n.loose=()=>n.clone({...n._zod.def,catchall:fx()}),n.strict=()=>n.clone({...n._zod.def,catchall:sj()}),n.strip=()=>n.clone({...n._zod.def,catchall:void 0}),n.extend=t=>ID(n,t),n.safeExtend=t=>OD(n,t),n.merge=t=>jD(n,t),n.pick=t=>DD(n,t),n.omit=t=>LD(n,t),n.partial=(...t)=>BD(sS,n,t[0]),n.required=(...t)=>zD(iS,n,t[0])});function nS(n,e){const t={type:"object",shape:n??{},...Me(e)};return new oj(t)}const aj=ne("ZodUnion",(n,e)=>{dI.init(n,e),Kt.init(n,e),n.options=e.options});function lj(n,e){return new aj({type:"union",options:n,...Me(e)})}const cj=ne("ZodIntersection",(n,e)=>{fI.init(n,e),Kt.init(n,e)});function uj(n,e){return new cj({type:"intersection",left:n,right:e})}const vp=ne("ZodEnum",(n,e)=>{pI.init(n,e),Kt.init(n,e),n.enum=e.entries,n.options=Object.values(e.entries);const t=new Set(Object.keys(e.entries));n.extract=(s,i)=>{const r={};for(const o of s)if(t.has(o))r[o]=e.entries[o];else throw new Error(`Key ${o} not found in enum`);return new vp({...e,checks:[],...Me(i),entries:r})},n.exclude=(s,i)=>{const r={...e.entries};for(const o of s)if(t.has(o))delete r[o];else throw new Error(`Key ${o} not found in enum`);return new vp({...e,checks:[],...Me(i),entries:r})}});function hj(n,e){const t=Array.isArray(n)?Object.fromEntries(n.map(s=>[s,s])):n;return new vp({type:"enum",entries:t,...Me(e)})}const dj=ne("ZodTransform",(n,e)=>{mI.init(n,e),Kt.init(n,e),n._zod.parse=(t,s)=>{if(s.direction==="backward")throw new $A(n.constructor.name);t.addIssue=r=>{if(typeof r=="string")t.issues.push(Xa(r,t.value,e));else{const o=r;o.fatal&&(o.continue=!1),o.code??(o.code="custom"),o.input??(o.input=t.value),o.inst??(o.inst=n),t.issues.push(Xa(o))}};const i=e.transform(t.value,t);return i instanceof Promise?i.then(r=>(t.value=r,t)):(t.value=i,t)}});function fj(n){return new dj({type:"transform",transform:n})}const sS=ne("ZodOptional",(n,e)=>{gI.init(n,e),Kt.init(n,e),n.unwrap=()=>n._zod.def.innerType});function px(n){return new sS({type:"optional",innerType:n})}const pj=ne("ZodNullable",(n,e)=>{yI.init(n,e),Kt.init(n,e),n.unwrap=()=>n._zod.def.innerType});function mx(n){return new pj({type:"nullable",innerType:n})}const mj=ne("ZodDefault",(n,e)=>{vI.init(n,e),Kt.init(n,e),n.unwrap=()=>n._zod.def.innerType,n.removeDefault=n.unwrap});function gj(n,e){return new mj({type:"default",innerType:n,get defaultValue(){return typeof e=="function"?e():HA(e)}})}const yj=ne("ZodPrefault",(n,e)=>{wI.init(n,e),Kt.init(n,e),n.unwrap=()=>n._zod.def.innerType});function vj(n,e){return new yj({type:"prefault",innerType:n,get defaultValue(){return typeof e=="function"?e():HA(e)}})}const iS=ne("ZodNonOptional",(n,e)=>{xI.init(n,e),Kt.init(n,e),n.unwrap=()=>n._zod.def.innerType});function wj(n,e){return new iS({type:"nonoptional",innerType:n,...Me(e)})}const xj=ne("ZodCatch",(n,e)=>{bI.init(n,e),Kt.init(n,e),n.unwrap=()=>n._zod.def.innerType,n.removeCatch=n.unwrap});function bj(n,e){return new xj({type:"catch",innerType:n,catchValue:typeof e=="function"?e:()=>e})}const Aj=ne("ZodPipe",(n,e)=>{AI.init(n,e),Kt.init(n,e),n.in=e.in,n.out=e.out});function gx(n,e){return new Aj({type:"pipe",in:n,out:e})}const Sj=ne("ZodReadonly",(n,e)=>{SI.init(n,e),Kt.init(n,e),n.unwrap=()=>n._zod.def.innerType});function Ej(n){return new Sj({type:"readonly",innerType:n})}const _j=ne("ZodCustom",(n,e)=>{EI.init(n,e),Kt.init(n,e)});function Cj(n,e={}){return fO(_j,n,e)}function kj(n){return pO(n)}const yx=(n,e,t)=>{if(n&&"reportValidity"in n){const s=ve(t,e);n.setCustomValidity(s&&s.message||""),n.reportValidity()}},wp=(n,e)=>{for(const t in e.fields){const s=e.fields[t];s&&s.ref&&"reportValidity"in s.ref?yx(s.ref,t,n):s&&s.refs&&s.refs.forEach(i=>yx(i,t,n))}},vx=(n,e)=>{e.shouldUseNativeValidation&&wp(n,e);const t={};for(const s in n){const i=ve(e.fields,s),r=Object.assign(n[s]||{},{ref:i&&i.ref});if(Tj(e.names||Object.keys(n),s)){const o=Object.assign({},ve(t,s));et(o,"root",r),et(t,s,o)}else et(t,s,r)}return t},Tj=(n,e)=>{const t=wx(e);return n.some(s=>wx(s).match(`^${t}\\.\\d+`))};function wx(n){return n.replace(/\]|\[/g,"")}function xx(n,e){try{var t=n()}catch(s){return e(s)}return t&&t.then?t.then(void 0,e):t}function Pj(n,e){for(var t={};n.length;){var s=n[0],i=s.code,r=s.message,o=s.path.join(".");if(!t[o])if("unionErrors"in s){var c=s.unionErrors[0].errors[0];t[o]={message:c.message,type:c.code}}else t[o]={message:r,type:i};if("unionErrors"in s&&s.unionErrors.forEach(function(f){return f.errors.forEach(function(p){return n.push(p)})}),e){var u=t[o].types,h=u&&u[s.code];t[o]=Mm(o,e,t,i,h?[].concat(h,s.message):s.message)}n.shift()}return t}function Fj(n,e){for(var t={};n.length;){var s=n[0],i=s.code,r=s.message,o=s.path.join(".");if(!t[o])if(s.code==="invalid_union"&&s.errors.length>0){var c=s.errors[0][0];t[o]={message:c.message,type:c.code}}else t[o]={message:r,type:i};if(s.code==="invalid_union"&&s.errors.forEach(function(f){return f.forEach(function(p){return n.push(p)})}),e){var u=t[o].types,h=u&&u[s.code];t[o]=Mm(o,e,t,i,h?[].concat(h,s.message):s.message)}n.shift()}return t}function rS(n,e,t){if(t===void 0&&(t={}),(function(s){return"_def"in s&&typeof s._def=="object"&&"typeName"in s._def})(n))return function(s,i,r){try{return Promise.resolve(xx(function(){return Promise.resolve(n[t.mode==="sync"?"parse":"parseAsync"](s,e)).then(function(o){return r.shouldUseNativeValidation&&wp({},r),{errors:{},values:t.raw?Object.assign({},s):o}})},function(o){if((function(c){return Array.isArray(c?.issues)})(o))return{values:{},errors:vx(Pj(o.errors,!r.shouldUseNativeValidation&&r.criteriaMode==="all"),r)};throw o}))}catch(o){return Promise.reject(o)}};if((function(s){return"_zod"in s&&typeof s._zod=="object"})(n))return function(s,i,r){try{return Promise.resolve(xx(function(){return Promise.resolve((t.mode==="sync"?UD:HD)(n,s,e)).then(function(o){return r.shouldUseNativeValidation&&wp({},r),{errors:{},values:t.raw?Object.assign({},s):o}})},function(o){if((function(c){return c instanceof $m})(o))return{values:{},errors:vx(Fj(o.issues,!r.shouldUseNativeValidation&&r.criteriaMode==="all"),r)};throw o}))}catch(o){return Promise.reject(o)}};throw new Error("Invalid input: not a Zod schema")}function oS(n,e){return function(){return n.apply(e,arguments)}}const{toString:Rj}=Object.prototype,{getPrototypeOf:Um}=Object,{iterator:qu,toStringTag:aS}=Symbol,Ku=(n=>e=>{const t=Rj.call(e);return n[t]||(n[t]=t.slice(8,-1).toLowerCase())})(Object.create(null)),ws=n=>(n=n.toLowerCase(),e=>Ku(e)===n),Xu=n=>e=>typeof e===n,{isArray:Ro}=Array,xo=Xu("undefined");function cl(n){return n!==null&&!xo(n)&&n.constructor!==null&&!xo(n.constructor)&&Fn(n.constructor.isBuffer)&&n.constructor.isBuffer(n)}const lS=ws("ArrayBuffer");function Nj(n){let e;return typeof ArrayBuffer<"u"&&ArrayBuffer.isView?e=ArrayBuffer.isView(n):e=n&&n.buffer&&lS(n.buffer),e}const Mj=Xu("string"),Fn=Xu("function"),cS=Xu("number"),ul=n=>n!==null&&typeof n=="object",Dj=n=>n===!0||n===!1,ou=n=>{if(Ku(n)!=="object")return!1;const e=Um(n);return(e===null||e===Object.prototype||Object.getPrototypeOf(e)===null)&&!(aS in n)&&!(qu in n)},Lj=n=>{if(!ul(n)||cl(n))return!1;try{return Object.keys(n).length===0&&Object.getPrototypeOf(n)===Object.prototype}catch{return!1}},Ij=ws("Date"),Oj=ws("File"),jj=ws("Blob"),Bj=ws("FileList"),zj=n=>ul(n)&&Fn(n.pipe),$j=n=>{let e;return n&&(typeof FormData=="function"&&n instanceof FormData||Fn(n.append)&&((e=Ku(n))==="formdata"||e==="object"&&Fn(n.toString)&&n.toString()==="[object FormData]"))},Vj=ws("URLSearchParams"),[Uj,Hj,Wj,Gj]=["ReadableStream","Request","Response","Headers"].map(ws),qj=n=>n.trim?n.trim():n.replace(/^[\s\uFEFF\xA0]+|[\s\uFEFF\xA0]+$/g,"");function hl(n,e,{allOwnKeys:t=!1}={}){if(n===null||typeof n>"u")return;let s,i;if(typeof n!="object"&&(n=[n]),Ro(n))for(s=0,i=n.length;s<i;s++)e.call(null,n[s],s,n);else{if(cl(n))return;const r=t?Object.getOwnPropertyNames(n):Object.keys(n),o=r.length;let c;for(s=0;s<o;s++)c=r[s],e.call(null,n[c],c,n)}}function uS(n,e){if(cl(n))return null;e=e.toLowerCase();const t=Object.keys(n);let s=t.length,i;for(;s-- >0;)if(i=t[s],e===i.toLowerCase())return i;return null}const ir=typeof globalThis<"u"?globalThis:typeof self<"u"?self:typeof window<"u"?window:global,hS=n=>!xo(n)&&n!==ir;function xp(){const{caseless:n,skipUndefined:e}=hS(this)&&this||{},t={},s=(i,r)=>{const o=n&&uS(t,r)||r;ou(t[o])&&ou(i)?t[o]=xp(t[o],i):ou(i)?t[o]=xp({},i):Ro(i)?t[o]=i.slice():(!e||!xo(i))&&(t[o]=i)};for(let i=0,r=arguments.length;i<r;i++)arguments[i]&&hl(arguments[i],s);return t}const Kj=(n,e,t,{allOwnKeys:s}={})=>(hl(e,(i,r)=>{t&&Fn(i)?n[r]=oS(i,t):n[r]=i},{allOwnKeys:s}),n),Xj=n=>(n.charCodeAt(0)===65279&&(n=n.slice(1)),n),Zj=(n,e,t,s)=>{n.prototype=Object.create(e.prototype,s),n.prototype.constructor=n,Object.defineProperty(n,"super",{value:e.prototype}),t&&Object.assign(n.prototype,t)},Yj=(n,e,t,s)=>{let i,r,o;const c={};if(e=e||{},n==null)return e;do{for(i=Object.getOwnPropertyNames(n),r=i.length;r-- >0;)o=i[r],(!s||s(o,n,e))&&!c[o]&&(e[o]=n[o],c[o]=!0);n=t!==!1&&Um(n)}while(n&&(!t||t(n,e))&&n!==Object.prototype);return e},Qj=(n,e,t)=>{n=String(n),(t===void 0||t>n.length)&&(t=n.length),t-=e.length;const s=n.indexOf(e,t);return s!==-1&&s===t},Jj=n=>{if(!n)return null;if(Ro(n))return n;let e=n.length;if(!cS(e))return null;const t=new Array(e);for(;e-- >0;)t[e]=n[e];return t},eB=(n=>e=>n&&e instanceof n)(typeof Uint8Array<"u"&&Um(Uint8Array)),tB=(n,e)=>{const s=(n&&n[qu]).call(n);let i;for(;(i=s.next())&&!i.done;){const r=i.value;e.call(n,r[0],r[1])}},nB=(n,e)=>{let t;const s=[];for(;(t=n.exec(e))!==null;)s.push(t);return s},sB=ws("HTMLFormElement"),iB=n=>n.toLowerCase().replace(/[-_\s]([a-z\d])(\w*)/g,function(t,s,i){return s.toUpperCase()+i}),bx=(({hasOwnProperty:n})=>(e,t)=>n.call(e,t))(Object.prototype),rB=ws("RegExp"),dS=(n,e)=>{const t=Object.getOwnPropertyDescriptors(n),s={};hl(t,(i,r)=>{let o;(o=e(i,r,n))!==!1&&(s[r]=o||i)}),Object.defineProperties(n,s)},oB=n=>{dS(n,(e,t)=>{if(Fn(n)&&["arguments","caller","callee"].indexOf(t)!==-1)return!1;const s=n[t];if(Fn(s)){if(e.enumerable=!1,"writable"in e){e.writable=!1;return}e.set||(e.set=()=>{throw Error("Can not rewrite read-only method '"+t+"'")})}})},aB=(n,e)=>{const t={},s=i=>{i.forEach(r=>{t[r]=!0})};return Ro(n)?s(n):s(String(n).split(e)),t},lB=()=>{},cB=(n,e)=>n!=null&&Number.isFinite(n=+n)?n:e;function uB(n){return!!(n&&Fn(n.append)&&n[aS]==="FormData"&&n[qu])}const hB=n=>{const e=new Array(10),t=(s,i)=>{if(ul(s)){if(e.indexOf(s)>=0)return;if(cl(s))return s;if(!("toJSON"in s)){e[i]=s;const r=Ro(s)?[]:{};return hl(s,(o,c)=>{const u=t(o,i+1);!xo(u)&&(r[c]=u)}),e[i]=void 0,r}}return s};return t(n,0)},dB=ws("AsyncFunction"),fB=n=>n&&(ul(n)||Fn(n))&&Fn(n.then)&&Fn(n.catch),fS=((n,e)=>n?setImmediate:e?((t,s)=>(ir.addEventListener("message",({source:i,data:r})=>{i===ir&&r===t&&s.length&&s.shift()()},!1),i=>{s.push(i),ir.postMessage(t,"*")}))(`axios@${Math.random()}`,[]):t=>setTimeout(t))(typeof setImmediate=="function",Fn(ir.postMessage)),pB=typeof queueMicrotask<"u"?queueMicrotask.bind(ir):typeof process<"u"&&process.nextTick||fS,mB=n=>n!=null&&Fn(n[qu]),G={isArray:Ro,isArrayBuffer:lS,isBuffer:cl,isFormData:$j,isArrayBufferView:Nj,isString:Mj,isNumber:cS,isBoolean:Dj,isObject:ul,isPlainObject:ou,isEmptyObject:Lj,isReadableStream:Uj,isRequest:Hj,isResponse:Wj,isHeaders:Gj,isUndefined:xo,isDate:Ij,isFile:Oj,isBlob:jj,isRegExp:rB,isFunction:Fn,isStream:zj,isURLSearchParams:Vj,isTypedArray:eB,isFileList:Bj,forEach:hl,merge:xp,extend:Kj,trim:qj,stripBOM:Xj,inherits:Zj,toFlatObject:Yj,kindOf:Ku,kindOfTest:ws,endsWith:Qj,toArray:Jj,forEachEntry:tB,matchAll:nB,isHTMLForm:sB,hasOwnProperty:bx,hasOwnProp:bx,reduceDescriptors:dS,freezeMethods:oB,toObjectSet:aB,toCamelCase:iB,noop:lB,toFiniteNumber:cB,findKey:uS,global:ir,isContextDefined:hS,isSpecCompliantForm:uB,toJSONObject:hB,isAsyncFn:dB,isThenable:fB,setImmediate:fS,asap:pB,isIterable:mB};function ze(n,e,t,s,i){Error.call(this),Error.captureStackTrace?Error.captureStackTrace(this,this.constructor):this.stack=new Error().stack,this.message=n,this.name="AxiosError",e&&(this.code=e),t&&(this.config=t),s&&(this.request=s),i&&(this.response=i,this.status=i.status?i.status:null)}G.inherits(ze,Error,{toJSON:function(){return{message:this.message,name:this.name,description:this.description,number:this.number,fileName:this.fileName,lineNumber:this.lineNumber,columnNumber:this.columnNumber,stack:this.stack,config:G.toJSONObject(this.config),code:this.code,status:this.status}}});const pS=ze.prototype,mS={};["ERR_BAD_OPTION_VALUE","ERR_BAD_OPTION","ECONNABORTED","ETIMEDOUT","ERR_NETWORK","ERR_FR_TOO_MANY_REDIRECTS","ERR_DEPRECATED","ERR_BAD_RESPONSE","ERR_BAD_REQUEST","ERR_CANCELED","ERR_NOT_SUPPORT","ERR_INVALID_URL"].forEach(n=>{mS[n]={value:n}});Object.defineProperties(ze,mS);Object.defineProperty(pS,"isAxiosError",{value:!0});ze.from=(n,e,t,s,i,r)=>{const o=Object.create(pS);G.toFlatObject(n,o,function(f){return f!==Error.prototype},h=>h!=="isAxiosError");const c=n&&n.message?n.message:"Error",u=e==null&&n?n.code:e;return ze.call(o,c,u,t,s,i),n&&o.cause==null&&Object.defineProperty(o,"cause",{value:n,configurable:!0}),o.name=n&&n.name||"Error",r&&Object.assign(o,r),o};const gB=null;function bp(n){return G.isPlainObject(n)||G.isArray(n)}function gS(n){return G.endsWith(n,"[]")?n.slice(0,-2):n}function Ax(n,e,t){return n?n.concat(e).map(function(i,r){return i=gS(i),!t&&r?"["+i+"]":i}).join(t?".":""):e}function yB(n){return G.isArray(n)&&!n.some(bp)}const vB=G.toFlatObject(G,{},null,function(e){return/^is[A-Z]/.test(e)});function Zu(n,e,t){if(!G.isObject(n))throw new TypeError("target must be an object");e=e||new FormData,t=G.toFlatObject(t,{metaTokens:!0,dots:!1,indexes:!1},!1,function(x,S){return!G.isUndefined(S[x])});const s=t.metaTokens,i=t.visitor||f,r=t.dots,o=t.indexes,u=(t.Blob||typeof Blob<"u"&&Blob)&&G.isSpecCompliantForm(e);if(!G.isFunction(i))throw new TypeError("visitor must be a function");function h(A){if(A===null)return"";if(G.isDate(A))return A.toISOString();if(G.isBoolean(A))return A.toString();if(!u&&G.isBlob(A))throw new ze("Blob is not supported. Use a Buffer instead.");return G.isArrayBuffer(A)||G.isTypedArray(A)?u&&typeof Blob=="function"?new Blob([A]):Buffer.from(A):A}function f(A,x,S){let E=A;if(A&&!S&&typeof A=="object"){if(G.endsWith(x,"{}"))x=s?x:x.slice(0,-2),A=JSON.stringify(A);else if(G.isArray(A)&&yB(A)||(G.isFileList(A)||G.endsWith(x,"[]"))&&(E=G.toArray(A)))return x=gS(x),E.forEach(function(k,T){!(G.isUndefined(k)||k===null)&&e.append(o===!0?Ax([x],T,r):o===null?x:x+"[]",h(k))}),!1}return bp(A)?!0:(e.append(Ax(S,x,r),h(A)),!1)}const p=[],g=Object.assign(vB,{defaultVisitor:f,convertValue:h,isVisitable:bp});function w(A,x){if(!G.isUndefined(A)){if(p.indexOf(A)!==-1)throw Error("Circular reference detected in "+x.join("."));p.push(A),G.forEach(A,function(E,_){(!(G.isUndefined(E)||E===null)&&i.call(e,E,G.isString(_)?_.trim():_,x,g))===!0&&w(E,x?x.concat(_):[_])}),p.pop()}}if(!G.isObject(n))throw new TypeError("data must be an object");return w(n),e}function Sx(n){const e={"!":"%21","'":"%27","(":"%28",")":"%29","~":"%7E","%20":"+","%00":"\0"};return encodeURIComponent(n).replace(/[!'()~]|%20|%00/g,function(s){return e[s]})}function Hm(n,e){this._pairs=[],n&&Zu(n,this,e)}const yS=Hm.prototype;yS.append=function(e,t){this._pairs.push([e,t])};yS.toString=function(e){const t=e?function(s){return e.call(this,s,Sx)}:Sx;return this._pairs.map(function(i){return t(i[0])+"="+t(i[1])},"").join("&")};function wB(n){return encodeURIComponent(n).replace(/%3A/gi,":").replace(/%24/g,"$").replace(/%2C/gi,",").replace(/%20/g,"+")}function vS(n,e,t){if(!e)return n;const s=t&&t.encode||wB;G.isFunction(t)&&(t={serialize:t});const i=t&&t.serialize;let r;if(i?r=i(e,t):r=G.isURLSearchParams(e)?e.toString():new Hm(e,t).toString(s),r){const o=n.indexOf("#");o!==-1&&(n=n.slice(0,o)),n+=(n.indexOf("?")===-1?"?":"&")+r}return n}class Ex{constructor(){this.handlers=[]}use(e,t,s){return this.handlers.push({fulfilled:e,rejected:t,synchronous:s?s.synchronous:!1,runWhen:s?s.runWhen:null}),this.handlers.length-1}eject(e){this.handlers[e]&&(this.handlers[e]=null)}clear(){this.handlers&&(this.handlers=[])}forEach(e){G.forEach(this.handlers,function(s){s!==null&&e(s)})}}const wS={silentJSONParsing:!0,forcedJSONParsing:!0,clarifyTimeoutError:!1},xB=typeof URLSearchParams<"u"?URLSearchParams:Hm,bB=typeof FormData<"u"?FormData:null,AB=typeof Blob<"u"?Blob:null,SB={isBrowser:!0,classes:{URLSearchParams:xB,FormData:bB,Blob:AB},protocols:["http","https","file","blob","url","data"]},Wm=typeof window<"u"&&typeof document<"u",Ap=typeof navigator=="object"&&navigator||void 0,EB=Wm&&(!Ap||["ReactNative","NativeScript","NS"].indexOf(Ap.product)<0),_B=typeof WorkerGlobalScope<"u"&&self instanceof WorkerGlobalScope&&typeof self.importScripts=="function",CB=Wm&&window.location.href||"http://localhost",kB=Object.freeze(Object.defineProperty({__proto__:null,hasBrowserEnv:Wm,hasStandardBrowserEnv:EB,hasStandardBrowserWebWorkerEnv:_B,navigator:Ap,origin:CB},Symbol.toStringTag,{value:"Module"})),ln={...kB,...SB};function TB(n,e){return Zu(n,new ln.classes.URLSearchParams,{visitor:function(t,s,i,r){return ln.isNode&&G.isBuffer(t)?(this.append(s,t.toString("base64")),!1):r.defaultVisitor.apply(this,arguments)},...e})}function PB(n){return G.matchAll(/\w+|\[(\w*)]/g,n).map(e=>e[0]==="[]"?"":e[1]||e[0])}function FB(n){const e={},t=Object.keys(n);let s;const i=t.length;let r;for(s=0;s<i;s++)r=t[s],e[r]=n[r];return e}function xS(n){function e(t,s,i,r){let o=t[r++];if(o==="__proto__")return!0;const c=Number.isFinite(+o),u=r>=t.length;return o=!o&&G.isArray(i)?i.length:o,u?(G.hasOwnProp(i,o)?i[o]=[i[o],s]:i[o]=s,!c):((!i[o]||!G.isObject(i[o]))&&(i[o]=[]),e(t,s,i[o],r)&&G.isArray(i[o])&&(i[o]=FB(i[o])),!c)}if(G.isFormData(n)&&G.isFunction(n.entries)){const t={};return G.forEachEntry(n,(s,i)=>{e(PB(s),i,t,0)}),t}return null}function RB(n,e,t){if(G.isString(n))try{return(e||JSON.parse)(n),G.trim(n)}catch(s){if(s.name!=="SyntaxError")throw s}return(t||JSON.stringify)(n)}const dl={transitional:wS,adapter:["xhr","http","fetch"],transformRequest:[function(e,t){const s=t.getContentType()||"",i=s.indexOf("application/json")>-1,r=G.isObject(e);if(r&&G.isHTMLForm(e)&&(e=new FormData(e)),G.isFormData(e))return i?JSON.stringify(xS(e)):e;if(G.isArrayBuffer(e)||G.isBuffer(e)||G.isStream(e)||G.isFile(e)||G.isBlob(e)||G.isReadableStream(e))return e;if(G.isArrayBufferView(e))return e.buffer;if(G.isURLSearchParams(e))return t.setContentType("application/x-www-form-urlencoded;charset=utf-8",!1),e.toString();let c;if(r){if(s.indexOf("application/x-www-form-urlencoded")>-1)return TB(e,this.formSerializer).toString();if((c=G.isFileList(e))||s.indexOf("multipart/form-data")>-1){const u=this.env&&this.env.FormData;return Zu(c?{"files[]":e}:e,u&&new u,this.formSerializer)}}return r||i?(t.setContentType("application/json",!1),RB(e)):e}],transformResponse:[function(e){const t=this.transitional||dl.transitional,s=t&&t.forcedJSONParsing,i=this.responseType==="json";if(G.isResponse(e)||G.isReadableStream(e))return e;if(e&&G.isString(e)&&(s&&!this.responseType||i)){const o=!(t&&t.silentJSONParsing)&&i;try{return JSON.parse(e,this.parseReviver)}catch(c){if(o)throw c.name==="SyntaxError"?ze.from(c,ze.ERR_BAD_RESPONSE,this,null,this.response):c}}return e}],timeout:0,xsrfCookieName:"XSRF-TOKEN",xsrfHeaderName:"X-XSRF-TOKEN",maxContentLength:-1,maxBodyLength:-1,env:{FormData:ln.classes.FormData,Blob:ln.classes.Blob},validateStatus:function(e){return e>=200&&e<300},headers:{common:{Accept:"application/json, text/plain, */*","Content-Type":void 0}}};G.forEach(["delete","get","head","post","put","patch"],n=>{dl.headers[n]={}});const NB=G.toObjectSet(["age","authorization","content-length","content-type","etag","expires","from","host","if-modified-since","if-unmodified-since","last-modified","location","max-forwards","proxy-authorization","referer","retry-after","user-agent"]),MB=n=>{const e={};let t,s,i;return n&&n.split(`
`).forEach(function(o){i=o.indexOf(":"),t=o.substring(0,i).trim().toLowerCase(),s=o.substring(i+1).trim(),!(!t||e[t]&&NB[t])&&(t==="set-cookie"?e[t]?e[t].push(s):e[t]=[s]:e[t]=e[t]?e[t]+", "+s:s)}),e},_x=Symbol("internals");function Aa(n){return n&&String(n).trim().toLowerCase()}function au(n){return n===!1||n==null?n:G.isArray(n)?n.map(au):String(n)}function DB(n){const e=Object.create(null),t=/([^\s,;=]+)\s*(?:=\s*([^,;]+))?/g;let s;for(;s=t.exec(n);)e[s[1]]=s[2];return e}const LB=n=>/^[-_a-zA-Z0-9^`|~,!#$%&'*+.]+$/.test(n.trim());function bf(n,e,t,s,i){if(G.isFunction(s))return s.call(this,e,t);if(i&&(e=t),!!G.isString(e)){if(G.isString(s))return e.indexOf(s)!==-1;if(G.isRegExp(s))return s.test(e)}}function IB(n){return n.trim().toLowerCase().replace(/([a-z\d])(\w*)/g,(e,t,s)=>t.toUpperCase()+s)}function OB(n,e){const t=G.toCamelCase(" "+e);["get","set","has"].forEach(s=>{Object.defineProperty(n,s+t,{value:function(i,r,o){return this[s].call(this,e,i,r,o)},configurable:!0})})}let Rn=class{constructor(e){e&&this.set(e)}set(e,t,s){const i=this;function r(c,u,h){const f=Aa(u);if(!f)throw new Error("header name must be a non-empty string");const p=G.findKey(i,f);(!p||i[p]===void 0||h===!0||h===void 0&&i[p]!==!1)&&(i[p||u]=au(c))}const o=(c,u)=>G.forEach(c,(h,f)=>r(h,f,u));if(G.isPlainObject(e)||e instanceof this.constructor)o(e,t);else if(G.isString(e)&&(e=e.trim())&&!LB(e))o(MB(e),t);else if(G.isObject(e)&&G.isIterable(e)){let c={},u,h;for(const f of e){if(!G.isArray(f))throw TypeError("Object iterator must return a key-value pair");c[h=f[0]]=(u=c[h])?G.isArray(u)?[...u,f[1]]:[u,f[1]]:f[1]}o(c,t)}else e!=null&&r(t,e,s);return this}get(e,t){if(e=Aa(e),e){const s=G.findKey(this,e);if(s){const i=this[s];if(!t)return i;if(t===!0)return DB(i);if(G.isFunction(t))return t.call(this,i,s);if(G.isRegExp(t))return t.exec(i);throw new TypeError("parser must be boolean|regexp|function")}}}has(e,t){if(e=Aa(e),e){const s=G.findKey(this,e);return!!(s&&this[s]!==void 0&&(!t||bf(this,this[s],s,t)))}return!1}delete(e,t){const s=this;let i=!1;function r(o){if(o=Aa(o),o){const c=G.findKey(s,o);c&&(!t||bf(s,s[c],c,t))&&(delete s[c],i=!0)}}return G.isArray(e)?e.forEach(r):r(e),i}clear(e){const t=Object.keys(this);let s=t.length,i=!1;for(;s--;){const r=t[s];(!e||bf(this,this[r],r,e,!0))&&(delete this[r],i=!0)}return i}normalize(e){const t=this,s={};return G.forEach(this,(i,r)=>{const o=G.findKey(s,r);if(o){t[o]=au(i),delete t[r];return}const c=e?IB(r):String(r).trim();c!==r&&delete t[r],t[c]=au(i),s[c]=!0}),this}concat(...e){return this.constructor.concat(this,...e)}toJSON(e){const t=Object.create(null);return G.forEach(this,(s,i)=>{s!=null&&s!==!1&&(t[i]=e&&G.isArray(s)?s.join(", "):s)}),t}[Symbol.iterator](){return Object.entries(this.toJSON())[Symbol.iterator]()}toString(){return Object.entries(this.toJSON()).map(([e,t])=>e+": "+t).join(`
`)}getSetCookie(){return this.get("set-cookie")||[]}get[Symbol.toStringTag](){return"AxiosHeaders"}static from(e){return e instanceof this?e:new this(e)}static concat(e,...t){const s=new this(e);return t.forEach(i=>s.set(i)),s}static accessor(e){const s=(this[_x]=this[_x]={accessors:{}}).accessors,i=this.prototype;function r(o){const c=Aa(o);s[c]||(OB(i,o),s[c]=!0)}return G.isArray(e)?e.forEach(r):r(e),this}};Rn.accessor(["Content-Type","Content-Length","Accept","Accept-Encoding","User-Agent","Authorization"]);G.reduceDescriptors(Rn.prototype,({value:n},e)=>{let t=e[0].toUpperCase()+e.slice(1);return{get:()=>n,set(s){this[t]=s}}});G.freezeMethods(Rn);function Af(n,e){const t=this||dl,s=e||t,i=Rn.from(s.headers);let r=s.data;return G.forEach(n,function(c){r=c.call(t,r,i.normalize(),e?e.status:void 0)}),i.normalize(),r}function bS(n){return!!(n&&n.__CANCEL__)}function No(n,e,t){ze.call(this,n??"canceled",ze.ERR_CANCELED,e,t),this.name="CanceledError"}G.inherits(No,ze,{__CANCEL__:!0});function AS(n,e,t){const s=t.config.validateStatus;!t.status||!s||s(t.status)?n(t):e(new ze("Request failed with status code "+t.status,[ze.ERR_BAD_REQUEST,ze.ERR_BAD_RESPONSE][Math.floor(t.status/100)-4],t.config,t.request,t))}function jB(n){const e=/^([-+\w]{1,25})(:?\/\/|:)/.exec(n);return e&&e[1]||""}function BB(n,e){n=n||10;const t=new Array(n),s=new Array(n);let i=0,r=0,o;return e=e!==void 0?e:1e3,function(u){const h=Date.now(),f=s[r];o||(o=h),t[i]=u,s[i]=h;let p=r,g=0;for(;p!==i;)g+=t[p++],p=p%n;if(i=(i+1)%n,i===r&&(r=(r+1)%n),h-o<e)return;const w=f&&h-f;return w?Math.round(g*1e3/w):void 0}}function zB(n,e){let t=0,s=1e3/e,i,r;const o=(h,f=Date.now())=>{t=f,i=null,r&&(clearTimeout(r),r=null),n(...h)};return[(...h)=>{const f=Date.now(),p=f-t;p>=s?o(h,f):(i=h,r||(r=setTimeout(()=>{r=null,o(i)},s-p)))},()=>i&&o(i)]}const _u=(n,e,t=3)=>{let s=0;const i=BB(50,250);return zB(r=>{const o=r.loaded,c=r.lengthComputable?r.total:void 0,u=o-s,h=i(u),f=o<=c;s=o;const p={loaded:o,total:c,progress:c?o/c:void 0,bytes:u,rate:h||void 0,estimated:h&&c&&f?(c-o)/h:void 0,event:r,lengthComputable:c!=null,[e?"download":"upload"]:!0};n(p)},t)},Cx=(n,e)=>{const t=n!=null;return[s=>e[0]({lengthComputable:t,total:n,loaded:s}),e[1]]},kx=n=>(...e)=>G.asap(()=>n(...e)),$B=ln.hasStandardBrowserEnv?((n,e)=>t=>(t=new URL(t,ln.origin),n.protocol===t.protocol&&n.host===t.host&&(e||n.port===t.port)))(new URL(ln.origin),ln.navigator&&/(msie|trident)/i.test(ln.navigator.userAgent)):()=>!0,VB=ln.hasStandardBrowserEnv?{write(n,e,t,s,i,r,o){if(typeof document>"u")return;const c=[`${n}=${encodeURIComponent(e)}`];G.isNumber(t)&&c.push(`expires=${new Date(t).toUTCString()}`),G.isString(s)&&c.push(`path=${s}`),G.isString(i)&&c.push(`domain=${i}`),r===!0&&c.push("secure"),G.isString(o)&&c.push(`SameSite=${o}`),document.cookie=c.join("; ")},read(n){if(typeof document>"u")return null;const e=document.cookie.match(new RegExp("(?:^|; )"+n+"=([^;]*)"));return e?decodeURIComponent(e[1]):null},remove(n){this.write(n,"",Date.now()-864e5,"/")}}:{write(){},read(){return null},remove(){}};function UB(n){return/^([a-z][a-z\d+\-.]*:)?\/\//i.test(n)}function HB(n,e){return e?n.replace(/\/?\/$/,"")+"/"+e.replace(/^\/+/,""):n}function SS(n,e,t){let s=!UB(e);return n&&(s||t==!1)?HB(n,e):e}const Tx=n=>n instanceof Rn?{...n}:n;function fr(n,e){e=e||{};const t={};function s(h,f,p,g){return G.isPlainObject(h)&&G.isPlainObject(f)?G.merge.call({caseless:g},h,f):G.isPlainObject(f)?G.merge({},f):G.isArray(f)?f.slice():f}function i(h,f,p,g){if(G.isUndefined(f)){if(!G.isUndefined(h))return s(void 0,h,p,g)}else return s(h,f,p,g)}function r(h,f){if(!G.isUndefined(f))return s(void 0,f)}function o(h,f){if(G.isUndefined(f)){if(!G.isUndefined(h))return s(void 0,h)}else return s(void 0,f)}function c(h,f,p){if(p in e)return s(h,f);if(p in n)return s(void 0,h)}const u={url:r,method:r,data:r,baseURL:o,transformRequest:o,transformResponse:o,paramsSerializer:o,timeout:o,timeoutMessage:o,withCredentials:o,withXSRFToken:o,adapter:o,responseType:o,xsrfCookieName:o,xsrfHeaderName:o,onUploadProgress:o,onDownloadProgress:o,decompress:o,maxContentLength:o,maxBodyLength:o,beforeRedirect:o,transport:o,httpAgent:o,httpsAgent:o,cancelToken:o,socketPath:o,responseEncoding:o,validateStatus:c,headers:(h,f,p)=>i(Tx(h),Tx(f),p,!0)};return G.forEach(Object.keys({...n,...e}),function(f){const p=u[f]||i,g=p(n[f],e[f],f);G.isUndefined(g)&&p!==c||(t[f]=g)}),t}const ES=n=>{const e=fr({},n);let{data:t,withXSRFToken:s,xsrfHeaderName:i,xsrfCookieName:r,headers:o,auth:c}=e;if(e.headers=o=Rn.from(o),e.url=vS(SS(e.baseURL,e.url,e.allowAbsoluteUrls),n.params,n.paramsSerializer),c&&o.set("Authorization","Basic "+btoa((c.username||"")+":"+(c.password?unescape(encodeURIComponent(c.password)):""))),G.isFormData(t)){if(ln.hasStandardBrowserEnv||ln.hasStandardBrowserWebWorkerEnv)o.setContentType(void 0);else if(G.isFunction(t.getHeaders)){const u=t.getHeaders(),h=["content-type","content-length"];Object.entries(u).forEach(([f,p])=>{h.includes(f.toLowerCase())&&o.set(f,p)})}}if(ln.hasStandardBrowserEnv&&(s&&G.isFunction(s)&&(s=s(e)),s||s!==!1&&$B(e.url))){const u=i&&r&&VB.read(r);u&&o.set(i,u)}return e},WB=typeof XMLHttpRequest<"u",GB=WB&&function(n){return new Promise(function(t,s){const i=ES(n);let r=i.data;const o=Rn.from(i.headers).normalize();let{responseType:c,onUploadProgress:u,onDownloadProgress:h}=i,f,p,g,w,A;function x(){w&&w(),A&&A(),i.cancelToken&&i.cancelToken.unsubscribe(f),i.signal&&i.signal.removeEventListener("abort",f)}let S=new XMLHttpRequest;S.open(i.method.toUpperCase(),i.url,!0),S.timeout=i.timeout;function E(){if(!S)return;const k=Rn.from("getAllResponseHeaders"in S&&S.getAllResponseHeaders()),P={data:!c||c==="text"||c==="json"?S.responseText:S.response,status:S.status,statusText:S.statusText,headers:k,config:n,request:S};AS(function(M){t(M),x()},function(M){s(M),x()},P),S=null}"onloadend"in S?S.onloadend=E:S.onreadystatechange=function(){!S||S.readyState!==4||S.status===0&&!(S.responseURL&&S.responseURL.indexOf("file:")===0)||setTimeout(E)},S.onabort=function(){S&&(s(new ze("Request aborted",ze.ECONNABORTED,n,S)),S=null)},S.onerror=function(T){const P=T&&T.message?T.message:"Network Error",N=new ze(P,ze.ERR_NETWORK,n,S);N.event=T||null,s(N),S=null},S.ontimeout=function(){let T=i.timeout?"timeout of "+i.timeout+"ms exceeded":"timeout exceeded";const P=i.transitional||wS;i.timeoutErrorMessage&&(T=i.timeoutErrorMessage),s(new ze(T,P.clarifyTimeoutError?ze.ETIMEDOUT:ze.ECONNABORTED,n,S)),S=null},r===void 0&&o.setContentType(null),"setRequestHeader"in S&&G.forEach(o.toJSON(),function(T,P){S.setRequestHeader(P,T)}),G.isUndefined(i.withCredentials)||(S.withCredentials=!!i.withCredentials),c&&c!=="json"&&(S.responseType=i.responseType),h&&([g,A]=_u(h,!0),S.addEventListener("progress",g)),u&&S.upload&&([p,w]=_u(u),S.upload.addEventListener("progress",p),S.upload.addEventListener("loadend",w)),(i.cancelToken||i.signal)&&(f=k=>{S&&(s(!k||k.type?new No(null,n,S):k),S.abort(),S=null)},i.cancelToken&&i.cancelToken.subscribe(f),i.signal&&(i.signal.aborted?f():i.signal.addEventListener("abort",f)));const _=jB(i.url);if(_&&ln.protocols.indexOf(_)===-1){s(new ze("Unsupported protocol "+_+":",ze.ERR_BAD_REQUEST,n));return}S.send(r||null)})},qB=(n,e)=>{const{length:t}=n=n?n.filter(Boolean):[];if(e||t){let s=new AbortController,i;const r=function(h){if(!i){i=!0,c();const f=h instanceof Error?h:this.reason;s.abort(f instanceof ze?f:new No(f instanceof Error?f.message:f))}};let o=e&&setTimeout(()=>{o=null,r(new ze(`timeout ${e} of ms exceeded`,ze.ETIMEDOUT))},e);const c=()=>{n&&(o&&clearTimeout(o),o=null,n.forEach(h=>{h.unsubscribe?h.unsubscribe(r):h.removeEventListener("abort",r)}),n=null)};n.forEach(h=>h.addEventListener("abort",r));const{signal:u}=s;return u.unsubscribe=()=>G.asap(c),u}},KB=function*(n,e){let t=n.byteLength;if(t<e){yield n;return}let s=0,i;for(;s<t;)i=s+e,yield n.slice(s,i),s=i},XB=async function*(n,e){for await(const t of ZB(n))yield*KB(t,e)},ZB=async function*(n){if(n[Symbol.asyncIterator]){yield*n;return}const e=n.getReader();try{for(;;){const{done:t,value:s}=await e.read();if(t)break;yield s}}finally{await e.cancel()}},Px=(n,e,t,s)=>{const i=XB(n,e);let r=0,o,c=u=>{o||(o=!0,s&&s(u))};return new ReadableStream({async pull(u){try{const{done:h,value:f}=await i.next();if(h){c(),u.close();return}let p=f.byteLength;if(t){let g=r+=p;t(g)}u.enqueue(new Uint8Array(f))}catch(h){throw c(h),h}},cancel(u){return c(u),i.return()}},{highWaterMark:2})},Fx=64*1024,{isFunction:$c}=G,YB=(({Request:n,Response:e})=>({Request:n,Response:e}))(G.global),{ReadableStream:Rx,TextEncoder:Nx}=G.global,Mx=(n,...e)=>{try{return!!n(...e)}catch{return!1}},QB=n=>{n=G.merge.call({skipUndefined:!0},YB,n);const{fetch:e,Request:t,Response:s}=n,i=e?$c(e):typeof fetch=="function",r=$c(t),o=$c(s);if(!i)return!1;const c=i&&$c(Rx),u=i&&(typeof Nx=="function"?(A=>x=>A.encode(x))(new Nx):async A=>new Uint8Array(await new t(A).arrayBuffer())),h=r&&c&&Mx(()=>{let A=!1;const x=new t(ln.origin,{body:new Rx,method:"POST",get duplex(){return A=!0,"half"}}).headers.has("Content-Type");return A&&!x}),f=o&&c&&Mx(()=>G.isReadableStream(new s("").body)),p={stream:f&&(A=>A.body)};i&&["text","arrayBuffer","blob","formData","stream"].forEach(A=>{!p[A]&&(p[A]=(x,S)=>{let E=x&&x[A];if(E)return E.call(x);throw new ze(`Response type '${A}' is not supported`,ze.ERR_NOT_SUPPORT,S)})});const g=async A=>{if(A==null)return 0;if(G.isBlob(A))return A.size;if(G.isSpecCompliantForm(A))return(await new t(ln.origin,{method:"POST",body:A}).arrayBuffer()).byteLength;if(G.isArrayBufferView(A)||G.isArrayBuffer(A))return A.byteLength;if(G.isURLSearchParams(A)&&(A=A+""),G.isString(A))return(await u(A)).byteLength},w=async(A,x)=>{const S=G.toFiniteNumber(A.getContentLength());return S??g(x)};return async A=>{let{url:x,method:S,data:E,signal:_,cancelToken:k,timeout:T,onDownloadProgress:P,onUploadProgress:N,responseType:M,headers:I,withCredentials:$="same-origin",fetchOptions:q}=ES(A),Z=e||fetch;M=M?(M+"").toLowerCase():"text";let ie=qB([_,k&&k.toAbortSignal()],T),U=null;const ee=ie&&ie.unsubscribe&&(()=>{ie.unsubscribe()});let ue;try{if(N&&h&&S!=="get"&&S!=="head"&&(ue=await w(I,E))!==0){let O=new t(x,{method:"POST",body:E,duplex:"half"}),K;if(G.isFormData(E)&&(K=O.headers.get("content-type"))&&I.setContentType(K),O.body){const[he,be]=Cx(ue,_u(kx(N)));E=Px(O.body,Fx,he,be)}}G.isString($)||($=$?"include":"omit");const Q=r&&"credentials"in t.prototype,Y={...q,signal:ie,method:S.toUpperCase(),headers:I.normalize().toJSON(),body:E,duplex:"half",credentials:Q?$:void 0};U=r&&new t(x,Y);let W=await(r?Z(U,q):Z(x,Y));const oe=f&&(M==="stream"||M==="response");if(f&&(P||oe&&ee)){const O={};["status","statusText","headers"].forEach(Ce=>{O[Ce]=W[Ce]});const K=G.toFiniteNumber(W.headers.get("content-length")),[he,be]=P&&Cx(K,_u(kx(P),!0))||[];W=new s(Px(W.body,Fx,he,()=>{be&&be(),ee&&ee()}),O)}M=M||"text";let J=await p[G.findKey(p,M)||"text"](W,A);return!oe&&ee&&ee(),await new Promise((O,K)=>{AS(O,K,{data:J,headers:Rn.from(W.headers),status:W.status,statusText:W.statusText,config:A,request:U})})}catch(Q){throw ee&&ee(),Q&&Q.name==="TypeError"&&/Load failed|fetch/i.test(Q.message)?Object.assign(new ze("Network Error",ze.ERR_NETWORK,A,U),{cause:Q.cause||Q}):ze.from(Q,Q&&Q.code,A,U)}}},JB=new Map,_S=n=>{let e=n&&n.env||{};const{fetch:t,Request:s,Response:i}=e,r=[s,i,t];let o=r.length,c=o,u,h,f=JB;for(;c--;)u=r[c],h=f.get(u),h===void 0&&f.set(u,h=c?new Map:QB(e)),f=h;return h};_S();const Gm={http:gB,xhr:GB,fetch:{get:_S}};G.forEach(Gm,(n,e)=>{if(n){try{Object.defineProperty(n,"name",{value:e})}catch{}Object.defineProperty(n,"adapterName",{value:e})}});const Dx=n=>`- ${n}`,e3=n=>G.isFunction(n)||n===null||n===!1;function t3(n,e){n=G.isArray(n)?n:[n];const{length:t}=n;let s,i;const r={};for(let o=0;o<t;o++){s=n[o];let c;if(i=s,!e3(s)&&(i=Gm[(c=String(s)).toLowerCase()],i===void 0))throw new ze(`Unknown adapter '${c}'`);if(i&&(G.isFunction(i)||(i=i.get(e))))break;r[c||"#"+o]=i}if(!i){const o=Object.entries(r).map(([u,h])=>`adapter ${u} `+(h===!1?"is not supported by the environment":"is not available in the build"));let c=t?o.length>1?`since :
`+o.map(Dx).join(`
`):" "+Dx(o[0]):"as no adapter specified";throw new ze("There is no suitable adapter to dispatch the request "+c,"ERR_NOT_SUPPORT")}return i}const CS={getAdapter:t3,adapters:Gm};function Sf(n){if(n.cancelToken&&n.cancelToken.throwIfRequested(),n.signal&&n.signal.aborted)throw new No(null,n)}function Lx(n){return Sf(n),n.headers=Rn.from(n.headers),n.data=Af.call(n,n.transformRequest),["post","put","patch"].indexOf(n.method)!==-1&&n.headers.setContentType("application/x-www-form-urlencoded",!1),CS.getAdapter(n.adapter||dl.adapter,n)(n).then(function(s){return Sf(n),s.data=Af.call(n,n.transformResponse,s),s.headers=Rn.from(s.headers),s},function(s){return bS(s)||(Sf(n),s&&s.response&&(s.response.data=Af.call(n,n.transformResponse,s.response),s.response.headers=Rn.from(s.response.headers))),Promise.reject(s)})}const kS="1.13.2",Yu={};["object","boolean","number","function","string","symbol"].forEach((n,e)=>{Yu[n]=function(s){return typeof s===n||"a"+(e<1?"n ":" ")+n}});const Ix={};Yu.transitional=function(e,t,s){function i(r,o){return"[Axios v"+kS+"] Transitional option '"+r+"'"+o+(s?". "+s:"")}return(r,o,c)=>{if(e===!1)throw new ze(i(o," has been removed"+(t?" in "+t:"")),ze.ERR_DEPRECATED);return t&&!Ix[o]&&(Ix[o]=!0,console.warn(i(o," has been deprecated since v"+t+" and will be removed in the near future"))),e?e(r,o,c):!0}};Yu.spelling=function(e){return(t,s)=>(console.warn(`${s} is likely a misspelling of ${e}`),!0)};function n3(n,e,t){if(typeof n!="object")throw new ze("options must be an object",ze.ERR_BAD_OPTION_VALUE);const s=Object.keys(n);let i=s.length;for(;i-- >0;){const r=s[i],o=e[r];if(o){const c=n[r],u=c===void 0||o(c,r,n);if(u!==!0)throw new ze("option "+r+" must be "+u,ze.ERR_BAD_OPTION_VALUE);continue}if(t!==!0)throw new ze("Unknown option "+r,ze.ERR_BAD_OPTION)}}const lu={assertOptions:n3,validators:Yu},Cs=lu.validators;let lr=class{constructor(e){this.defaults=e||{},this.interceptors={request:new Ex,response:new Ex}}async request(e,t){try{return await this._request(e,t)}catch(s){if(s instanceof Error){let i={};Error.captureStackTrace?Error.captureStackTrace(i):i=new Error;const r=i.stack?i.stack.replace(/^.+\n/,""):"";try{s.stack?r&&!String(s.stack).endsWith(r.replace(/^.+\n.+\n/,""))&&(s.stack+=`
`+r):s.stack=r}catch{}}throw s}}_request(e,t){typeof e=="string"?(t=t||{},t.url=e):t=e||{},t=fr(this.defaults,t);const{transitional:s,paramsSerializer:i,headers:r}=t;s!==void 0&&lu.assertOptions(s,{silentJSONParsing:Cs.transitional(Cs.boolean),forcedJSONParsing:Cs.transitional(Cs.boolean),clarifyTimeoutError:Cs.transitional(Cs.boolean)},!1),i!=null&&(G.isFunction(i)?t.paramsSerializer={serialize:i}:lu.assertOptions(i,{encode:Cs.function,serialize:Cs.function},!0)),t.allowAbsoluteUrls!==void 0||(this.defaults.allowAbsoluteUrls!==void 0?t.allowAbsoluteUrls=this.defaults.allowAbsoluteUrls:t.allowAbsoluteUrls=!0),lu.assertOptions(t,{baseUrl:Cs.spelling("baseURL"),withXsrfToken:Cs.spelling("withXSRFToken")},!0),t.method=(t.method||this.defaults.method||"get").toLowerCase();let o=r&&G.merge(r.common,r[t.method]);r&&G.forEach(["delete","get","head","post","put","patch","common"],A=>{delete r[A]}),t.headers=Rn.concat(o,r);const c=[];let u=!0;this.interceptors.request.forEach(function(x){typeof x.runWhen=="function"&&x.runWhen(t)===!1||(u=u&&x.synchronous,c.unshift(x.fulfilled,x.rejected))});const h=[];this.interceptors.response.forEach(function(x){h.push(x.fulfilled,x.rejected)});let f,p=0,g;if(!u){const A=[Lx.bind(this),void 0];for(A.unshift(...c),A.push(...h),g=A.length,f=Promise.resolve(t);p<g;)f=f.then(A[p++],A[p++]);return f}g=c.length;let w=t;for(;p<g;){const A=c[p++],x=c[p++];try{w=A(w)}catch(S){x.call(this,S);break}}try{f=Lx.call(this,w)}catch(A){return Promise.reject(A)}for(p=0,g=h.length;p<g;)f=f.then(h[p++],h[p++]);return f}getUri(e){e=fr(this.defaults,e);const t=SS(e.baseURL,e.url,e.allowAbsoluteUrls);return vS(t,e.params,e.paramsSerializer)}};G.forEach(["delete","get","head","options"],function(e){lr.prototype[e]=function(t,s){return this.request(fr(s||{},{method:e,url:t,data:(s||{}).data}))}});G.forEach(["post","put","patch"],function(e){function t(s){return function(r,o,c){return this.request(fr(c||{},{method:e,headers:s?{"Content-Type":"multipart/form-data"}:{},url:r,data:o}))}}lr.prototype[e]=t(),lr.prototype[e+"Form"]=t(!0)});let s3=class TS{constructor(e){if(typeof e!="function")throw new TypeError("executor must be a function.");let t;this.promise=new Promise(function(r){t=r});const s=this;this.promise.then(i=>{if(!s._listeners)return;let r=s._listeners.length;for(;r-- >0;)s._listeners[r](i);s._listeners=null}),this.promise.then=i=>{let r;const o=new Promise(c=>{s.subscribe(c),r=c}).then(i);return o.cancel=function(){s.unsubscribe(r)},o},e(function(r,o,c){s.reason||(s.reason=new No(r,o,c),t(s.reason))})}throwIfRequested(){if(this.reason)throw this.reason}subscribe(e){if(this.reason){e(this.reason);return}this._listeners?this._listeners.push(e):this._listeners=[e]}unsubscribe(e){if(!this._listeners)return;const t=this._listeners.indexOf(e);t!==-1&&this._listeners.splice(t,1)}toAbortSignal(){const e=new AbortController,t=s=>{e.abort(s)};return this.subscribe(t),e.signal.unsubscribe=()=>this.unsubscribe(t),e.signal}static source(){let e;return{token:new TS(function(i){e=i}),cancel:e}}};function i3(n){return function(t){return n.apply(null,t)}}function r3(n){return G.isObject(n)&&n.isAxiosError===!0}const Sp={Continue:100,SwitchingProtocols:101,Processing:102,EarlyHints:103,Ok:200,Created:201,Accepted:202,NonAuthoritativeInformation:203,NoContent:204,ResetContent:205,PartialContent:206,MultiStatus:207,AlreadyReported:208,ImUsed:226,MultipleChoices:300,MovedPermanently:301,Found:302,SeeOther:303,NotModified:304,UseProxy:305,Unused:306,TemporaryRedirect:307,PermanentRedirect:308,BadRequest:400,Unauthorized:401,PaymentRequired:402,Forbidden:403,NotFound:404,MethodNotAllowed:405,NotAcceptable:406,ProxyAuthenticationRequired:407,RequestTimeout:408,Conflict:409,Gone:410,LengthRequired:411,PreconditionFailed:412,PayloadTooLarge:413,UriTooLong:414,UnsupportedMediaType:415,RangeNotSatisfiable:416,ExpectationFailed:417,ImATeapot:418,MisdirectedRequest:421,UnprocessableEntity:422,Locked:423,FailedDependency:424,TooEarly:425,UpgradeRequired:426,PreconditionRequired:428,TooManyRequests:429,RequestHeaderFieldsTooLarge:431,UnavailableForLegalReasons:451,InternalServerError:500,NotImplemented:501,BadGateway:502,ServiceUnavailable:503,GatewayTimeout:504,HttpVersionNotSupported:505,VariantAlsoNegotiates:506,InsufficientStorage:507,LoopDetected:508,NotExtended:510,NetworkAuthenticationRequired:511,WebServerIsDown:521,ConnectionTimedOut:522,OriginIsUnreachable:523,TimeoutOccurred:524,SslHandshakeFailed:525,InvalidSslCertificate:526};Object.entries(Sp).forEach(([n,e])=>{Sp[e]=n});function PS(n){const e=new lr(n),t=oS(lr.prototype.request,e);return G.extend(t,lr.prototype,e,{allOwnKeys:!0}),G.extend(t,e,null,{allOwnKeys:!0}),t.create=function(i){return PS(fr(n,i))},t}const Pt=PS(dl);Pt.Axios=lr;Pt.CanceledError=No;Pt.CancelToken=s3;Pt.isCancel=bS;Pt.VERSION=kS;Pt.toFormData=Zu;Pt.AxiosError=ze;Pt.Cancel=Pt.CanceledError;Pt.all=function(e){return Promise.all(e)};Pt.spread=i3;Pt.isAxiosError=r3;Pt.mergeConfig=fr;Pt.AxiosHeaders=Rn;Pt.formToJSON=n=>xS(G.isHTMLForm(n)?new FormData(n):n);Pt.getAdapter=CS.getAdapter;Pt.HttpStatusCode=Sp;Pt.default=Pt;const{Axios:c$,AxiosError:u$,CanceledError:h$,isCancel:d$,CancelToken:f$,VERSION:p$,all:m$,Cancel:g$,isAxiosError:y$,spread:v$,toFormData:w$,AxiosHeaders:x$,HttpStatusCode:b$,formToJSON:A$,getAdapter:S$,mergeConfig:E$}=Pt,o3="https://3072ba3fc8a5.ngrok-free.app",Bs=Pt.create({baseURL:o3,headers:{"Content-Type":"application/json",Accept:"application/json","ngrok-skip-browser-warning":"true"}});Bs.interceptors.request.use(n=>{const e=localStorage.getItem("token");return e&&n.url&&!n.url.includes("/auth/login")&&!n.url.includes("/auth/signup")&&(n.headers.Authorization=`Bearer ${e}`),n});const a3=async n=>{const{data:e}=await Bs.post("/auth/login",n);return e},l3=async n=>{const{data:e}=await Bs.post("/auth/signup",n);return e},c3=async()=>{const{data:n}=await Bs.get("/auth/me");return n};let u3={data:""},h3=n=>{if(typeof window=="object"){let e=(n?n.querySelector("#_goober"):window._goober)||Object.assign(document.createElement("style"),{innerHTML:" ",id:"_goober"});return e.nonce=window.__nonce__,e.parentNode||(n||document.head).appendChild(e),e.firstChild}return n||u3},d3=/(?:([\u0080-\uFFFF\w-%@]+) *:? *([^{;]+?);|([^;}{]*?) *{)|(}\s*)/g,f3=/\/\*[^]*?\*\/|  +/g,Ox=/\n+/g,Ti=(n,e)=>{let t="",s="",i="";for(let r in n){let o=n[r];r[0]=="@"?r[1]=="i"?t=r+" "+o+";":s+=r[1]=="f"?Ti(o,r):r+"{"+Ti(o,r[1]=="k"?"":e)+"}":typeof o=="object"?s+=Ti(o,e?e.replace(/([^,])+/g,c=>r.replace(/([^,]*:\S+\([^)]*\))|([^,])+/g,u=>/&/.test(u)?u.replace(/&/g,c):c?c+" "+u:u)):r):o!=null&&(r=/^--/.test(r)?r:r.replace(/[A-Z]/g,"-$&").toLowerCase(),i+=Ti.p?Ti.p(r,o):r+":"+o+";")}return t+(e&&i?e+"{"+i+"}":i)+s},Zs={},FS=n=>{if(typeof n=="object"){let e="";for(let t in n)e+=t+FS(n[t]);return e}return n},p3=(n,e,t,s,i)=>{let r=FS(n),o=Zs[r]||(Zs[r]=(u=>{let h=0,f=11;for(;h<u.length;)f=101*f+u.charCodeAt(h++)>>>0;return"go"+f})(r));if(!Zs[o]){let u=r!==n?n:(h=>{let f,p,g=[{}];for(;f=d3.exec(h.replace(f3,""));)f[4]?g.shift():f[3]?(p=f[3].replace(Ox," ").trim(),g.unshift(g[0][p]=g[0][p]||{})):g[0][f[1]]=f[2].replace(Ox," ").trim();return g[0]})(n);Zs[o]=Ti(i?{["@keyframes "+o]:u}:u,t?"":"."+o)}let c=t&&Zs.g?Zs.g:null;return t&&(Zs.g=Zs[o]),((u,h,f,p)=>{p?h.data=h.data.replace(p,u):h.data.indexOf(u)===-1&&(h.data=f?u+h.data:h.data+u)})(Zs[o],e,s,c),o},m3=(n,e,t)=>n.reduce((s,i,r)=>{let o=e[r];if(o&&o.call){let c=o(t),u=c&&c.props&&c.props.className||/^go/.test(c)&&c;o=u?"."+u:c&&typeof c=="object"?c.props?"":Ti(c,""):c===!1?"":c}return s+i+(o??"")},"");function Qu(n){let e=this||{},t=n.call?n(e.p):n;return p3(t.unshift?t.raw?m3(t,[].slice.call(arguments,1),e.p):t.reduce((s,i)=>Object.assign(s,i&&i.call?i(e.p):i),{}):t,h3(e.target),e.g,e.o,e.k)}let RS,Ep,_p;Qu.bind({g:1});let si=Qu.bind({k:1});function g3(n,e,t,s){Ti.p=e,RS=n,Ep=t,_p=s}function Ii(n,e){let t=this||{};return function(){let s=arguments;function i(r,o){let c=Object.assign({},r),u=c.className||i.className;t.p=Object.assign({theme:Ep&&Ep()},c),t.o=/ *go\d+/.test(u),c.className=Qu.apply(t,s)+(u?" "+u:"");let h=n;return n[0]&&(h=c.as||n,delete c.as),_p&&h[0]&&_p(c),RS(h,c)}return i}}var y3=n=>typeof n=="function",Cu=(n,e)=>y3(n)?n(e):n,v3=(()=>{let n=0;return()=>(++n).toString()})(),NS=(()=>{let n;return()=>{if(n===void 0&&typeof window<"u"){let e=matchMedia("(prefers-reduced-motion: reduce)");n=!e||e.matches}return n}})(),w3=20,qm="default",MS=(n,e)=>{let{toastLimit:t}=n.settings;switch(e.type){case 0:return{...n,toasts:[e.toast,...n.toasts].slice(0,t)};case 1:return{...n,toasts:n.toasts.map(o=>o.id===e.toast.id?{...o,...e.toast}:o)};case 2:let{toast:s}=e;return MS(n,{type:n.toasts.find(o=>o.id===s.id)?1:0,toast:s});case 3:let{toastId:i}=e;return{...n,toasts:n.toasts.map(o=>o.id===i||i===void 0?{...o,dismissed:!0,visible:!1}:o)};case 4:return e.toastId===void 0?{...n,toasts:[]}:{...n,toasts:n.toasts.filter(o=>o.id!==e.toastId)};case 5:return{...n,pausedAt:e.time};case 6:let r=e.time-(n.pausedAt||0);return{...n,pausedAt:void 0,toasts:n.toasts.map(o=>({...o,pauseDuration:o.pauseDuration+r}))}}},cu=[],DS={toasts:[],pausedAt:void 0,settings:{toastLimit:w3}},Ds={},LS=(n,e=qm)=>{Ds[e]=MS(Ds[e]||DS,n),cu.forEach(([t,s])=>{t===e&&s(Ds[e])})},IS=n=>Object.keys(Ds).forEach(e=>LS(n,e)),x3=n=>Object.keys(Ds).find(e=>Ds[e].toasts.some(t=>t.id===n)),Ju=(n=qm)=>e=>{LS(e,n)},b3={blank:4e3,error:4e3,success:2e3,loading:1/0,custom:4e3},A3=(n={},e=qm)=>{let[t,s]=F.useState(Ds[e]||DS),i=F.useRef(Ds[e]);F.useEffect(()=>(i.current!==Ds[e]&&s(Ds[e]),cu.push([e,s]),()=>{let o=cu.findIndex(([c])=>c===e);o>-1&&cu.splice(o,1)}),[e]);let r=t.toasts.map(o=>{var c,u,h;return{...n,...n[o.type],...o,removeDelay:o.removeDelay||((c=n[o.type])==null?void 0:c.removeDelay)||n?.removeDelay,duration:o.duration||((u=n[o.type])==null?void 0:u.duration)||n?.duration||b3[o.type],style:{...n.style,...(h=n[o.type])==null?void 0:h.style,...o.style}}});return{...t,toasts:r}},S3=(n,e="blank",t)=>({createdAt:Date.now(),visible:!0,dismissed:!1,type:e,ariaProps:{role:"status","aria-live":"polite"},message:n,pauseDuration:0,...t,id:t?.id||v3()}),fl=n=>(e,t)=>{let s=S3(e,n,t);return Ju(s.toasterId||x3(s.id))({type:2,toast:s}),s.id},Qe=(n,e)=>fl("blank")(n,e);Qe.error=fl("error");Qe.success=fl("success");Qe.loading=fl("loading");Qe.custom=fl("custom");Qe.dismiss=(n,e)=>{let t={type:3,toastId:n};e?Ju(e)(t):IS(t)};Qe.dismissAll=n=>Qe.dismiss(void 0,n);Qe.remove=(n,e)=>{let t={type:4,toastId:n};e?Ju(e)(t):IS(t)};Qe.removeAll=n=>Qe.remove(void 0,n);Qe.promise=(n,e,t)=>{let s=Qe.loading(e.loading,{...t,...t?.loading});return typeof n=="function"&&(n=n()),n.then(i=>{let r=e.success?Cu(e.success,i):void 0;return r?Qe.success(r,{id:s,...t,...t?.success}):Qe.dismiss(s),i}).catch(i=>{let r=e.error?Cu(e.error,i):void 0;r?Qe.error(r,{id:s,...t,...t?.error}):Qe.dismiss(s)}),n};var E3=1e3,_3=(n,e="default")=>{let{toasts:t,pausedAt:s}=A3(n,e),i=F.useRef(new Map).current,r=F.useCallback((p,g=E3)=>{if(i.has(p))return;let w=setTimeout(()=>{i.delete(p),o({type:4,toastId:p})},g);i.set(p,w)},[]);F.useEffect(()=>{if(s)return;let p=Date.now(),g=t.map(w=>{if(w.duration===1/0)return;let A=(w.duration||0)+w.pauseDuration-(p-w.createdAt);if(A<0){w.visible&&Qe.dismiss(w.id);return}return setTimeout(()=>Qe.dismiss(w.id,e),A)});return()=>{g.forEach(w=>w&&clearTimeout(w))}},[t,s,e]);let o=F.useCallback(Ju(e),[e]),c=F.useCallback(()=>{o({type:5,time:Date.now()})},[o]),u=F.useCallback((p,g)=>{o({type:1,toast:{id:p,height:g}})},[o]),h=F.useCallback(()=>{s&&o({type:6,time:Date.now()})},[s,o]),f=F.useCallback((p,g)=>{let{reverseOrder:w=!1,gutter:A=8,defaultPosition:x}=g||{},S=t.filter(k=>(k.position||x)===(p.position||x)&&k.height),E=S.findIndex(k=>k.id===p.id),_=S.filter((k,T)=>T<E&&k.visible).length;return S.filter(k=>k.visible).slice(...w?[_+1]:[0,_]).reduce((k,T)=>k+(T.height||0)+A,0)},[t]);return F.useEffect(()=>{t.forEach(p=>{if(p.dismissed)r(p.id,p.removeDelay);else{let g=i.get(p.id);g&&(clearTimeout(g),i.delete(p.id))}})},[t,r]),{toasts:t,handlers:{updateHeight:u,startPause:c,endPause:h,calculateOffset:f}}},C3=si`
from {
  transform: scale(0) rotate(45deg);
	opacity: 0;
}
to {
 transform: scale(1) rotate(45deg);
  opacity: 1;
}`,k3=si`
from {
  transform: scale(0);
  opacity: 0;
}
to {
  transform: scale(1);
  opacity: 1;
}`,T3=si`
from {
  transform: scale(0) rotate(90deg);
	opacity: 0;
}
to {
  transform: scale(1) rotate(90deg);
	opacity: 1;
}`,P3=Ii("div")`
  width: 20px;
  opacity: 0;
  height: 20px;
  border-radius: 10px;
  background: ${n=>n.primary||"#ff4b4b"};
  position: relative;
  transform: rotate(45deg);

  animation: ${C3} 0.3s cubic-bezier(0.175, 0.885, 0.32, 1.275)
    forwards;
  animation-delay: 100ms;

  &:after,
  &:before {
    content: '';
    animation: ${k3} 0.15s ease-out forwards;
    animation-delay: 150ms;
    position: absolute;
    border-radius: 3px;
    opacity: 0;
    background: ${n=>n.secondary||"#fff"};
    bottom: 9px;
    left: 4px;
    height: 2px;
    width: 12px;
  }

  &:before {
    animation: ${T3} 0.15s ease-out forwards;
    animation-delay: 180ms;
    transform: rotate(90deg);
  }
`,F3=si`
  from {
    transform: rotate(0deg);
  }
  to {
    transform: rotate(360deg);
  }
`,R3=Ii("div")`
  width: 12px;
  height: 12px;
  box-sizing: border-box;
  border: 2px solid;
  border-radius: 100%;
  border-color: ${n=>n.secondary||"#e0e0e0"};
  border-right-color: ${n=>n.primary||"#616161"};
  animation: ${F3} 1s linear infinite;
`,N3=si`
from {
  transform: scale(0) rotate(45deg);
	opacity: 0;
}
to {
  transform: scale(1) rotate(45deg);
	opacity: 1;
}`,M3=si`
0% {
	height: 0;
	width: 0;
	opacity: 0;
}
40% {
  height: 0;
	width: 6px;
	opacity: 1;
}
100% {
  opacity: 1;
  height: 10px;
}`,D3=Ii("div")`
  width: 20px;
  opacity: 0;
  height: 20px;
  border-radius: 10px;
  background: ${n=>n.primary||"#61d345"};
  position: relative;
  transform: rotate(45deg);

  animation: ${N3} 0.3s cubic-bezier(0.175, 0.885, 0.32, 1.275)
    forwards;
  animation-delay: 100ms;
  &:after {
    content: '';
    box-sizing: border-box;
    animation: ${M3} 0.2s ease-out forwards;
    opacity: 0;
    animation-delay: 200ms;
    position: absolute;
    border-right: 2px solid;
    border-bottom: 2px solid;
    border-color: ${n=>n.secondary||"#fff"};
    bottom: 6px;
    left: 6px;
    height: 10px;
    width: 6px;
  }
`,L3=Ii("div")`
  position: absolute;
`,I3=Ii("div")`
  position: relative;
  display: flex;
  justify-content: center;
  align-items: center;
  min-width: 20px;
  min-height: 20px;
`,O3=si`
from {
  transform: scale(0.6);
  opacity: 0.4;
}
to {
  transform: scale(1);
  opacity: 1;
}`,j3=Ii("div")`
  position: relative;
  transform: scale(0.6);
  opacity: 0.4;
  min-width: 20px;
  animation: ${O3} 0.3s 0.12s cubic-bezier(0.175, 0.885, 0.32, 1.275)
    forwards;
`,B3=({toast:n})=>{let{icon:e,type:t,iconTheme:s}=n;return e!==void 0?typeof e=="string"?F.createElement(j3,null,e):e:t==="blank"?null:F.createElement(I3,null,F.createElement(R3,{...s}),t!=="loading"&&F.createElement(L3,null,t==="error"?F.createElement(P3,{...s}):F.createElement(D3,{...s})))},z3=n=>`
0% {transform: translate3d(0,${n*-200}%,0) scale(.6); opacity:.5;}
100% {transform: translate3d(0,0,0) scale(1); opacity:1;}
`,$3=n=>`
0% {transform: translate3d(0,0,-1px) scale(1); opacity:1;}
100% {transform: translate3d(0,${n*-150}%,-1px) scale(.6); opacity:0;}
`,V3="0%{opacity:0;} 100%{opacity:1;}",U3="0%{opacity:1;} 100%{opacity:0;}",H3=Ii("div")`
  display: flex;
  align-items: center;
  background: #fff;
  color: #363636;
  line-height: 1.3;
  will-change: transform;
  box-shadow: 0 3px 10px rgba(0, 0, 0, 0.1), 0 3px 3px rgba(0, 0, 0, 0.05);
  max-width: 350px;
  pointer-events: auto;
  padding: 8px 10px;
  border-radius: 8px;
`,W3=Ii("div")`
  display: flex;
  justify-content: center;
  margin: 4px 10px;
  color: inherit;
  flex: 1 1 auto;
  white-space: pre-line;
`,G3=(n,e)=>{let t=n.includes("top")?1:-1,[s,i]=NS()?[V3,U3]:[z3(t),$3(t)];return{animation:e?`${si(s)} 0.35s cubic-bezier(.21,1.02,.73,1) forwards`:`${si(i)} 0.4s forwards cubic-bezier(.06,.71,.55,1)`}},q3=F.memo(({toast:n,position:e,style:t,children:s})=>{let i=n.height?G3(n.position||e||"top-center",n.visible):{opacity:0},r=F.createElement(B3,{toast:n}),o=F.createElement(W3,{...n.ariaProps},Cu(n.message,n));return F.createElement(H3,{className:n.className,style:{...i,...t,...n.style}},typeof s=="function"?s({icon:r,message:o}):F.createElement(F.Fragment,null,r,o))});g3(F.createElement);var K3=({id:n,className:e,style:t,onHeightUpdate:s,children:i})=>{let r=F.useCallback(o=>{if(o){let c=()=>{let u=o.getBoundingClientRect().height;s(n,u)};c(),new MutationObserver(c).observe(o,{subtree:!0,childList:!0,characterData:!0})}},[n,s]);return F.createElement("div",{ref:r,className:e,style:t},i)},X3=(n,e)=>{let t=n.includes("top"),s=t?{top:0}:{bottom:0},i=n.includes("center")?{justifyContent:"center"}:n.includes("right")?{justifyContent:"flex-end"}:{};return{left:0,right:0,display:"flex",position:"absolute",transition:NS()?void 0:"all 230ms cubic-bezier(.21,1.02,.73,1)",transform:`translateY(${e*(t?1:-1)}px)`,...s,...i}},Z3=Qu`
  z-index: 9999;
  > * {
    pointer-events: auto;
  }
`,Vc=16,Y3=({reverseOrder:n,position:e="top-center",toastOptions:t,gutter:s,children:i,toasterId:r,containerStyle:o,containerClassName:c})=>{let{toasts:u,handlers:h}=_3(t,r);return F.createElement("div",{"data-rht-toaster":r||"",style:{position:"fixed",zIndex:9999,top:Vc,left:Vc,right:Vc,bottom:Vc,pointerEvents:"none",...o},className:c,onMouseEnter:h.startPause,onMouseLeave:h.endPause},u.map(f=>{let p=f.position||e,g=h.calculateOffset(f,{reverseOrder:n,gutter:s,defaultPosition:e}),w=X3(p,g);return F.createElement(K3,{id:f.id,key:f.id,onHeightUpdate:h.updateHeight,className:f.visible?Z3:"",style:w},f.type==="custom"?Cu(f.message,f):i?i(f):F.createElement(q3,{toast:f,position:p}))}))};const Km=()=>{const n=wo(o=>o.setUser),e=wo(o=>o.logout),t=Os(),s=$f({mutationFn:o=>a3(o),onSuccess:({access_token:o})=>{localStorage.setItem("token",o),Qe.success("Logged in successfully!"),t("/dashboard")},onError:o=>{Qe.error(o.response?.data?.message||"Login failed")}}),i=$f({mutationFn:o=>l3(o),onSuccess:({access_token:o})=>{localStorage.setItem("token",o),Qe.success("Account created successfully!"),t("/login")},onError:o=>{Qe.error(o.response?.data?.message||"Registration failed")}}),r=Du({queryKey:["auth","me"],queryFn:async()=>{try{const o=await c3();return n(o),o}catch(o){throw localStorage.removeItem("token"),e(),Qe.error("Session expired. Please login again."),o}},enabled:!!localStorage.getItem("token"),staleTime:1e3*60*5,retry:!1});return{login:s,register:i,me:r}},Q3=nS({email:oo().email("Invalid email address"),password:oo().min(6,"Password must be at least 6 characters")});function J3(){const n=Os(),{login:e}=Km(),[t,s]=F.useState(!1),{register:i,handleSubmit:r,formState:{errors:o,isSubmitting:c}}=Im({resolver:rS(Q3)}),u=h=>{e.mutate(h)};return y.jsxs("div",{className:"min-h-screen flex items-center justify-center px-4 py-20 bg-[#0F172A] relative overflow-hidden",children:[y.jsxs("div",{className:"absolute inset-0 overflow-hidden",children:[y.jsx(we.div,{className:"absolute top-1/4 left-1/4 w-96 h-96 bg-[#0B67FF]/20 rounded-full blur-3xl",animate:{x:[0,50,0],y:[0,30,0],scale:[1,1.2,1]},transition:{duration:8,repeat:1/0,ease:"easeInOut"}}),y.jsx(we.div,{className:"absolute bottom-1/4 right-1/4 w-96 h-96 bg-[#06B6D4]/20 rounded-full blur-3xl",animate:{x:[0,-50,0],y:[0,-30,0],scale:[1,1.2,1]},transition:{duration:10,repeat:1/0,ease:"easeInOut"}})]}),y.jsx(we.div,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},className:"w-full max-w-md relative z-10",children:y.jsxs("div",{className:"bg-[#1E293B] rounded-2xl p-8 shadow-2xl shadow-[#0B67FF]/10 border border-[#0B67FF]/20",children:[y.jsxs("div",{className:"text-center mb-8",children:[y.jsx(we.div,{className:"inline-flex items-center justify-center w-16 h-16 bg-[#0B67FF]/20 rounded-2xl mb-4",whileHover:{rotate:5,scale:1.1},children:y.jsx(Js,{size:32,className:"text-[#0B67FF]"})}),y.jsx("h2",{className:"mb-2",children:"Welcome Back"}),y.jsx("p",{className:"text-[#6B7280]",children:"Sign in to your account to continue"})]}),y.jsxs("form",{onSubmit:r(u),className:"space-y-5",children:[y.jsxs("div",{children:[y.jsx("label",{htmlFor:"email",className:"block text-[#F8FAFC] mb-2",children:"Email Address"}),y.jsxs("div",{className:"relative",children:[y.jsx(Tm,{size:20,className:"absolute left-4 top-1/2 -translate-y-1/2 text-[#6B7280]"}),y.jsx("input",{type:"email",id:"email",placeholder:"you@example.com",...i("email"),className:`w-full pl-12 pr-4 py-3 bg-[#0F172A] border rounded-lg text-[#F8FAFC] placeholder:text-[#6B7280] focus:outline-none transition-colors ${o.email?"border-red-500":"border-[#0B67FF]/30 focus:border-[#0B67FF]"}`})]}),o.email&&y.jsx("p",{className:"text-red-500 text-sm mt-1",children:o.email.message})]}),y.jsxs("div",{children:[y.jsx("label",{htmlFor:"password",className:"block text-[#F8FAFC] mb-2",children:"Password"}),y.jsxs("div",{className:"relative",children:[y.jsx(fp,{size:20,className:"absolute left-4 top-1/2 -translate-y-1/2 text-[#6B7280]"}),y.jsx("input",{type:t?"text":"password",id:"password",placeholder:"Enter your password",...i("password"),className:`w-full pl-12 pr-12 py-3 bg-[#0F172A] border rounded-lg text-[#F8FAFC] placeholder:text-[#6B7280] focus:outline-none transition-colors ${o.password?"border-red-500":"border-[#0B67FF]/30 focus:border-[#0B67FF]"}`}),y.jsx("button",{type:"button",onClick:()=>s(h=>!h),className:"absolute right-3 top-1/2 -translate-y-1/2 text-[#6B7280] hover:text-[#9CA3AF] transition-colors",children:t?y.jsx(hp,{size:20}):y.jsx(dp,{size:20})})]}),o.password&&y.jsx("p",{className:"text-red-500 text-sm mt-1",children:o.password.message})]}),y.jsxs("div",{className:"flex items-center justify-between",children:[y.jsxs("label",{className:"flex items-center gap-2 cursor-pointer",children:[y.jsx("input",{type:"checkbox",className:"w-4 h-4 bg-[#0F172A] border border-[#0B67FF]/30 rounded accent-[#0B67FF]"}),y.jsx("span",{className:"text-[#6B7280]",children:"Remember me"})]}),y.jsx("a",{href:"#",className:"text-[#0B67FF] hover:text-[#0952CC] transition-colors",children:"Forgot password?"})]}),y.jsxs(zn,{variant:"primary",className:"w-full",children:[c?"Signing in...":"Sign In"," ",y.jsx(ju,{size:20,className:"inline ml-2"})]})]}),y.jsxs("p",{className:"text-center text-[#6B7280] mt-8",children:["Don't have an account?"," ",y.jsx("button",{onClick:()=>n("/register"),className:"text-[#0B67FF] hover:text-[#0952CC] transition-colors",children:"Sign up"})]})]})})]})}const e4=nS({fullName:oo().min(3,"Full name must be at least 3 characters"),email:oo().email("Invalid email format"),password:oo().min(6,"Password must be at least 6 characters"),confirmPassword:oo()}).refine(n=>n.password===n.confirmPassword,{message:"Passwords do not match",path:["confirmPassword"]});function t4(){const n=Os(),{register:e}=Km(),[t,s]=F.useState(!1),[i,r]=F.useState(!1),{register:o,handleSubmit:c,formState:{errors:u}}=Im({resolver:rS(e4)}),h=f=>{e.mutate({name:f.fullName,email:f.email,password:f.password})};return y.jsxs("div",{className:"min-h-screen flex items-center justify-center px-4 py-20 bg-[#0F172A] relative overflow-hidden",children:[y.jsxs("div",{className:"absolute inset-0 overflow-hidden",children:[y.jsx(we.div,{className:"absolute top-1/4 left-1/4 w-96 h-96 bg-[#0B67FF]/20 rounded-full blur-3xl",animate:{x:[0,50,0],y:[0,30,0],scale:[1,1.2,1]},transition:{duration:8,repeat:1/0,ease:"easeInOut"}}),y.jsx(we.div,{className:"absolute bottom-1/4 right-1/4 w-96 h-96 bg-[#06B6D4]/20 rounded-full blur-3xl",animate:{x:[0,-50,0],y:[0,-30,0],scale:[1,1.2,1]},transition:{duration:10,repeat:1/0,ease:"easeInOut"}})]}),y.jsx(we.div,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},className:"w-full max-w-md relative z-10",children:y.jsxs("div",{className:"bg-[#1E293B] rounded-2xl p-8 shadow-2xl border border-[#0B67FF]/20",children:[y.jsxs("div",{className:"text-center mb-8",children:[y.jsx(we.div,{className:"inline-flex items-center justify-center w-16 h-16 bg-[#0B67FF]/20 rounded-2xl mb-4",whileHover:{rotate:5,scale:1.1},children:y.jsx(Js,{size:32,className:"text-[#0B67FF]"})}),y.jsx("h2",{className:"mb-2",children:"Create Account"}),y.jsx("p",{className:"text-[#6B7280]",children:"Get started with your free account"})]}),y.jsxs("form",{onSubmit:c(h),className:"space-y-5",children:[y.jsxs("div",{children:[y.jsx("label",{className:"block text-[#F8FAFC] mb-1",children:"Full Name"}),y.jsxs("div",{className:"relative",children:[y.jsx(RA,{className:"absolute left-4 top-1/2 -translate-y-1/2 text-[#6B7280]",size:20}),y.jsx("input",{...o("fullName"),placeholder:"John Doe",className:"w-full pl-12 pr-4 py-3 bg-[#0F172A] border border-[#0B67FF]/30 rounded-lg text-[#F8FAFC]"})]}),u.fullName&&y.jsx("p",{className:"text-red-400 text-sm mt-1",children:u.fullName.message})]}),y.jsxs("div",{children:[y.jsx("label",{className:"block text-[#F8FAFC] mb-1",children:"Email"}),y.jsxs("div",{className:"relative",children:[y.jsx(Tm,{className:"absolute left-4 top-1/2 -translate-y-1/2 text-[#6B7280]",size:20}),y.jsx("input",{...o("email"),placeholder:"you@example.com",className:"w-full pl-12 pr-4 py-3 bg-[#0F172A] border border-[#0B67FF]/30 rounded-lg text-[#F8FAFC]"})]}),u.email&&y.jsx("p",{className:"text-red-400 text-sm mt-1",children:u.email.message})]}),y.jsxs("div",{children:[y.jsx("label",{className:"block text-[#F8FAFC] mb-1",children:"Password"}),y.jsxs("div",{className:"relative",children:[y.jsx(fp,{className:"absolute left-4 top-1/2 -translate-y-1/2 text-[#6B7280]",size:20}),y.jsx("input",{...o("password"),type:t?"text":"password",placeholder:"Create a strong password",className:"w-full pl-12 pr-12 py-3 bg-[#0F172A] border border-[#0B67FF]/30 rounded-lg text-[#F8FAFC]"}),y.jsx("button",{type:"button",onClick:()=>s(f=>!f),className:"absolute right-3 top-1/2 -translate-y-1/2 text-[#6B7280] hover:text-[#9CA3AF] transition-colors",children:t?y.jsx(hp,{size:20}):y.jsx(dp,{size:20})})]}),u.password&&y.jsx("p",{className:"text-red-400 text-sm mt-1",children:u.password.message})]}),y.jsxs("div",{children:[y.jsx("label",{className:"block text-[#F8FAFC] mb-1",children:"Confirm Password"}),y.jsxs("div",{className:"relative",children:[y.jsx(fp,{className:"absolute left-4 top-1/2 -translate-y-1/2 text-[#6B7280]",size:20}),y.jsx("input",{...o("confirmPassword"),type:i?"text":"password",placeholder:"Re-enter password",className:"w-full pl-12 pr-12 py-3 bg-[#0F172A] border border-[#0B67FF]/30 rounded-lg text-[#F8FAFC]"}),y.jsx("button",{type:"button",onClick:()=>r(f=>!f),className:"absolute right-3 top-1/2 -translate-y-1/2 text-[#6B7280] hover:text-[#9CA3AF] transition-colors",children:i?y.jsx(hp,{size:20}):y.jsx(dp,{size:20})})]}),u.confirmPassword&&y.jsx("p",{className:"text-red-400 text-sm mt-1",children:u.confirmPassword.message})]}),y.jsxs(zn,{className:"w-full",variant:"primary",disabled:e.isPending,children:[e.isPending?"Creating...":"Create Account",y.jsx(ju,{className:"inline ml-2",size:20})]})]}),y.jsxs("p",{className:"text-center text-[#6B7280] mt-6",children:["Already have an account?"," ",y.jsx("button",{onClick:()=>n("/login"),className:"text-[#0B67FF] hover:text-[#0952CC]",children:"Sign in"})]})]})})]})}function n4({children:n}){const{me:e}=Km(),t=is();return!localStorage.getItem("token")?y.jsx(fv,{to:"/login",state:{from:t},replace:!0}):e.isLoading?y.jsx("div",{className:"min-h-screen flex items-center justify-center bg-[#0F172A] text-[#6B7280]",children:"Checking session..."}):e.isError?y.jsx(fv,{to:"/login",state:{from:t},replace:!0}):y.jsx(y.Fragment,{children:n})}const s4=[{id:1,action:"Downtown Office Complex approved",time:"2 hours ago",status:"success"},{id:2,action:"Riverside Residential Tower submitted",time:"5 hours ago",status:"info"},{id:3,action:"Tech Campus Expansion needs revision",time:"1 day ago",status:"warning"},{id:4,action:"Medical Center Renovation approved",time:"2 days ago",status:"success"}];function i4(){return y.jsxs("div",{className:"p-6",children:[y.jsxs("div",{className:"mb-8",children:[y.jsx("h2",{className:"mb-2",children:"Dashboard Overview"}),y.jsx("p",{className:"text-[#6B7280]",children:"Welcome back! Here's what's happening with your projects."})]}),y.jsx("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-4 gap-6 mb-8",children:[{label:"Total Projects",value:"24",change:"+12%",icon:PA,color:"#0B67FF"},{label:"Avg. Compliance",value:"87%",change:"+5%",icon:CA,color:"#10B981"},{label:"Processing Time",value:"45s",change:"-23%",icon:up,color:"#06B6D4"},{label:"Active Issues",value:"8",change:"-15%",icon:Pm,color:"#F97316"}].map((n,e)=>{const t=n.icon;return y.jsx(we.div,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},transition:{delay:e*.1},children:y.jsxs(kt,{hoverable:!1,children:[y.jsxs("div",{className:"flex items-center justify-between mb-4",children:[y.jsx("p",{className:"text-[#6B7280]",children:n.label}),y.jsx("div",{className:"w-10 h-10 rounded-lg flex items-center justify-center",style:{backgroundColor:`${n.color}20`},children:y.jsx(t,{size:20,style:{color:n.color}})})]}),y.jsx("h2",{className:"mb-2",children:n.value}),y.jsxs("p",{className:"text-[#10B981]",children:[n.change," from last month"]})]})},e)})}),y.jsxs("div",{className:"grid lg:grid-cols-2 gap-6",children:[y.jsx(we.div,{initial:{opacity:0,x:-20},animate:{opacity:1,x:0},children:y.jsxs(kt,{hoverable:!1,children:[y.jsx("h3",{className:"mb-4",children:"Recent Activity"}),y.jsx("div",{className:"space-y-4",children:s4.map((n,e)=>y.jsxs(we.div,{initial:{opacity:0,x:-20},animate:{opacity:1,x:0},transition:{delay:e*.1},className:"flex items-center gap-3 pb-4 border-b border-[#0B67FF]/10 last:border-0",children:[y.jsx("div",{className:`w-2 h-2 rounded-full ${n.status==="success"?"bg-[#10B981]":n.status==="warning"?"bg-[#F97316]":"bg-[#06B6D4]"}`}),y.jsxs("div",{className:"flex-1",children:[y.jsx("p",{className:"text-[#F8FAFC]",children:n.action}),y.jsx("small",{className:"text-[#6B7280]",children:n.time})]})]},n.id))})]})}),y.jsx(we.div,{initial:{opacity:0,x:20},animate:{opacity:1,x:0},children:y.jsxs(kt,{hoverable:!1,children:[y.jsx("h3",{className:"mb-4",children:"Quick Actions"}),y.jsxs("div",{className:"space-y-3",children:[y.jsxs(we.button,{whileHover:{scale:1.02,x:4},className:"w-full p-4 bg-[#0B67FF]/10 hover:bg-[#0B67FF]/20 rounded-lg text-left transition-colors border border-[#0B67FF]/20",children:[y.jsx("p",{className:"text-[#0B67FF]",children:"+ Upload New Plans"}),y.jsx("small",{className:"text-[#6B7280]",children:"Start a new compliance check"})]}),y.jsxs(we.button,{whileHover:{scale:1.02,x:4},className:"w-full p-4 bg-[#06B6D4]/10 hover:bg-[#06B6D4]/20 rounded-lg text-left transition-colors border border-[#06B6D4]/20",children:[y.jsx("p",{className:"text-[#06B6D4]",children:"View All Reports"}),y.jsx("small",{className:"text-[#6B7280]",children:"Access compliance reports"})]}),y.jsxs(we.button,{whileHover:{scale:1.02,x:4},className:"w-full p-4 bg-[#F97316]/10 hover:bg-[#F97316]/20 rounded-lg text-left transition-colors border border-[#F97316]/20",children:[y.jsx("p",{className:"text-[#F97316]",children:"Manage Cities"}),y.jsx("small",{className:"text-[#6B7280]",children:"Update supported jurisdictions"})]})]})]})})]})]})}const r4=async()=>{const{data:n}=await Bs.get("/project/get");if(!Array.isArray(n))throw new Error("Invalid projects response from server");return n},o4=async n=>{const{data:e}=await Bs.post("/project/create",n);return e},jx=MA(n=>({projects:[],setProjects:e=>n({projects:e}),addProject:e=>n(t=>({projects:[e,...t.projects]}))})),OS=()=>{const n=jx(r=>r.setProjects),e=jx(r=>r.addProject),t=Mu(),s=Du({queryKey:["projects"],queryFn:async()=>{const r=await r4();return n(r),r},staleTime:1e3*60*5}),i=$f({mutationFn:o4,onSuccess:r=>{e(r),Qe.success("Project created successfully!"),t.invalidateQueries(["projects"])},onError:()=>Qe.error("Failed to create project")});return{projectsQuery:s,createProjectMutation:i}},a4=["North Bay Village","Miami","Miami Beach"],l4=["Residential - Single Family","Residential - Multi Family","Commercial - Office","Commercial - Retail","Commercial - Restaurant","Mixed Use","Industrial","Institutional"];function c4({isOpen:n,onClose:e}){const{createProjectMutation:t}=OS(),{register:s,handleSubmit:i,control:r,reset:o,formState:{errors:c}}=Im(),u=async h=>{t.mutate({applicant_name:h.applicant_name,location:h.location,building_type:h.building_type},{onSuccess:()=>{Qe.success("Project created successfully!"),o(),e()},onError:()=>{Qe.error("Failed to create project")}})};return n?y.jsxs(y.Fragment,{children:[y.jsx(we.div,{initial:{opacity:0},animate:{opacity:1},exit:{opacity:0},onClick:e,className:"fixed inset-0 bg-black/60 backdrop-blur-sm z-50"}),y.jsx("div",{className:"fixed inset-0 z-50 flex items-center justify-center p-4",children:y.jsxs(we.div,{initial:{opacity:0,scale:.95,y:20},animate:{opacity:1,scale:1,y:0},exit:{opacity:0,scale:.95,y:20},className:"bg-[#1E293B] rounded-2xl shadow-2xl max-w-2xl w-full max-h-[90vh] overflow-y-auto border border-[#0B67FF]/20",children:[y.jsxs("div",{className:"sticky top-0 bg-[#1E293B] border-b border-[#0B67FF]/20 px-6 py-4 flex items-center justify-between z-10",children:[y.jsxs("div",{className:"flex items-center gap-3",children:[y.jsx("div",{className:"w-10 h-10 bg-[#0B67FF]/20 rounded-lg flex items-center justify-center",children:y.jsx(Js,{size:20,className:"text-[#0B67FF]"})}),y.jsxs("div",{children:[y.jsx("h3",{children:"Create New Project"}),y.jsx("p",{className:"text-[#6B7280]",children:"Add a new architectural project"})]})]}),y.jsx(we.button,{whileHover:{scale:1.1,rotate:90},whileTap:{scale:.9},onClick:e,className:"text-[#6B7280] hover:text-[#F8FAFC] transition-colors",children:y.jsx(NA,{size:24})})]}),y.jsxs("form",{onSubmit:i(u),className:"p-6 space-y-5",children:[y.jsxs("div",{children:[y.jsxs("label",{htmlFor:"applicant_name",className:"block text-[#F8FAFC] mb-2",children:["Applicant Name ",y.jsx("span",{className:"text-[#EF4444]",children:"*"})]}),y.jsxs("div",{className:"relative",children:[y.jsx(RA,{size:20,className:"absolute left-4 top-1/2 -translate-y-1/2 text-[#6B7280]"}),y.jsx("input",{id:"applicant_name",...s("applicant_name",{required:!0}),placeholder:"e.g. John Smith",className:"w-full pl-12 pr-4 py-3 bg-[#0F172A] border border-[#0B67FF]/30 rounded-lg text-[#F8FAFC] placeholder:text-[#6B7280] focus:outline-none focus:border-[#0B67FF] transition-colors"})]}),c.applicant_name&&y.jsx("span",{className:"text-red-500",children:"This field is required"})]}),y.jsxs("div",{children:[y.jsxs("label",{htmlFor:"name",className:"block text-[#F8FAFC] mb-2",children:["Project Name ",y.jsx("span",{className:"text-[#EF4444]",children:"*"})]}),y.jsxs("div",{className:"relative",children:[y.jsx(Js,{size:20,className:"absolute left-4 top-1/2 -translate-y-1/2 text-[#6B7280]"}),y.jsx("input",{id:"name",...s("name",{required:!0}),placeholder:"e.g. Downtown Office Complex",className:"w-full pl-12 pr-4 py-3 bg-[#0F172A] border border-[#0B67FF]/30 rounded-lg text-[#F8FAFC] placeholder:text-[#6B7280] focus:outline-none focus:border-[#0B67FF] transition-colors"})]}),c.name&&y.jsx("span",{className:"text-red-500",children:"This field is required"})]}),y.jsxs("div",{children:[y.jsxs("label",{htmlFor:"city",className:"block text-[#F8FAFC] mb-2",children:["City ",y.jsx("span",{className:"text-[#EF4444]",children:"*"})]}),y.jsxs("div",{className:"relative",children:[y.jsx(qa,{size:20,className:"absolute left-4 top-1/2 -translate-y-1/2 text-[#6B7280]"}),y.jsxs("select",{id:"city",...s("city",{required:!0}),className:"w-full pl-12 pr-4 py-3 bg-[#0F172A] border border-[#0B67FF]/30 rounded-lg text-[#F8FAFC] focus:outline-none focus:border-[#0B67FF] transition-colors appearance-none",children:[y.jsx("option",{value:"",children:"Select city"}),a4.map(h=>y.jsx("option",{value:h,children:h},h))]})]}),c.city&&y.jsx("span",{className:"text-red-500",children:"This field is required"})]}),y.jsxs("div",{children:[y.jsxs("label",{htmlFor:"location",className:"block text-[#F8FAFC] mb-2",children:["Specific Location ",y.jsx("span",{className:"text-[#EF4444]",children:"*"})]}),y.jsxs("div",{className:"relative",children:[y.jsx(qa,{size:20,className:"absolute left-4 top-1/2 -translate-y-1/2 text-[#6B7280]"}),y.jsx("input",{id:"location",...s("location",{required:!0}),placeholder:"e.g. 123 Ocean Drive",className:"w-full pl-12 pr-4 py-3 bg-[#0F172A] border border-[#0B67FF]/30 rounded-lg text-[#F8FAFC] placeholder:text-[#6B7280] focus:outline-none focus:border-[#0B67FF] transition-colors"})]}),c.location&&y.jsx("span",{className:"text-red-500",children:"This field is required"})]}),y.jsxs("div",{children:[y.jsxs("label",{htmlFor:"building_type",className:"block text-[#F8FAFC] mb-2",children:["Building Type ",y.jsx("span",{className:"text-[#EF4444]",children:"*"})]}),y.jsxs("div",{className:"relative",children:[y.jsx(Js,{size:20,className:"absolute left-4 top-1/2 -translate-y-1/2 text-[#6B7280]"}),y.jsxs("select",{id:"building_type",...s("building_type",{required:!0}),className:"w-full pl-12 pr-4 py-3 bg-[#0F172A] border border-[#0B67FF]/30 rounded-lg text-[#F8FAFC] focus:outline-none focus:border-[#0B67FF] transition-colors appearance-none",children:[y.jsx("option",{value:"",children:"Select building type"}),l4.map(h=>y.jsx("option",{value:h,children:h},h))]})]}),c.building_type&&y.jsx("span",{className:"text-red-500",children:"This field is required"})]}),y.jsxs("div",{className:"flex items-center justify-end gap-3 pt-4 border-t border-[#0B67FF]/20",children:[y.jsx(we.button,{type:"button",onClick:e,whileHover:{scale:1.05},whileTap:{scale:.95},className:"px-6 py-3 text-[#6B7280] hover:text-[#F8FAFC] transition-colors",children:"Cancel"}),y.jsx(we.button,{type:"submit",whileHover:{scale:1.05},whileTap:{scale:.95},className:"px-6 py-3 bg-[#0B67FF] hover:bg-[#0952CC] text-white rounded-lg transition-colors",children:"Create Project"})]})]})]})})]}):null}const u4=async n=>{const e=new FormData;e.append("file",n.file);const t=new URLSearchParams({use_cache:(n.use_cache??!0).toString(),cache_ttl:(n.cache_ttl??3600).toString()}),{data:s}=await Bs.post(`/compliance/check/${n.projectId}?${t.toString()}`,e,{headers:{"Content-Type":"multipart/form-data"}});return s},h4=async n=>{try{const{data:e}=await Bs.get(`/compliance/record/${n}`);return e}catch(e){if(e?.response?.status===404)return[];throw e}},d4=async n=>{const{data:e}=await Bs.get(`/compliance/compliance-record/${n}`);return e};function f4(){const[n,e]=F.useState(!1),[t,s]=F.useState(null);return{runCompliance:async r=>{try{e(!0),s(null);const o=await u4(r),c=Bs.defaults.baseURL||"";let u=o.websocket_url;return u.startsWith("ws")||(c.startsWith("https")?u=c.replace(/^https/,"wss")+u:c.startsWith("http")&&(u=c.replace(/^http/,"ws")+u)),e(!1),{...o,websocket_url:u}}catch(o){throw s(o.message||"Something went wrong"),e(!1),o}},loading:n,error:t}}function p4(n){return Du({queryKey:["compliances",n],queryFn:()=>h4(n),enabled:!!n,staleTime:3e5})}function m4(n){return Du({queryKey:["complianceRecord",n],queryFn:()=>d4(n),enabled:!!n})}const g4="/assets/North%20Bay%20Village_%20FL%20Unified%20Land%20Development%20Code-CuCqv8Vc.pdf";function y4({projectId:n,projectName:e,onBack:t,onTaskStarted:s}){const[i,r]=F.useState("upload"),[o,c]=F.useState([]),[u,h]=F.useState(!1),[f,p]=F.useState(3600);console.log("projectId",n);const{runCompliance:g,loading:w,error:A}=f4(),x=async()=>{if(o.length===0)return;const S={projectId:Number(n),file:o[0],use_cache:u,cache_ttl:f};try{const E=await g(S);s&&s({taskId:E.task_id,websocketUrl:E.websocket_url}),Qe.success("Compliance created. Analysis in progress...")}catch(E){console.error(E),Qe.error("Failed to create compliance")}finally{t()}};return y.jsxs("div",{className:"h-full flex flex-col bg-[#0F172A] px-8 py-6",children:[y.jsxs("div",{className:"flex items-center gap-4",children:[y.jsx(we.button,{onClick:t,whileHover:{scale:1.05},whileTap:{scale:.95},className:"p-2 hover:bg-[#0B67FF]/10 rounded-lg transition-colors",children:y.jsx(wu,{size:20,className:"text-[#0B67FF]"})}),y.jsxs("div",{children:[y.jsx("h2",{className:"text-[#F8FAFC]",children:"New Compliance Check "}),y.jsx("p",{className:"text-[#6B7280]",children:e})]})]}),y.jsxs("div",{className:"flex-1 overflow-y-auto p-6",children:[y.jsx(v4,{selectedFiles:o,useCache:u,cacheTtl:f,onFileChange:S=>c(S.target.files?Array.from(S.target.files):[]),onRemoveFile:S=>c(E=>E.filter((_,k)=>k!==S)),onUseCacheChange:h,onCacheTtlChange:p,onSubmit:x,loading:w}),A&&y.jsxs("p",{className:"text-red-500 mt-4 text-center",children:["Error: ",A]})]})]})}function v4({selectedFiles:n,useCache:e,cacheTtl:t,onFileChange:s,onRemoveFile:i,onUseCacheChange:r,onCacheTtlChange:o,onSubmit:c,loading:u}){return y.jsx(we.div,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},exit:{opacity:0,y:-20},className:"max-w-3xl mx-auto",children:y.jsxs(kt,{className:"p-8",children:[y.jsx("h3",{className:"mb-6",children:"Upload Architectural Plans"}),y.jsxs("div",{className:"mb-6",children:[y.jsx("label",{className:"block mb-3 text-[#F8FAFC]",children:"Building Plans *"}),y.jsxs("label",{className:"border-2 border-dashed border-[#0B67FF]/30 rounded-lg p-8 flex flex-col items-center justify-center cursor-pointer hover:border-[#0B67FF]/50 transition-colors bg-[#0B67FF]/5",children:[y.jsx(FA,{size:48,className:"text-[#0B67FF] mb-4"}),y.jsx("p",{className:"text-[#F8FAFC] mb-2",children:"Drop files here or click to browse"}),y.jsx("p",{className:"text-[#6B7280]",children:"Supports PDF, DWG, DXF files up to 50MB"}),y.jsx("input",{type:"file",multiple:!0,accept:".pdf,.dwg,.dxf",onChange:s,className:"hidden"})]})]}),n.length>0&&y.jsxs("div",{className:"mb-6 space-y-2",children:[y.jsxs("label",{className:"block text-[#F8FAFC] mb-2",children:["Selected Files (",n.length,")"]}),n.map((h,f)=>y.jsxs(we.div,{initial:{opacity:0,x:-20},animate:{opacity:1,x:0},className:"flex items-center justify-between p-3 bg-[#1E293B] rounded-lg",children:[y.jsxs("div",{className:"flex items-center gap-3",children:[y.jsx(Ga,{size:20,className:"text-[#0B67FF]"}),y.jsxs("div",{children:[y.jsx("p",{className:"text-[#F8FAFC]",children:h.name}),y.jsxs("p",{className:"text-[#6B7280]",children:[(h.size/1024/1024).toFixed(2)," MB"]})]})]}),y.jsx("button",{onClick:()=>i(f),className:"p-1 hover:bg-[#0B67FF]/10 rounded transition-colors",children:y.jsx(NA,{size:18,className:"text-[#6B7280]"})})]},f))]}),y.jsxs("div",{className:"mb-6 p-4 bg-[#1E293B] rounded-lg",children:[y.jsxs("div",{className:"flex items-center gap-3 mb-4",children:[y.jsx("input",{type:"checkbox",id:"useCache",checked:e,onChange:h=>r(h.target.checked),className:"w-4 h-4"}),y.jsx("label",{htmlFor:"useCache",className:"text-[#F8FAFC] cursor-pointer",children:"Enable result caching (faster re-analysis)"})]}),e&&y.jsxs(we.div,{initial:{opacity:0,height:0},animate:{opacity:1,height:"auto"},children:[y.jsx("label",{className:"block mb-2 text-[#F8FAFC]",children:"Cache Duration (seconds)"}),y.jsx("input",{type:"number",value:t,onChange:h=>o(parseInt(h.target.value)),className:"w-full p-3 bg-[#0F172A] border border-[#0B67FF]/20 rounded-lg text-[#F8FAFC] focus:outline-none focus:border-[#0B67FF]",min:"60",max:"86400"})]})]}),y.jsxs(we.button,{onClick:c,disabled:n.length===0||u,whileHover:{scale:n.length>0&&!u?1.02:1},whileTap:{scale:n.length>0&&!u?.98:1},className:`w-full py-3 rounded-lg transition-all flex items-center justify-center gap-2 ${n.length>0&&!u?"bg-[#0B67FF] hover:bg-[#0952CC] text-white":"bg-[#1E293B] text-[#6B7280] cursor-not-allowed"}`,children:[u&&y.jsx(fM,{className:"h-4 w-4 animate-spin"}),u?"Creating compliance...":"Start AI Compliance Check"]})]})})}const mn=typeof process=="object"&&process+""=="[object process]"&&!process.versions.nw&&!(process.versions.electron&&process.type&&process.type!=="browser"),Cp=[.001,0,0,.001,0,0],Ef=1.35,In={ANY:1,DISPLAY:2,PRINT:4,ANNOTATIONS_FORMS:16,ANNOTATIONS_STORAGE:32,ANNOTATIONS_DISABLE:64,IS_EDITING:128,OPLIST:256},Ms={DISABLE:0,ENABLE:1,ENABLE_FORMS:2,ENABLE_STORAGE:3},Za="pdfjs_internal_editor_",Ie={DISABLE:-1,NONE:0,FREETEXT:3,HIGHLIGHT:9,STAMP:13,INK:15,POPUP:16,SIGNATURE:101,COMMENT:102},Ge={RESIZE:1,CREATE:2,FREETEXT_SIZE:11,FREETEXT_COLOR:12,FREETEXT_OPACITY:13,INK_COLOR:21,INK_THICKNESS:22,INK_OPACITY:23,HIGHLIGHT_COLOR:31,HIGHLIGHT_THICKNESS:32,HIGHLIGHT_FREE:33,HIGHLIGHT_SHOW_ALL:34,DRAW_STEP:41},jS={PRINT:4,MODIFY_CONTENTS:8,COPY:16,MODIFY_ANNOTATIONS:32,FILL_INTERACTIVE_FORMS:256,COPY_FOR_ACCESSIBILITY:512,ASSEMBLE:1024,PRINT_HIGH_QUALITY:2048},Yt={FILL:0,STROKE:1,FILL_STROKE:2,INVISIBLE:3,FILL_STROKE_MASK:3,ADD_TO_PATH_FLAG:4},Ia={GRAYSCALE_1BPP:1,RGB_24BPP:2,RGBA_32BPP:3},_t={TEXT:1,LINK:2,FREETEXT:3,LINE:4,SQUARE:5,CIRCLE:6,POLYGON:7,POLYLINE:8,HIGHLIGHT:9,UNDERLINE:10,SQUIGGLY:11,STRIKEOUT:12,STAMP:13,CARET:14,INK:15,POPUP:16,FILEATTACHMENT:17,SOUND:18,MOVIE:19,WIDGET:20,SCREEN:21,PRINTERMARK:22,TRAPNET:23,WATERMARK:24,THREED:25,REDACT:26},Qr={SOLID:1,DASHED:2,BEVELED:3,INSET:4,UNDERLINE:5},pl={ERRORS:0,WARNINGS:1,INFOS:5},bo={dependency:1,setLineWidth:2,setLineCap:3,setLineJoin:4,setMiterLimit:5,setDash:6,setRenderingIntent:7,setFlatness:8,setGState:9,save:10,restore:11,transform:12,moveTo:13,lineTo:14,curveTo:15,curveTo2:16,curveTo3:17,closePath:18,rectangle:19,stroke:20,closeStroke:21,fill:22,eoFill:23,fillStroke:24,eoFillStroke:25,closeFillStroke:26,closeEOFillStroke:27,endPath:28,clip:29,eoClip:30,beginText:31,endText:32,setCharSpacing:33,setWordSpacing:34,setHScale:35,setLeading:36,setFont:37,setTextRenderingMode:38,setTextRise:39,moveText:40,setLeadingMoveText:41,setTextMatrix:42,nextLine:43,showText:44,showSpacedText:45,nextLineShowText:46,nextLineSetSpacingShowText:47,setCharWidth:48,setCharWidthAndBounds:49,setStrokeColorSpace:50,setFillColorSpace:51,setStrokeColor:52,setStrokeColorN:53,setFillColor:54,setFillColorN:55,setStrokeGray:56,setFillGray:57,setStrokeRGBColor:58,setFillRGBColor:59,setStrokeCMYKColor:60,setFillCMYKColor:61,shadingFill:62,beginInlineImage:63,beginImageData:64,endInlineImage:65,paintXObject:66,markPoint:67,markPointProps:68,beginMarkedContent:69,beginMarkedContentProps:70,endMarkedContent:71,beginCompat:72,endCompat:73,paintFormXObjectBegin:74,paintFormXObjectEnd:75,beginGroup:76,endGroup:77,beginAnnotation:80,endAnnotation:81,paintImageMaskXObject:83,paintImageMaskXObjectGroup:84,paintImageXObject:85,paintInlineImageXObject:86,paintInlineImageXObjectGroup:87,paintImageXObjectRepeat:88,paintImageMaskXObjectRepeat:89,paintSolidColorImageMask:90,constructPath:91,setStrokeTransparent:92,setFillTransparent:93,rawFillPath:94},Uc={moveTo:0,lineTo:1,curveTo:2,closePath:3},BS={NEED_PASSWORD:1,INCORRECT_PASSWORD:2};let eh=pl.WARNINGS;function w4(n){Number.isInteger(n)&&(eh=n)}function x4(){return eh}function th(n){eh>=pl.INFOS&&console.info(`Info: ${n}`)}function Oe(n){eh>=pl.WARNINGS&&console.warn(`Warning: ${n}`)}function nt(n){throw new Error(n)}function qe(n,e){n||nt(e)}function b4(n){switch(n?.protocol){case"http:":case"https:":case"ftp:":case"mailto:":case"tel:":return!0;default:return!1}}function Xm(n,e=null,t=null){if(!n)return null;if(t&&typeof n=="string"&&(t.addDefaultProtocol&&n.startsWith("www.")&&n.match(/\./g)?.length>=2&&(n=`http://${n}`),t.tryConvertEncoding))try{n=C4(n)}catch{}const s=e?URL.parse(n,e):URL.parse(n);return b4(s)?s:null}function Zm(n,e,t=!1){const s=URL.parse(n);return s?(s.hash=e,s.href):t&&Xm(n,"http://example.com")?n.split("#",1)[0]+`${e?`#${e}`:""}`:""}function Ve(n,e,t,s=!1){return Object.defineProperty(n,e,{value:t,enumerable:!s,configurable:!0,writable:!1}),t}const wr=(function(){function e(t,s){this.message=t,this.name=s}return e.prototype=new Error,e.constructor=e,e})();class Bx extends wr{constructor(e,t){super(e,"PasswordException"),this.code=t}}class _f extends wr{constructor(e,t){super(e,"UnknownErrorException"),this.details=t}}class ku extends wr{constructor(e){super(e,"InvalidPDFException")}}class Ya extends wr{constructor(e,t,s){super(e,"ResponseException"),this.status=t,this.missing=s}}class A4 extends wr{constructor(e){super(e,"FormatError")}}class ii extends wr{constructor(e){super(e,"AbortException")}}function zS(n){(typeof n!="object"||n?.length===void 0)&&nt("Invalid argument for bytesToString");const e=n.length,t=8192;if(e<t)return String.fromCharCode.apply(null,n);const s=[];for(let i=0;i<e;i+=t){const r=Math.min(i+t,e),o=n.subarray(i,r);s.push(String.fromCharCode.apply(null,o))}return s.join("")}function ml(n){typeof n!="string"&&nt("Invalid argument for stringToBytes");const e=n.length,t=new Uint8Array(e);for(let s=0;s<e;++s)t[s]=n.charCodeAt(s)&255;return t}function S4(n){return String.fromCharCode(n>>24&255,n>>16&255,n>>8&255,n&255)}function E4(){const n=new Uint8Array(4);return n[0]=1,new Uint32Array(n.buffer,0,1)[0]===1}function _4(){try{return new Function(""),!0}catch{return!1}}class qt{static get isLittleEndian(){return Ve(this,"isLittleEndian",E4())}static get isEvalSupported(){return Ve(this,"isEvalSupported",_4())}static get isOffscreenCanvasSupported(){return Ve(this,"isOffscreenCanvasSupported",typeof OffscreenCanvas<"u")}static get isImageDecoderSupported(){return Ve(this,"isImageDecoderSupported",typeof ImageDecoder<"u")}static get platform(){const{platform:e,userAgent:t}=navigator;return Ve(this,"platform",{isAndroid:t.includes("Android"),isLinux:e.includes("Linux"),isMac:e.includes("Mac"),isWindows:e.includes("Win"),isFirefox:t.includes("Firefox")})}static get isCSSRoundSupported(){return Ve(this,"isCSSRoundSupported",globalThis.CSS?.supports?.("width: round(1.5px, 1px)"))}}const Cf=Array.from(Array(256).keys(),n=>n.toString(16).padStart(2,"0"));class ge{static makeHexColor(e,t,s){return`#${Cf[e]}${Cf[t]}${Cf[s]}`}static domMatrixToTransform(e){return[e.a,e.b,e.c,e.d,e.e,e.f]}static scaleMinMax(e,t){let s;e[0]?(e[0]<0&&(s=t[0],t[0]=t[2],t[2]=s),t[0]*=e[0],t[2]*=e[0],e[3]<0&&(s=t[1],t[1]=t[3],t[3]=s),t[1]*=e[3],t[3]*=e[3]):(s=t[0],t[0]=t[1],t[1]=s,s=t[2],t[2]=t[3],t[3]=s,e[1]<0&&(s=t[1],t[1]=t[3],t[3]=s),t[1]*=e[1],t[3]*=e[1],e[2]<0&&(s=t[0],t[0]=t[2],t[2]=s),t[0]*=e[2],t[2]*=e[2]),t[0]+=e[4],t[1]+=e[5],t[2]+=e[4],t[3]+=e[5]}static transform(e,t){return[e[0]*t[0]+e[2]*t[1],e[1]*t[0]+e[3]*t[1],e[0]*t[2]+e[2]*t[3],e[1]*t[2]+e[3]*t[3],e[0]*t[4]+e[2]*t[5]+e[4],e[1]*t[4]+e[3]*t[5]+e[5]]}static multiplyByDOMMatrix(e,t){return[e[0]*t.a+e[2]*t.b,e[1]*t.a+e[3]*t.b,e[0]*t.c+e[2]*t.d,e[1]*t.c+e[3]*t.d,e[0]*t.e+e[2]*t.f+e[4],e[1]*t.e+e[3]*t.f+e[5]]}static applyTransform(e,t,s=0){const i=e[s],r=e[s+1];e[s]=i*t[0]+r*t[2]+t[4],e[s+1]=i*t[1]+r*t[3]+t[5]}static applyTransformToBezier(e,t,s=0){const i=t[0],r=t[1],o=t[2],c=t[3],u=t[4],h=t[5];for(let f=0;f<6;f+=2){const p=e[s+f],g=e[s+f+1];e[s+f]=p*i+g*o+u,e[s+f+1]=p*r+g*c+h}}static applyInverseTransform(e,t){const s=e[0],i=e[1],r=t[0]*t[3]-t[1]*t[2];e[0]=(s*t[3]-i*t[2]+t[2]*t[5]-t[4]*t[3])/r,e[1]=(-s*t[1]+i*t[0]+t[4]*t[1]-t[5]*t[0])/r}static axialAlignedBoundingBox(e,t,s){const i=t[0],r=t[1],o=t[2],c=t[3],u=t[4],h=t[5],f=e[0],p=e[1],g=e[2],w=e[3];let A=i*f+u,x=A,S=i*g+u,E=S,_=c*p+h,k=_,T=c*w+h,P=T;if(r!==0||o!==0){const N=r*f,M=r*g,I=o*p,$=o*w;A+=I,E+=I,S+=$,x+=$,_+=N,P+=N,T+=M,k+=M}s[0]=Math.min(s[0],A,S,x,E),s[1]=Math.min(s[1],_,T,k,P),s[2]=Math.max(s[2],A,S,x,E),s[3]=Math.max(s[3],_,T,k,P)}static inverseTransform(e){const t=e[0]*e[3]-e[1]*e[2];return[e[3]/t,-e[1]/t,-e[2]/t,e[0]/t,(e[2]*e[5]-e[4]*e[3])/t,(e[4]*e[1]-e[5]*e[0])/t]}static singularValueDecompose2dScale(e,t){const s=e[0],i=e[1],r=e[2],o=e[3],c=s**2+i**2,u=s*r+i*o,h=r**2+o**2,f=(c+h)/2,p=Math.sqrt(f**2-(c*h-u**2));t[0]=Math.sqrt(f+p||1),t[1]=Math.sqrt(f-p||1)}static normalizeRect(e){const t=e.slice(0);return e[0]>e[2]&&(t[0]=e[2],t[2]=e[0]),e[1]>e[3]&&(t[1]=e[3],t[3]=e[1]),t}static intersect(e,t){const s=Math.max(Math.min(e[0],e[2]),Math.min(t[0],t[2])),i=Math.min(Math.max(e[0],e[2]),Math.max(t[0],t[2]));if(s>i)return null;const r=Math.max(Math.min(e[1],e[3]),Math.min(t[1],t[3])),o=Math.min(Math.max(e[1],e[3]),Math.max(t[1],t[3]));return r>o?null:[s,r,i,o]}static pointBoundingBox(e,t,s){s[0]=Math.min(s[0],e),s[1]=Math.min(s[1],t),s[2]=Math.max(s[2],e),s[3]=Math.max(s[3],t)}static rectBoundingBox(e,t,s,i,r){r[0]=Math.min(r[0],e,s),r[1]=Math.min(r[1],t,i),r[2]=Math.max(r[2],e,s),r[3]=Math.max(r[3],t,i)}static#e(e,t,s,i,r,o,c,u,h,f){if(h<=0||h>=1)return;const p=1-h,g=h*h,w=g*h,A=p*(p*(p*e+3*h*t)+3*g*s)+w*i,x=p*(p*(p*r+3*h*o)+3*g*c)+w*u;f[0]=Math.min(f[0],A),f[1]=Math.min(f[1],x),f[2]=Math.max(f[2],A),f[3]=Math.max(f[3],x)}static#t(e,t,s,i,r,o,c,u,h,f,p,g){if(Math.abs(h)<1e-12){Math.abs(f)>=1e-12&&this.#e(e,t,s,i,r,o,c,u,-p/f,g);return}const w=f**2-4*p*h;if(w<0)return;const A=Math.sqrt(w),x=2*h;this.#e(e,t,s,i,r,o,c,u,(-f+A)/x,g),this.#e(e,t,s,i,r,o,c,u,(-f-A)/x,g)}static bezierBoundingBox(e,t,s,i,r,o,c,u,h){h[0]=Math.min(h[0],e,c),h[1]=Math.min(h[1],t,u),h[2]=Math.max(h[2],e,c),h[3]=Math.max(h[3],t,u),this.#t(e,s,r,c,t,i,o,u,3*(-e+3*(s-r)+c),6*(e-2*s+r),3*(s-e),h),this.#t(e,s,r,c,t,i,o,u,3*(-t+3*(i-o)+u),6*(t-2*i+o),3*(i-t),h)}}function C4(n){return decodeURIComponent(escape(n))}let kf=null,zx=null;function $S(n){return kf||(kf=/([\u00a0\u00b5\u037e\u0eb3\u2000-\u200a\u202f\u2126\ufb00-\ufb04\ufb06\ufb20-\ufb36\ufb38-\ufb3c\ufb3e\ufb40-\ufb41\ufb43-\ufb44\ufb46-\ufba1\ufba4-\ufba9\ufbae-\ufbb1\ufbd3-\ufbdc\ufbde-\ufbe7\ufbea-\ufbf8\ufbfc-\ufbfd\ufc00-\ufc5d\ufc64-\ufcf1\ufcf5-\ufd3d\ufd88\ufdf4\ufdfa-\ufdfb\ufe71\ufe77\ufe79\ufe7b\ufe7d]+)|(\ufb05+)/gu,zx=new Map([["","t"]])),n.replaceAll(kf,(e,t,s)=>t?t.normalize("NFKC"):zx.get(s))}function Ym(){if(typeof crypto.randomUUID=="function")return crypto.randomUUID();const n=new Uint8Array(32);return crypto.getRandomValues(n),zS(n)}const Qm="pdfjs_internal_id_";function k4(n,e,t){if(!Array.isArray(t)||t.length<2)return!1;const[s,i,...r]=t;if(!n(s)&&!Number.isInteger(s)||!e(i))return!1;const o=r.length;let c=!0;switch(i.name){case"XYZ":if(o<2||o>3)return!1;break;case"Fit":case"FitB":return o===0;case"FitH":case"FitBH":case"FitV":case"FitBV":if(o>1)return!1;break;case"FitR":if(o!==4)return!1;c=!1;break;default:return!1}for(const u of r)if(!(typeof u=="number"||c&&u===null))return!1;return!0}function an(n,e,t){return Math.min(Math.max(n,e),t)}function VS(n){return Uint8Array.prototype.toBase64?n.toBase64():btoa(zS(n))}function T4(n){return Uint8Array.fromBase64?Uint8Array.fromBase64(n):ml(atob(n))}typeof Promise.try!="function"&&(Promise.try=function(n,...e){return new Promise(t=>{t(n(...e))})});typeof Math.sumPrecise!="function"&&(Math.sumPrecise=function(n){return n.reduce((e,t)=>e+t,0)});class Qa{static textContent(e){const t=[],s={items:t,styles:Object.create(null)};function i(r){if(!r)return;let o=null;const c=r.name;if(c==="#text")o=r.value;else if(Qa.shouldBuildText(c))r?.attributes?.textContent?o=r.attributes.textContent:r.value&&(o=r.value);else return;if(o!==null&&t.push({str:o}),!!r.children)for(const u of r.children)i(u)}return i(e),s}static shouldBuildText(e){return!(e==="textarea"||e==="input"||e==="option"||e==="select")}}class Jm{static setupStorage(e,t,s,i,r){const o=i.getValue(t,{value:null});switch(s.name){case"textarea":if(o.value!==null&&(e.textContent=o.value),r==="print")break;e.addEventListener("input",c=>{i.setValue(t,{value:c.target.value})});break;case"input":if(s.attributes.type==="radio"||s.attributes.type==="checkbox"){if(o.value===s.attributes.xfaOn?e.setAttribute("checked",!0):o.value===s.attributes.xfaOff&&e.removeAttribute("checked"),r==="print")break;e.addEventListener("change",c=>{i.setValue(t,{value:c.target.checked?c.target.getAttribute("xfaOn"):c.target.getAttribute("xfaOff")})})}else{if(o.value!==null&&e.setAttribute("value",o.value),r==="print")break;e.addEventListener("input",c=>{i.setValue(t,{value:c.target.value})})}break;case"select":if(o.value!==null){e.setAttribute("value",o.value);for(const c of s.children)c.attributes.value===o.value?c.attributes.selected=!0:c.attributes.hasOwnProperty("selected")&&delete c.attributes.selected}e.addEventListener("input",c=>{const u=c.target.options,h=u.selectedIndex===-1?"":u[u.selectedIndex].value;i.setValue(t,{value:h})});break}}static setAttributes({html:e,element:t,storage:s=null,intent:i,linkService:r}){const{attributes:o}=t,c=e instanceof HTMLAnchorElement;o.type==="radio"&&(o.name=`${o.name}-${i}`);for(const[u,h]of Object.entries(o))if(h!=null)switch(u){case"class":h.length&&e.setAttribute(u,h.join(" "));break;case"dataId":break;case"id":e.setAttribute("data-element-id",h);break;case"style":Object.assign(e.style,h);break;case"textContent":e.textContent=h;break;default:(!c||u!=="href"&&u!=="newWindow")&&e.setAttribute(u,h)}c&&r.addLinkAttributes(e,o.href,o.newWindow),s&&o.dataId&&this.setupStorage(e,o.dataId,t,s)}static render(e){const t=e.annotationStorage,s=e.linkService,i=e.xfaHtml,r=e.intent||"display",o=document.createElement(i.name);i.attributes&&this.setAttributes({html:o,element:i,intent:r,linkService:s});const c=r!=="richText",u=e.div;if(u.append(o),e.viewport){const p=`matrix(${e.viewport.transform.join(",")})`;u.style.transform=p}c&&u.setAttribute("class","xfaLayer xfaFont");const h=[];if(i.children.length===0){if(i.value){const p=document.createTextNode(i.value);o.append(p),c&&Qa.shouldBuildText(i.name)&&h.push(p)}return{textDivs:h}}const f=[[i,-1,o]];for(;f.length>0;){const[p,g,w]=f.at(-1);if(g+1===p.children.length){f.pop();continue}const A=p.children[++f.at(-1)[1]];if(A===null)continue;const{name:x}=A;if(x==="#text"){const E=document.createTextNode(A.value);h.push(E),w.append(E);continue}const S=A?.attributes?.xmlns?document.createElementNS(A.attributes.xmlns,x):document.createElement(x);if(w.append(S),A.attributes&&this.setAttributes({html:S,element:A,storage:t,intent:r,linkService:s}),A.children?.length>0)f.push([A,-1,S]);else if(A.value){const E=document.createTextNode(A.value);c&&Qa.shouldBuildText(x)&&h.push(E),S.append(E)}}for(const p of u.querySelectorAll(".xfaNonInteractive input, .xfaNonInteractive textarea"))p.setAttribute("readOnly",!0);return{textDivs:h}}static update(e){const t=`matrix(${e.viewport.transform.join(",")})`;e.div.style.transform=t,e.div.hidden=!1}}const Ys="http://www.w3.org/2000/svg";class pr{static CSS=96;static PDF=72;static PDF_TO_CSS_UNITS=this.CSS/this.PDF}async function Mo(n,e="text"){if(Ta(n,document.baseURI)){const t=await fetch(n);if(!t.ok)throw new Error(t.statusText);switch(e){case"arraybuffer":return t.arrayBuffer();case"blob":return t.blob();case"json":return t.json()}return t.text()}return new Promise((t,s)=>{const i=new XMLHttpRequest;i.open("GET",n,!0),i.responseType=e,i.onreadystatechange=()=>{if(i.readyState===XMLHttpRequest.DONE){if(i.status===200||i.status===0){switch(e){case"arraybuffer":case"blob":case"json":t(i.response);return}t(i.responseText);return}s(new Error(i.statusText))}},i.send(null)})}class gl{constructor({viewBox:e,userUnit:t,scale:s,rotation:i,offsetX:r=0,offsetY:o=0,dontFlip:c=!1}){this.viewBox=e,this.userUnit=t,this.scale=s,this.rotation=i,this.offsetX=r,this.offsetY=o,s*=t;const u=(e[2]+e[0])/2,h=(e[3]+e[1])/2;let f,p,g,w;switch(i%=360,i<0&&(i+=360),i){case 180:f=-1,p=0,g=0,w=1;break;case 90:f=0,p=1,g=1,w=0;break;case 270:f=0,p=-1,g=-1,w=0;break;case 0:f=1,p=0,g=0,w=-1;break;default:throw new Error("PageViewport: Invalid rotation, must be a multiple of 90 degrees.")}c&&(g=-g,w=-w);let A,x,S,E;f===0?(A=Math.abs(h-e[1])*s+r,x=Math.abs(u-e[0])*s+o,S=(e[3]-e[1])*s,E=(e[2]-e[0])*s):(A=Math.abs(u-e[0])*s+r,x=Math.abs(h-e[1])*s+o,S=(e[2]-e[0])*s,E=(e[3]-e[1])*s),this.transform=[f*s,p*s,g*s,w*s,A-f*s*u-g*s*h,x-p*s*u-w*s*h],this.width=S,this.height=E}get rawDims(){const e=this.viewBox;return Ve(this,"rawDims",{pageWidth:e[2]-e[0],pageHeight:e[3]-e[1],pageX:e[0],pageY:e[1]})}clone({scale:e=this.scale,rotation:t=this.rotation,offsetX:s=this.offsetX,offsetY:i=this.offsetY,dontFlip:r=!1}={}){return new gl({viewBox:this.viewBox.slice(),userUnit:this.userUnit,scale:e,rotation:t,offsetX:s,offsetY:i,dontFlip:r})}convertToViewportPoint(e,t){const s=[e,t];return ge.applyTransform(s,this.transform),s}convertToViewportRectangle(e){const t=[e[0],e[1]];ge.applyTransform(t,this.transform);const s=[e[2],e[3]];return ge.applyTransform(s,this.transform),[t[0],t[1],s[0],s[1]]}convertToPdfPoint(e,t){const s=[e,t];return ge.applyInverseTransform(s,this.transform),s}}class nh extends wr{constructor(e,t=0){super(e,"RenderingCancelledException"),this.extraDelay=t}}function yl(n){const e=n.length;let t=0;for(;t<e&&n[t].trim()==="";)t++;return n.substring(t,t+5).toLowerCase()==="data:"}function sh(n){return typeof n=="string"&&/\.pdf$/i.test(n)}function US(n){return[n]=n.split(/[#?]/,1),n.substring(n.lastIndexOf("/")+1)}function HS(n,e="document.pdf"){if(typeof n!="string")return e;if(yl(n))return Oe('getPdfFilenameFromUrl: ignore "data:"-URL for performance reasons.'),e;const s=(c=>{try{return new URL(c)}catch{try{return new URL(decodeURIComponent(c))}catch{try{return new URL(c,"https://foo.bar")}catch{try{return new URL(decodeURIComponent(c),"https://foo.bar")}catch{return null}}}}})(n);if(!s)return e;const i=c=>{try{let u=decodeURIComponent(c);return u.includes("/")?(u=u.split("/").at(-1),u.test(/^\.pdf$/i)?u:c):u}catch{return c}},r=/\.pdf$/i,o=s.pathname.split("/").at(-1);if(r.test(o))return i(o);if(s.searchParams.size>0){const c=Array.from(s.searchParams.values()).reverse();for(const h of c)if(r.test(h))return i(h);const u=Array.from(s.searchParams.keys()).reverse();for(const h of u)if(r.test(h))return i(h)}if(s.hash){const u=/[^/?#=]+\.pdf\b(?!.*\.pdf\b)/i.exec(s.hash);if(u)return i(u[0])}return e}class $x{started=Object.create(null);times=[];time(e){e in this.started&&Oe(`Timer is already running for ${e}`),this.started[e]=Date.now()}timeEnd(e){e in this.started||Oe(`Timer has not been started for ${e}`),this.times.push({name:e,start:this.started[e],end:Date.now()}),delete this.started[e]}toString(){const e=[];let t=0;for(const{name:s}of this.times)t=Math.max(s.length,t);for(const{name:s,start:i,end:r}of this.times)e.push(`${s.padEnd(t)} ${r-i}ms
`);return e.join("")}}function Ta(n,e){const t=e?URL.parse(n,e):URL.parse(n);return t?.protocol==="http:"||t?.protocol==="https:"}function $n(n){n.preventDefault()}function yt(n){n.preventDefault(),n.stopPropagation()}function P4(n){console.log("Deprecated API usage: "+n)}class Tu{static#e;static toDateObject(e){if(e instanceof Date)return e;if(!e||typeof e!="string")return null;this.#e||=new RegExp("^D:(\\d{4})(\\d{2})?(\\d{2})?(\\d{2})?(\\d{2})?(\\d{2})?([Z|+|-])?(\\d{2})?'?(\\d{2})?'?");const t=this.#e.exec(e);if(!t)return null;const s=parseInt(t[1],10);let i=parseInt(t[2],10);i=i>=1&&i<=12?i-1:0;let r=parseInt(t[3],10);r=r>=1&&r<=31?r:1;let o=parseInt(t[4],10);o=o>=0&&o<=23?o:0;let c=parseInt(t[5],10);c=c>=0&&c<=59?c:0;let u=parseInt(t[6],10);u=u>=0&&u<=59?u:0;const h=t[7]||"Z";let f=parseInt(t[8],10);f=f>=0&&f<=23?f:0;let p=parseInt(t[9],10)||0;return p=p>=0&&p<=59?p:0,h==="-"?(o+=f,c+=p):h==="+"&&(o-=f,c-=p),new Date(Date.UTC(s,i,r,o,c,u))}}function WS(n,{scale:e=1,rotation:t=0}){const{width:s,height:i}=n.attributes.style,r=[0,0,parseInt(s),parseInt(i)];return new gl({viewBox:r,userUnit:1,scale:e,rotation:t})}function Do(n){if(n.startsWith("#")){const e=parseInt(n.slice(1),16);return[(e&16711680)>>16,(e&65280)>>8,e&255]}return n.startsWith("rgb(")?n.slice(4,-1).split(",").map(e=>parseInt(e)):n.startsWith("rgba(")?n.slice(5,-1).split(",").map(e=>parseInt(e)).slice(0,3):(Oe(`Not a valid color format: "${n}"`),[0,0,0])}function F4(n){const e=document.createElement("span");e.style.visibility="hidden",e.style.colorScheme="only light",document.body.append(e);for(const t of n.keys()){e.style.color=t;const s=window.getComputedStyle(e).color;n.set(t,Do(s))}e.remove()}function gt(n){const{a:e,b:t,c:s,d:i,e:r,f:o}=n.getTransform();return[e,t,s,i,r,o]}function ks(n){const{a:e,b:t,c:s,d:i,e:r,f:o}=n.getTransform().invertSelf();return[e,t,s,i,r,o]}function Mi(n,e,t=!1,s=!0){if(e instanceof gl){const{pageWidth:i,pageHeight:r}=e.rawDims,{style:o}=n,c=qt.isCSSRoundSupported,u=`var(--total-scale-factor) * ${i}px`,h=`var(--total-scale-factor) * ${r}px`,f=c?`round(down, ${u}, var(--scale-round-x))`:`calc(${u})`,p=c?`round(down, ${h}, var(--scale-round-y))`:`calc(${h})`;!t||e.rotation%180===0?(o.width=f,o.height=p):(o.width=p,o.height=f)}s&&n.setAttribute("data-main-rotation",e.rotation)}class ys{constructor(){const{pixelRatio:e}=ys;this.sx=e,this.sy=e}get scaled(){return this.sx!==1||this.sy!==1}get symmetric(){return this.sx===this.sy}limitCanvas(e,t,s,i,r=-1){let o=1/0,c=1/0,u=1/0;s=ys.capPixels(s,r),s>0&&(o=Math.sqrt(s/(e*t))),i!==-1&&(c=i/e,u=i/t);const h=Math.min(o,c,u);return this.sx>h||this.sy>h?(this.sx=h,this.sy=h,!0):!1}static get pixelRatio(){return globalThis.devicePixelRatio||1}static capPixels(e,t){if(t>=0){const s=Math.ceil(window.screen.availWidth*window.screen.availHeight*this.pixelRatio**2*(1+t/100));return e>0?Math.min(e,s):s}return e}}const Pu=["image/apng","image/avif","image/bmp","image/gif","image/jpeg","image/png","image/svg+xml","image/webp","image/x-icon"];class R4{static get isDarkMode(){return Ve(this,"isDarkMode",!!window?.matchMedia?.("(prefers-color-scheme: dark)").matches)}}class GS{static get commentForegroundColor(){const e=document.createElement("span");e.classList.add("comment","sidebar");const{style:t}=e;t.width=t.height="0",t.display="none",t.color="var(--comment-fg-color)",document.body.append(e);const{color:s}=window.getComputedStyle(e);return e.remove(),Ve(this,"commentForegroundColor",Do(s))}}function qS(n,e,t,s){s=Math.min(Math.max(s??1,0),1);const i=255*(1-s);return n=Math.round(n*s+i),e=Math.round(e*s+i),t=Math.round(t*s+i),[n,e,t]}function Vx(n,e){const t=n[0]/255,s=n[1]/255,i=n[2]/255,r=Math.max(t,s,i),o=Math.min(t,s,i),c=(r+o)/2;if(r===o)e[0]=e[1]=0;else{const u=r-o;switch(e[1]=c<.5?u/(r+o):u/(2-r-o),r){case t:e[0]=((s-i)/u+(s<i?6:0))*60;break;case s:e[0]=((i-t)/u+2)*60;break;case i:e[0]=((t-s)/u+4)*60;break}}e[2]=c}function kp(n,e){const t=n[0],s=n[1],i=n[2],r=(1-Math.abs(2*i-1))*s,o=r*(1-Math.abs(t/60%2-1)),c=i-r/2;switch(Math.floor(t/60)){case 0:e[0]=r+c,e[1]=o+c,e[2]=c;break;case 1:e[0]=o+c,e[1]=r+c,e[2]=c;break;case 2:e[0]=c,e[1]=r+c,e[2]=o+c;break;case 3:e[0]=c,e[1]=o+c,e[2]=r+c;break;case 4:e[0]=o+c,e[1]=c,e[2]=r+c;break;case 5:case 6:e[0]=r+c,e[1]=c,e[2]=o+c;break}}function Ux(n){return n<=.03928?n/12.92:((n+.055)/1.055)**2.4}function Hx(n,e,t){kp(n,t),t.map(Ux);const s=.2126*t[0]+.7152*t[1]+.0722*t[2];kp(e,t),t.map(Ux);const i=.2126*t[0]+.7152*t[1]+.0722*t[2];return s>i?(s+.05)/(i+.05):(i+.05)/(s+.05)}const Wx=new Map;function KS(n,e){const t=n[0]+n[1]*256+n[2]*65536+e[0]*16777216+e[1]*4294967296+e[2]*1099511627776;let s=Wx.get(t);if(s)return s;const i=new Float32Array(9),r=i.subarray(0,3),o=i.subarray(3,6);Vx(n,o);const c=i.subarray(6,9);Vx(e,c);const u=c[2]<.5,h=u?12:4.5;if(o[2]=u?Math.sqrt(o[2]):1-Math.sqrt(1-o[2]),Hx(o,c,r)<h){let f,p;u?(f=o[2],p=1):(f=0,p=o[2]);const g=.005;for(;p-f>g;){const w=o[2]=(f+p)/2;u===Hx(o,c,r)<h?f=w:p=w}o[2]=u?p:f}return kp(o,r),s=ge.makeHexColor(Math.round(r[0]*255),Math.round(r[1]*255),Math.round(r[2]*255)),Wx.set(t,s),s}function eg({html:n,dir:e,className:t},s){const i=document.createDocumentFragment();if(typeof n=="string"){const r=document.createElement("p");r.dir=e||"auto";const o=n.split(/(?:\r\n?|\n)/);for(let c=0,u=o.length;c<u;++c){const h=o[c];r.append(document.createTextNode(h)),c<u-1&&r.append(document.createElement("br"))}i.append(r)}else Jm.render({xfaHtml:n,div:i,intent:"richText"});i.firstChild.classList.add("richText",t),s.append(i)}class Oa{#e=null;#t=null;#s;#n=null;#i=null;#r=null;#o=null;#a=null;static#c=null;constructor(e){this.#s=e,Oa.#c||=Object.freeze({freetext:"pdfjs-editor-remove-freetext-button",highlight:"pdfjs-editor-remove-highlight-button",ink:"pdfjs-editor-remove-ink-button",stamp:"pdfjs-editor-remove-stamp-button",signature:"pdfjs-editor-remove-signature-button"})}render(){const e=this.#e=document.createElement("div");e.classList.add("editToolbar","hidden"),e.setAttribute("role","toolbar");const t=this.#s._uiManager._signal;t instanceof AbortSignal&&!t.aborted&&(e.addEventListener("contextmenu",$n,{signal:t}),e.addEventListener("pointerdown",Oa.#l,{signal:t}));const s=this.#n=document.createElement("div");s.className="buttons",e.append(s);const i=this.#s.toolbarPosition;if(i){const{style:r}=e,o=this.#s._uiManager.direction==="ltr"?1-i[0]:i[0];r.insetInlineEnd=`${100*o}%`,r.top=`calc(${100*i[1]}% + var(--editor-toolbar-vert-offset))`}return e}get div(){return this.#e}static#l(e){e.stopPropagation()}#d(e){this.#s._focusEventsAllowed=!1,yt(e)}#h(e){this.#s._focusEventsAllowed=!0,yt(e)}#f(e){const t=this.#s._uiManager._signal;return!(t instanceof AbortSignal)||t.aborted?!1:(e.addEventListener("focusin",this.#d.bind(this),{capture:!0,signal:t}),e.addEventListener("focusout",this.#h.bind(this),{capture:!0,signal:t}),e.addEventListener("contextmenu",$n,{signal:t}),!0)}hide(){this.#e.classList.add("hidden"),this.#t?.hideDropdown()}show(){this.#e.classList.remove("hidden"),this.#i?.shown(),this.#r?.shown()}addDeleteButton(){const{editorType:e,_uiManager:t}=this.#s,s=document.createElement("button");s.classList.add("basic","deleteButton"),s.tabIndex=0,s.setAttribute("data-l10n-id",Oa.#c[e]),this.#f(s)&&s.addEventListener("click",i=>{t.delete()},{signal:t._signal}),this.#n.append(s)}get#g(){const e=document.createElement("div");return e.className="divider",e}async addAltText(e){const t=await e.render();this.#f(t),this.#n.append(t,this.#g),this.#i=e}addComment(e,t=null){if(this.#r)return;const s=e.renderForToolbar();if(!s)return;this.#f(s);const i=this.#o=this.#g;t?(this.#n.insertBefore(s,t),this.#n.insertBefore(i,t)):this.#n.append(s,i),this.#r=e,e.toolbar=this}addColorPicker(e){if(this.#t)return;this.#t=e;const t=e.renderButton();this.#f(t),this.#n.append(t,this.#g)}async addEditSignatureButton(e){const t=this.#a=await e.renderEditButton(this.#s);this.#f(t),this.#n.append(t,this.#g)}removeButton(e){switch(e){case"comment":this.#r?.removeToolbarCommentButton(),this.#r=null,this.#o?.remove(),this.#o=null;break}}async addButton(e,t){switch(e){case"colorPicker":this.addColorPicker(t);break;case"altText":await this.addAltText(t);break;case"editSignature":await this.addEditSignatureButton(t);break;case"delete":this.addDeleteButton();break;case"comment":this.addComment(t);break}}async addButtonBefore(e,t,s){const i=this.#n.querySelector(s);i&&e==="comment"&&this.addComment(t,i)}updateEditSignatureButton(e){this.#a&&(this.#a.title=e)}remove(){this.#e.remove(),this.#t?.destroy(),this.#t=null}}class N4{#e=null;#t=null;#s;constructor(e){this.#s=e}#n(){const e=this.#t=document.createElement("div");e.className="editToolbar",e.setAttribute("role","toolbar");const t=this.#s._signal;t instanceof AbortSignal&&!t.aborted&&e.addEventListener("contextmenu",$n,{signal:t});const s=this.#e=document.createElement("div");return s.className="buttons",e.append(s),this.#s.hasCommentManager()&&this.#r("commentButton","pdfjs-comment-floating-button","pdfjs-comment-floating-button-label",()=>{this.#s.commentSelection("floating_button")}),this.#r("highlightButton","pdfjs-highlight-floating-button1","pdfjs-highlight-floating-button-label",()=>{this.#s.highlightSelection("floating_button")}),e}#i(e,t){let s=0,i=0;for(const r of e){const o=r.y+r.height;if(o<s)continue;const c=r.x+(t?r.width:0);if(o>s){i=c,s=o;continue}t?c>i&&(i=c):c<i&&(i=c)}return[t?1-i:i,s]}show(e,t,s){const[i,r]=this.#i(t,s),{style:o}=this.#t||=this.#n();e.append(this.#t),o.insetInlineEnd=`${100*i}%`,o.top=`calc(${100*r}% + var(--editor-toolbar-vert-offset))`}hide(){this.#t.remove()}#r(e,t,s,i){const r=document.createElement("button");r.classList.add("basic",e),r.tabIndex=0,r.setAttribute("data-l10n-id",t);const o=document.createElement("span");r.append(o),o.className="visuallyHidden",o.setAttribute("data-l10n-id",s);const c=this.#s._signal;c instanceof AbortSignal&&!c.aborted&&(r.addEventListener("contextmenu",$n,{signal:c}),r.addEventListener("click",i,{signal:c})),this.#e.append(r)}}function XS(n,e,t){for(const s of t)e.addEventListener(s,n[s].bind(n))}class M4{#e=0;get id(){return`${Za}${this.#e++}`}}class tg{#e=Ym();#t=0;#s=null;static get _isSVGFittingCanvas(){const e='data:image/svg+xml;charset=UTF-8,<svg viewBox="0 0 1 1" width="1" height="1" xmlns="http://www.w3.org/2000/svg"><rect width="1" height="1" style="fill:red;"/></svg>',s=new OffscreenCanvas(1,3).getContext("2d",{willReadFrequently:!0}),i=new Image;i.src=e;const r=i.decode().then(()=>(s.drawImage(i,0,0,1,1,0,0,1,3),new Uint32Array(s.getImageData(0,0,1,1).data.buffer)[0]===0));return Ve(this,"_isSVGFittingCanvas",r)}async#n(e,t){this.#s||=new Map;let s=this.#s.get(e);if(s===null)return null;if(s?.bitmap)return s.refCounter+=1,s;try{s||={bitmap:null,id:`image_${this.#e}_${this.#t++}`,refCounter:0,isSvg:!1};let i;if(typeof t=="string"?(s.url=t,i=await Mo(t,"blob")):t instanceof File?i=s.file=t:t instanceof Blob&&(i=t),i.type==="image/svg+xml"){const r=tg._isSVGFittingCanvas,o=new FileReader,c=new Image,u=new Promise((h,f)=>{c.onload=()=>{s.bitmap=c,s.isSvg=!0,h()},o.onload=async()=>{const p=s.svgUrl=o.result;c.src=await r?`${p}#svgView(preserveAspectRatio(none))`:p},c.onerror=o.onerror=f});o.readAsDataURL(i),await u}else s.bitmap=await createImageBitmap(i);s.refCounter=1}catch(i){Oe(i),s=null}return this.#s.set(e,s),s&&this.#s.set(s.id,s),s}async getFromFile(e){const{lastModified:t,name:s,size:i,type:r}=e;return this.#n(`${t}_${s}_${i}_${r}`,e)}async getFromUrl(e){return this.#n(e,e)}async getFromBlob(e,t){const s=await t;return this.#n(e,s)}async getFromId(e){this.#s||=new Map;const t=this.#s.get(e);if(!t)return null;if(t.bitmap)return t.refCounter+=1,t;if(t.file)return this.getFromFile(t.file);if(t.blobPromise){const{blobPromise:s}=t;return delete t.blobPromise,this.getFromBlob(t.id,s)}return this.getFromUrl(t.url)}getFromCanvas(e,t){this.#s||=new Map;let s=this.#s.get(e);if(s?.bitmap)return s.refCounter+=1,s;const i=new OffscreenCanvas(t.width,t.height);return i.getContext("2d").drawImage(t,0,0),s={bitmap:i.transferToImageBitmap(),id:`image_${this.#e}_${this.#t++}`,refCounter:1,isSvg:!1},this.#s.set(e,s),this.#s.set(s.id,s),s}getSvgUrl(e){const t=this.#s.get(e);return t?.isSvg?t.svgUrl:null}deleteId(e){this.#s||=new Map;const t=this.#s.get(e);if(!t||(t.refCounter-=1,t.refCounter!==0))return;const{bitmap:s}=t;if(!t.url&&!t.file){const i=new OffscreenCanvas(s.width,s.height);i.getContext("bitmaprenderer").transferFromImageBitmap(s),t.blobPromise=i.convertToBlob()}s.close?.(),t.bitmap=null}isValidId(e){return e.startsWith(`image_${this.#e}_`)}}class D4{#e=[];#t=!1;#s;#n=-1;constructor(e=128){this.#s=e}add({cmd:e,undo:t,post:s,mustExec:i,type:r=NaN,overwriteIfSameType:o=!1,keepUndo:c=!1}){if(i&&e(),this.#t)return;const u={cmd:e,undo:t,post:s,type:r};if(this.#n===-1){this.#e.length>0&&(this.#e.length=0),this.#n=0,this.#e.push(u);return}if(o&&this.#e[this.#n].type===r){c&&(u.undo=this.#e[this.#n].undo),this.#e[this.#n]=u;return}const h=this.#n+1;h===this.#s?this.#e.splice(0,1):(this.#n=h,h<this.#e.length&&this.#e.splice(h)),this.#e.push(u)}undo(){if(this.#n===-1)return;this.#t=!0;const{undo:e,post:t}=this.#e[this.#n];e(),t?.(),this.#t=!1,this.#n-=1}redo(){if(this.#n<this.#e.length-1){this.#n+=1,this.#t=!0;const{cmd:e,post:t}=this.#e[this.#n];e(),t?.(),this.#t=!1}}hasSomethingToUndo(){return this.#n!==-1}hasSomethingToRedo(){return this.#n<this.#e.length-1}cleanType(e){if(this.#n!==-1){for(let t=this.#n;t>=0;t--)if(this.#e[t].type!==e){this.#e.splice(t+1,this.#n-t),this.#n=t;return}this.#e.length=0,this.#n=-1}}destroy(){this.#e=null}}class vl{constructor(e){this.buffer=[],this.callbacks=new Map,this.allKeys=new Set;const{isMac:t}=qt.platform;for(const[s,i,r={}]of e)for(const o of s){const c=o.startsWith("mac+");t&&c?(this.callbacks.set(o.slice(4),{callback:i,options:r}),this.allKeys.add(o.split("+").at(-1))):!t&&!c&&(this.callbacks.set(o,{callback:i,options:r}),this.allKeys.add(o.split("+").at(-1)))}}#e(e){e.altKey&&this.buffer.push("alt"),e.ctrlKey&&this.buffer.push("ctrl"),e.metaKey&&this.buffer.push("meta"),e.shiftKey&&this.buffer.push("shift"),this.buffer.push(e.key);const t=this.buffer.join("+");return this.buffer.length=0,t}exec(e,t){if(!this.allKeys.has(t.key))return;const s=this.callbacks.get(this.#e(t));if(!s)return;const{callback:i,options:{bubbles:r=!1,args:o=[],checker:c=null}}=s;c&&!c(e,t)||(i.bind(e,...o,t)(),r||yt(t))}}class ng{static _colorsMapping=new Map([["CanvasText",[0,0,0]],["Canvas",[255,255,255]]]);get _colors(){const e=new Map([["CanvasText",null],["Canvas",null]]);return F4(e),Ve(this,"_colors",e)}convert(e){const t=Do(e);if(!window.matchMedia("(forced-colors: active)").matches)return t;for(const[s,i]of this._colors)if(i.every((r,o)=>r===t[o]))return ng._colorsMapping.get(s);return t}getHexCode(e){const t=this._colors.get(e);return t?ge.makeHexColor(...t):e}}class ri{#e=new AbortController;#t=null;#s=null;#n=new Map;#i=new Map;#r=null;#o=null;#a=null;#c=new D4;#l=null;#d=null;#h=null;#f=0;#g=new Set;#p=null;#u=null;#m=new Set;_editorUndoBar=null;#y=!1;#w=!1;#v=!1;#E=null;#A=null;#x=null;#C=null;#S=!1;#_=null;#F=new M4;#T=!1;#P=!1;#O=!1;#N=null;#D=null;#j=null;#L=null;#H=null;#k=Ie.NONE;#b=new Set;#M=null;#B=null;#$=null;#q=null;#G=null;#K={isEditing:!1,isEmpty:!0,hasSomethingToUndo:!1,hasSomethingToRedo:!1,hasSelectedEditor:!1,hasSelectedText:!1};#V=[0,0];#I=null;#W=null;#Q=null;#J=null;#z=null;static TRANSLATE_SMALL=1;static TRANSLATE_BIG=10;static get _keyboardManager(){const e=ri.prototype,t=o=>o.#W.contains(document.activeElement)&&document.activeElement.tagName!=="BUTTON"&&o.hasSomethingToControl(),s=(o,{target:c})=>{if(c instanceof HTMLInputElement){const{type:u}=c;return u!=="text"&&u!=="number"}return!0},i=this.TRANSLATE_SMALL,r=this.TRANSLATE_BIG;return Ve(this,"_keyboardManager",new vl([[["ctrl+a","mac+meta+a"],e.selectAll,{checker:s}],[["ctrl+z","mac+meta+z"],e.undo,{checker:s}],[["ctrl+y","ctrl+shift+z","mac+meta+shift+z","ctrl+shift+Z","mac+meta+shift+Z"],e.redo,{checker:s}],[["Backspace","alt+Backspace","ctrl+Backspace","shift+Backspace","mac+Backspace","mac+alt+Backspace","mac+ctrl+Backspace","Delete","ctrl+Delete","shift+Delete","mac+Delete"],e.delete,{checker:s}],[["Enter","mac+Enter"],e.addNewEditorFromKeyboard,{checker:(o,{target:c})=>!(c instanceof HTMLButtonElement)&&o.#W.contains(c)&&!o.isEnterHandled}],[[" ","mac+ "],e.addNewEditorFromKeyboard,{checker:(o,{target:c})=>!(c instanceof HTMLButtonElement)&&o.#W.contains(document.activeElement)}],[["Escape","mac+Escape"],e.unselectAll],[["ArrowLeft","mac+ArrowLeft"],e.translateSelectedEditors,{args:[-i,0],checker:t}],[["ctrl+ArrowLeft","mac+shift+ArrowLeft"],e.translateSelectedEditors,{args:[-r,0],checker:t}],[["ArrowRight","mac+ArrowRight"],e.translateSelectedEditors,{args:[i,0],checker:t}],[["ctrl+ArrowRight","mac+shift+ArrowRight"],e.translateSelectedEditors,{args:[r,0],checker:t}],[["ArrowUp","mac+ArrowUp"],e.translateSelectedEditors,{args:[0,-i],checker:t}],[["ctrl+ArrowUp","mac+shift+ArrowUp"],e.translateSelectedEditors,{args:[0,-r],checker:t}],[["ArrowDown","mac+ArrowDown"],e.translateSelectedEditors,{args:[0,i],checker:t}],[["ctrl+ArrowDown","mac+shift+ArrowDown"],e.translateSelectedEditors,{args:[0,r],checker:t}]]))}constructor(e,t,s,i,r,o,c,u,h,f,p,g,w,A,x,S){const E=this._signal=this.#e.signal;this.#W=e,this.#Q=t,this.#J=s,this.#r=i,this.#l=r,this.#B=o,this.#G=u,this._eventBus=c,c._on("editingaction",this.onEditingAction.bind(this),{signal:E}),c._on("pagechanging",this.onPageChanging.bind(this),{signal:E}),c._on("scalechanging",this.onScaleChanging.bind(this),{signal:E}),c._on("rotationchanging",this.onRotationChanging.bind(this),{signal:E}),c._on("setpreference",this.onSetPreference.bind(this),{signal:E}),c._on("switchannotationeditorparams",_=>this.updateParams(_.type,_.value),{signal:E}),window.addEventListener("pointerdown",()=>{this.#P=!0},{capture:!0,signal:E}),window.addEventListener("pointerup",()=>{this.#P=!1},{capture:!0,signal:E}),this.#le(),this.#de(),this.#te(),this.#o=u.annotationStorage,this.#E=u.filterFactory,this.#$=h,this.#C=f||null,this.#y=p,this.#w=g,this.#v=w,this.#H=A||null,this.viewParameters={realScale:pr.PDF_TO_CSS_UNITS,rotation:0},this.isShiftKeyDown=!1,this._editorUndoBar=x||null,this._supportsPinchToZoom=S!==!1,r?.setSidebarUiManager(this)}destroy(){this.#z?.resolve(),this.#z=null,this.#e?.abort(),this.#e=null,this._signal=null;for(const e of this.#i.values())e.destroy();this.#i.clear(),this.#n.clear(),this.#m.clear(),this.#L?.clear(),this.#t=null,this.#b.clear(),this.#c.destroy(),this.#r?.destroy(),this.#l?.destroy(),this.#B?.destroy(),this.#_?.hide(),this.#_=null,this.#j?.destroy(),this.#j=null,this.#s=null,this.#A&&(clearTimeout(this.#A),this.#A=null),this.#I&&(clearTimeout(this.#I),this.#I=null),this._editorUndoBar?.destroy(),this.#G=null}combinedSignal(e){return AbortSignal.any([this._signal,e.signal])}get mlManager(){return this.#H}get useNewAltTextFlow(){return this.#w}get useNewAltTextWhenAddingImage(){return this.#v}get hcmFilter(){return Ve(this,"hcmFilter",this.#$?this.#E.addHCMFilter(this.#$.foreground,this.#$.background):"none")}get direction(){return Ve(this,"direction",getComputedStyle(this.#W).direction)}get _highlightColors(){return Ve(this,"_highlightColors",this.#C?new Map(this.#C.split(",").map(e=>(e=e.split("=").map(t=>t.trim()),e[1]=e[1].toUpperCase(),e))):null)}get highlightColors(){const{_highlightColors:e}=this;if(!e)return Ve(this,"highlightColors",null);const t=new Map,s=!!this.#$;for(const[i,r]of e){const o=i.endsWith("_HCM");if(s&&o){t.set(i.replace("_HCM",""),r);continue}!s&&!o&&t.set(i,r)}return Ve(this,"highlightColors",t)}get highlightColorNames(){return Ve(this,"highlightColorNames",this.highlightColors?new Map(Array.from(this.highlightColors,e=>e.reverse())):null)}getNonHCMColor(e){if(!this._highlightColors)return e;const t=this.highlightColorNames.get(e);return this._highlightColors.get(t)||e}getNonHCMColorName(e){return this.highlightColorNames.get(e)||e}setCurrentDrawingSession(e){e?(this.unselectAll(),this.disableUserSelect(!0)):this.disableUserSelect(!1),this.#h=e}setMainHighlightColorPicker(e){this.#j=e}editAltText(e,t=!1){this.#r?.editAltText(this,e,t)}hasCommentManager(){return!!this.#l}editComment(e,t,s,i){this.#l?.showDialog(this,e,t,s,i)}selectComment(e,t){this.#i.get(e)?.getEditorByUID(t)?.toggleComment(!0,!0)}updateComment(e){this.#l?.updateComment(e.getData())}updatePopupColor(e){this.#l?.updatePopupColor(e)}removeComment(e){this.#l?.removeComments([e.uid])}toggleComment(e,t,s=void 0){this.#l?.toggleCommentPopup(e,t,s)}makeCommentColor(e,t){return e&&this.#l?.makeCommentColor(e,t)||null}getCommentDialogElement(){return this.#l?.dialogElement||null}async waitForEditorsRendered(e){if(this.#i.has(e-1))return;const{resolve:t,promise:s}=Promise.withResolvers(),i=r=>{r.pageNumber===e&&(this._eventBus._off("editorsrendered",i),t())};this._eventBus.on("editorsrendered",i),await s}getSignature(e){this.#B?.getSignature({uiManager:this,editor:e})}get signatureManager(){return this.#B}switchToMode(e,t){this._eventBus.on("annotationeditormodechanged",t,{once:!0,signal:this._signal}),this._eventBus.dispatch("showannotationeditorui",{source:this,mode:e})}setPreference(e,t){this._eventBus.dispatch("setpreference",{source:this,name:e,value:t})}onSetPreference({name:e,value:t}){switch(e){case"enableNewAltTextWhenAddingImage":this.#v=t;break}}onPageChanging({pageNumber:e}){this.#f=e-1}focusMainContainer(){this.#W.focus()}findParent(e,t){for(const s of this.#i.values()){const{x:i,y:r,width:o,height:c}=s.div.getBoundingClientRect();if(e>=i&&e<=i+o&&t>=r&&t<=r+c)return s}return null}disableUserSelect(e=!1){this.#Q.classList.toggle("noUserSelect",e)}addShouldRescale(e){this.#m.add(e)}removeShouldRescale(e){this.#m.delete(e)}onScaleChanging({scale:e}){this.commitOrRemove(),this.viewParameters.realScale=e*pr.PDF_TO_CSS_UNITS;for(const t of this.#m)t.onScaleChanging();this.#h?.onScaleChanging()}onRotationChanging({pagesRotation:e}){this.commitOrRemove(),this.viewParameters.rotation=e}#Y({anchorNode:e}){return e.nodeType===Node.TEXT_NODE?e.parentElement:e}#ee(e){const{currentLayer:t}=this;if(t.hasTextLayer(e))return t;for(const s of this.#i.values())if(s.hasTextLayer(e))return s;return null}highlightSelection(e="",t=!1){const s=document.getSelection();if(!s||s.isCollapsed)return;const{anchorNode:i,anchorOffset:r,focusNode:o,focusOffset:c}=s,u=s.toString(),f=this.#Y(s).closest(".textLayer"),p=this.getSelectionBoxes(f);if(!p)return;s.empty();const g=this.#ee(f),w=this.#k===Ie.NONE,A=()=>{const x=g?.createAndAddNewEditor({x:0,y:0},!1,{methodOfCreation:e,boxes:p,anchorNode:i,anchorOffset:r,focusNode:o,focusOffset:c,text:u});w&&this.showAllEditors("highlight",!0,!0),t&&x?.editComment()};if(w){this.switchToMode(Ie.HIGHLIGHT,A);return}A()}commentSelection(e=""){this.highlightSelection(e,!0)}#oe(){const e=document.getSelection();if(!e||e.isCollapsed)return;const s=this.#Y(e).closest(".textLayer"),i=this.getSelectionBoxes(s);i&&(this.#_||=new N4(this),this.#_.show(s,i,this.direction==="ltr"))}getAndRemoveDataFromAnnotationStorage(e){if(!this.#o)return null;const t=`${Za}${e}`,s=this.#o.getRawValue(t);return s&&this.#o.remove(t),s}addToAnnotationStorage(e){!e.isEmpty()&&this.#o&&!this.#o.has(e.id)&&this.#o.setValue(e.id,e)}a11yAlert(e,t=null){const s=this.#J;s&&(s.setAttribute("data-l10n-id",e),t?s.setAttribute("data-l10n-args",JSON.stringify(t)):s.removeAttribute("data-l10n-args"))}#ae(){const e=document.getSelection();if(!e||e.isCollapsed){this.#M&&(this.#_?.hide(),this.#M=null,this.#R({hasSelectedText:!1}));return}const{anchorNode:t}=e;if(t===this.#M)return;const i=this.#Y(e).closest(".textLayer");if(!i){this.#M&&(this.#_?.hide(),this.#M=null,this.#R({hasSelectedText:!1}));return}if(this.#_?.hide(),this.#M=t,this.#R({hasSelectedText:!0}),!(this.#k!==Ie.HIGHLIGHT&&this.#k!==Ie.NONE)&&(this.#k===Ie.HIGHLIGHT&&this.showAllEditors("highlight",!0,!0),this.#S=this.isShiftKeyDown,!this.isShiftKeyDown)){const r=this.#k===Ie.HIGHLIGHT?this.#ee(i):null;if(r?.toggleDrawing(),this.#P){const o=new AbortController,c=this.combinedSignal(o),u=h=>{h.type==="pointerup"&&h.button!==0||(o.abort(),r?.toggleDrawing(!0),h.type==="pointerup"&&this.#X("main_toolbar"))};window.addEventListener("pointerup",u,{signal:c}),window.addEventListener("blur",u,{signal:c})}else r?.toggleDrawing(!0),this.#X("main_toolbar")}}#X(e=""){this.#k===Ie.HIGHLIGHT?this.highlightSelection(e):this.#y&&this.#oe()}#le(){document.addEventListener("selectionchange",this.#ae.bind(this),{signal:this._signal})}#ce(){if(this.#x)return;this.#x=new AbortController;const e=this.combinedSignal(this.#x);window.addEventListener("focus",this.focus.bind(this),{signal:e}),window.addEventListener("blur",this.blur.bind(this),{signal:e})}#ue(){this.#x?.abort(),this.#x=null}blur(){if(this.isShiftKeyDown=!1,this.#S&&(this.#S=!1,this.#X("main_toolbar")),!this.hasSelection)return;const{activeElement:e}=document;for(const t of this.#b)if(t.div.contains(e)){this.#D=[t,e],t._focusEventsAllowed=!1;break}}focus(){if(!this.#D)return;const[e,t]=this.#D;this.#D=null,t.addEventListener("focusin",()=>{e._focusEventsAllowed=!0},{once:!0,signal:this._signal}),t.focus()}#te(){if(this.#N)return;this.#N=new AbortController;const e=this.combinedSignal(this.#N);window.addEventListener("keydown",this.keydown.bind(this),{signal:e}),window.addEventListener("keyup",this.keyup.bind(this),{signal:e})}#he(){this.#N?.abort(),this.#N=null}#ne(){if(this.#d)return;this.#d=new AbortController;const e=this.combinedSignal(this.#d);document.addEventListener("copy",this.copy.bind(this),{signal:e}),document.addEventListener("cut",this.cut.bind(this),{signal:e}),document.addEventListener("paste",this.paste.bind(this),{signal:e})}#se(){this.#d?.abort(),this.#d=null}#de(){const e=this._signal;document.addEventListener("dragover",this.dragOver.bind(this),{signal:e}),document.addEventListener("drop",this.drop.bind(this),{signal:e})}addEditListeners(){this.#te(),this.#ne()}removeEditListeners(){this.#he(),this.#se()}dragOver(e){for(const{type:t}of e.dataTransfer.items)for(const s of this.#u)if(s.isHandlingMimeForPasting(t)){e.dataTransfer.dropEffect="copy",e.preventDefault();return}}drop(e){for(const t of e.dataTransfer.items)for(const s of this.#u)if(s.isHandlingMimeForPasting(t.type)){s.paste(t,this.currentLayer),e.preventDefault();return}}copy(e){if(e.preventDefault(),this.#t?.commitOrRemove(),!this.hasSelection)return;const t=[];for(const s of this.#b){const i=s.serialize(!0);i&&t.push(i)}t.length!==0&&e.clipboardData.setData("application/pdfjs",JSON.stringify(t))}cut(e){this.copy(e),this.delete()}async paste(e){e.preventDefault();const{clipboardData:t}=e;for(const r of t.items)for(const o of this.#u)if(o.isHandlingMimeForPasting(r.type)){o.paste(r,this.currentLayer);return}let s=t.getData("application/pdfjs");if(!s)return;try{s=JSON.parse(s)}catch(r){Oe(`paste: "${r.message}".`);return}if(!Array.isArray(s))return;this.unselectAll();const i=this.currentLayer;try{const r=[];for(const u of s){const h=await i.deserialize(u);if(!h)return;r.push(h)}const o=()=>{for(const u of r)this.#ie(u);this.#re(r)},c=()=>{for(const u of r)u.remove()};this.addCommands({cmd:o,undo:c,mustExec:!0})}catch(r){Oe(`paste: "${r.message}".`)}}keydown(e){!this.isShiftKeyDown&&e.key==="Shift"&&(this.isShiftKeyDown=!0),this.#k!==Ie.NONE&&!this.isEditorHandlingKeyboard&&ri._keyboardManager.exec(this,e)}keyup(e){this.isShiftKeyDown&&e.key==="Shift"&&(this.isShiftKeyDown=!1,this.#S&&(this.#S=!1,this.#X("main_toolbar")))}onEditingAction({name:e}){switch(e){case"undo":case"redo":case"delete":case"selectAll":this[e]();break;case"highlightSelection":this.highlightSelection("context_menu");break;case"commentSelection":this.commentSelection("context_menu");break}}#R(e){Object.entries(e).some(([s,i])=>this.#K[s]!==i)&&(this._eventBus.dispatch("annotationeditorstateschanged",{source:this,details:Object.assign(this.#K,e)}),this.#k===Ie.HIGHLIGHT&&e.hasSelectedEditor===!1&&this.#U([[Ge.HIGHLIGHT_FREE,!0]]))}#U(e){this._eventBus.dispatch("annotationeditorparamschanged",{source:this,details:e})}setEditingState(e){e?(this.#ce(),this.#ne(),this.#R({isEditing:this.#k!==Ie.NONE,isEmpty:this.#Z(),hasSomethingToUndo:this.#c.hasSomethingToUndo(),hasSomethingToRedo:this.#c.hasSomethingToRedo(),hasSelectedEditor:!1})):(this.#ue(),this.#se(),this.#R({isEditing:!1}),this.disableUserSelect(!1))}registerEditorTypes(e){if(!this.#u){this.#u=e;for(const t of this.#u)this.#U(t.defaultPropertiesToUpdate)}}getId(){return this.#F.id}get currentLayer(){return this.#i.get(this.#f)}getLayer(e){return this.#i.get(e)}get currentPageIndex(){return this.#f}addLayer(e){this.#i.set(e.pageIndex,e),this.#T?e.enable():e.disable()}removeLayer(e){this.#i.delete(e.pageIndex)}async updateMode(e,t=null,s=!1,i=!1,r=!1){if(this.#k!==e&&!(this.#z&&(await this.#z.promise,!this.#z))){if(this.#z=Promise.withResolvers(),this.#h?.commitOrRemove(),this.#k===Ie.POPUP&&this.#l?.hideSidebar(),this.#l?.destroyPopup(),this.#k=e,e===Ie.NONE){this.setEditingState(!1),this.#pe();for(const o of this.#n.values())o.hideStandaloneCommentButton();this._editorUndoBar?.hide(),this.toggleComment(null),this.#z.resolve();return}for(const o of this.#n.values())o.addStandaloneCommentButton();e===Ie.SIGNATURE&&await this.#B?.loadSignatures(),this.setEditingState(!0),await this.#fe(),this.unselectAll();for(const o of this.#i.values())o.updateMode(e);if(e===Ie.POPUP){this.#s||=await this.#G.getAnnotationsByType(new Set(this.#u.map(u=>u._editorType)));const o=new Set,c=[];for(const u of this.#n.values()){const{annotationElementId:h,hasComment:f,deleted:p}=u;h&&o.add(h),f&&!p&&c.push(u.getData())}for(const u of this.#s){const{id:h,popupRef:f,contentsObj:p}=u;f&&p?.str&&!o.has(h)&&!this.#g.has(h)&&c.push(u)}this.#l?.showSidebar(c)}if(!t){s&&this.addNewEditorFromKeyboard(),this.#z.resolve();return}for(const o of this.#n.values())o.uid===t?(this.setSelected(o),r?o.editComment():i?o.enterInEditMode():o.focus()):o.unselect();this.#z.resolve()}}addNewEditorFromKeyboard(){this.currentLayer.canCreateNewEmptyEditor()&&this.currentLayer.addNewEditor()}updateToolbar(e){e.mode!==this.#k&&this._eventBus.dispatch("switchannotationeditormode",{source:this,...e})}updateParams(e,t){if(this.#u){switch(e){case Ge.CREATE:this.currentLayer.addNewEditor(t);return;case Ge.HIGHLIGHT_SHOW_ALL:this._eventBus.dispatch("reporttelemetry",{source:this,details:{type:"editing",data:{type:"highlight",action:"toggle_visibility"}}}),(this.#q||=new Map).set(e,t),this.showAllEditors("highlight",t);break}if(this.hasSelection)for(const s of this.#b)s.updateParams(e,t);else for(const s of this.#u)s.updateDefaultParams(e,t)}}showAllEditors(e,t,s=!1){for(const r of this.#n.values())r.editorType===e&&r.show(t);(this.#q?.get(Ge.HIGHLIGHT_SHOW_ALL)??!0)!==t&&this.#U([[Ge.HIGHLIGHT_SHOW_ALL,t]])}enableWaiting(e=!1){if(this.#O!==e){this.#O=e;for(const t of this.#i.values())e?t.disableClick():t.enableClick(),t.div.classList.toggle("waiting",e)}}async#fe(){if(!this.#T){this.#T=!0;const e=[];for(const t of this.#i.values())e.push(t.enable());await Promise.all(e);for(const t of this.#n.values())t.enable()}}#pe(){if(this.unselectAll(),this.#T){this.#T=!1;for(const e of this.#i.values())e.disable();for(const e of this.#n.values())e.disable()}}*getEditors(e){for(const t of this.#n.values())t.pageIndex===e&&(yield t)}getEditor(e){return this.#n.get(e)}addEditor(e){this.#n.set(e.id,e)}removeEditor(e){e.div.contains(document.activeElement)&&(this.#A&&clearTimeout(this.#A),this.#A=setTimeout(()=>{this.focusMainContainer(),this.#A=null},0)),this.#n.delete(e.id),e.annotationElementId&&this.#L?.delete(e.annotationElementId),this.unselect(e),(!e.annotationElementId||!this.#g.has(e.annotationElementId))&&this.#o?.remove(e.id)}addDeletedAnnotationElement(e){this.#g.add(e.annotationElementId),this.addChangedExistingAnnotation(e),e.deleted=!0}isDeletedAnnotationElement(e){return this.#g.has(e)}removeDeletedAnnotationElement(e){this.#g.delete(e.annotationElementId),this.removeChangedExistingAnnotation(e),e.deleted=!1}#ie(e){const t=this.#i.get(e.pageIndex);t?t.addOrRebuild(e):(this.addEditor(e),this.addToAnnotationStorage(e))}setActiveEditor(e){this.#t!==e&&(this.#t=e,e&&this.#U(e.propertiesToUpdate))}get#me(){let e=null;for(e of this.#b);return e}updateUI(e){this.#me===e&&this.#U(e.propertiesToUpdate)}updateUIForDefaultProperties(e){this.#U(e.defaultPropertiesToUpdate)}toggleSelected(e){if(this.#b.has(e)){this.#b.delete(e),e.unselect(),this.#R({hasSelectedEditor:this.hasSelection});return}this.#b.add(e),e.select(),this.#U(e.propertiesToUpdate),this.#R({hasSelectedEditor:!0})}setSelected(e){this.updateToolbar({mode:e.mode,editId:e.id}),this.#h?.commitOrRemove();for(const t of this.#b)t!==e&&t.unselect();this.#b.clear(),this.#b.add(e),e.select(),this.#U(e.propertiesToUpdate),this.#R({hasSelectedEditor:!0})}isSelected(e){return this.#b.has(e)}get firstSelectedEditor(){return this.#b.values().next().value}unselect(e){e.unselect(),this.#b.delete(e),this.#R({hasSelectedEditor:this.hasSelection})}get hasSelection(){return this.#b.size!==0}get isEnterHandled(){return this.#b.size===1&&this.firstSelectedEditor.isEnterHandled}undo(){this.#c.undo(),this.#R({hasSomethingToUndo:this.#c.hasSomethingToUndo(),hasSomethingToRedo:!0,isEmpty:this.#Z()}),this._editorUndoBar?.hide()}redo(){this.#c.redo(),this.#R({hasSomethingToUndo:!0,hasSomethingToRedo:this.#c.hasSomethingToRedo(),isEmpty:this.#Z()})}addCommands(e){this.#c.add(e),this.#R({hasSomethingToUndo:!0,hasSomethingToRedo:!1,isEmpty:this.#Z()})}cleanUndoStack(e){this.#c.cleanType(e)}#Z(){if(this.#n.size===0)return!0;if(this.#n.size===1)for(const e of this.#n.values())return e.isEmpty();return!1}delete(){this.commitOrRemove();const e=this.currentLayer?.endDrawingSession(!0);if(!this.hasSelection&&!e)return;const t=e?[e]:[...this.#b],s=()=>{this._editorUndoBar?.show(i,t.length===1?t[0].editorType:t.length);for(const r of t)r.remove()},i=()=>{for(const r of t)this.#ie(r)};this.addCommands({cmd:s,undo:i,mustExec:!0})}commitOrRemove(){this.#t?.commitOrRemove()}hasSomethingToControl(){return this.#t||this.hasSelection}#re(e){for(const t of this.#b)t.unselect();this.#b.clear();for(const t of e)t.isEmpty()||(this.#b.add(t),t.select());this.#R({hasSelectedEditor:this.hasSelection})}selectAll(){for(const e of this.#b)e.commit();this.#re(this.#n.values())}unselectAll(){if(!(this.#t&&(this.#t.commitOrRemove(),this.#k!==Ie.NONE))&&!this.#h?.commitOrRemove()&&this.hasSelection){for(const e of this.#b)e.unselect();this.#b.clear(),this.#R({hasSelectedEditor:!1})}}translateSelectedEditors(e,t,s=!1){if(s||this.commitOrRemove(),!this.hasSelection)return;this.#V[0]+=e,this.#V[1]+=t;const[i,r]=this.#V,o=[...this.#b],c=1e3;this.#I&&clearTimeout(this.#I),this.#I=setTimeout(()=>{this.#I=null,this.#V[0]=this.#V[1]=0,this.addCommands({cmd:()=>{for(const u of o)this.#n.has(u.id)&&(u.translateInPage(i,r),u.translationDone())},undo:()=>{for(const u of o)this.#n.has(u.id)&&(u.translateInPage(-i,-r),u.translationDone())},mustExec:!1})},c);for(const u of o)u.translateInPage(e,t),u.translationDone()}setUpDragSession(){if(this.hasSelection){this.disableUserSelect(!0),this.#p=new Map;for(const e of this.#b)this.#p.set(e,{savedX:e.x,savedY:e.y,savedPageIndex:e.pageIndex,newX:0,newY:0,newPageIndex:-1})}}endDragSession(){if(!this.#p)return!1;this.disableUserSelect(!1);const e=this.#p;this.#p=null;let t=!1;for(const[{x:i,y:r,pageIndex:o},c]of e)c.newX=i,c.newY=r,c.newPageIndex=o,t||=i!==c.savedX||r!==c.savedY||o!==c.savedPageIndex;if(!t)return!1;const s=(i,r,o,c)=>{if(this.#n.has(i.id)){const u=this.#i.get(c);u?i._setParentAndPosition(u,r,o):(i.pageIndex=c,i.x=r,i.y=o)}};return this.addCommands({cmd:()=>{for(const[i,{newX:r,newY:o,newPageIndex:c}]of e)s(i,r,o,c)},undo:()=>{for(const[i,{savedX:r,savedY:o,savedPageIndex:c}]of e)s(i,r,o,c)},mustExec:!0}),!0}dragSelectedEditors(e,t){if(this.#p)for(const s of this.#p.keys())s.drag(e,t)}rebuild(e){if(e.parent===null){const t=this.getLayer(e.pageIndex);t?(t.changeParent(e),t.addOrRebuild(e)):(this.addEditor(e),this.addToAnnotationStorage(e),e.rebuild())}else e.parent.addOrRebuild(e)}get isEditorHandlingKeyboard(){return this.getActive()?.shouldGetKeyboardEvents()||this.#b.size===1&&this.firstSelectedEditor.shouldGetKeyboardEvents()}isActive(e){return this.#t===e}getActive(){return this.#t}getMode(){return this.#k}isEditingMode(){return this.#k!==Ie.NONE}get imageManager(){return Ve(this,"imageManager",new tg)}getSelectionBoxes(e){if(!e)return null;const t=document.getSelection();for(let h=0,f=t.rangeCount;h<f;h++)if(!e.contains(t.getRangeAt(h).commonAncestorContainer))return null;const{x:s,y:i,width:r,height:o}=e.getBoundingClientRect();let c;switch(e.getAttribute("data-main-rotation")){case"90":c=(h,f,p,g)=>({x:(f-i)/o,y:1-(h+p-s)/r,width:g/o,height:p/r});break;case"180":c=(h,f,p,g)=>({x:1-(h+p-s)/r,y:1-(f+g-i)/o,width:p/r,height:g/o});break;case"270":c=(h,f,p,g)=>({x:1-(f+g-i)/o,y:(h-s)/r,width:g/o,height:p/r});break;default:c=(h,f,p,g)=>({x:(h-s)/r,y:(f-i)/o,width:p/r,height:g/o});break}const u=[];for(let h=0,f=t.rangeCount;h<f;h++){const p=t.getRangeAt(h);if(!p.collapsed)for(const{x:g,y:w,width:A,height:x}of p.getClientRects())A===0||x===0||u.push(c(g,w,A,x))}return u.length===0?null:u}addChangedExistingAnnotation({annotationElementId:e,id:t}){(this.#a||=new Map).set(e,t)}removeChangedExistingAnnotation({annotationElementId:e}){this.#a?.delete(e)}renderAnnotationElement(e){const t=this.#a?.get(e.data.id);if(!t)return;const s=this.#o.getRawValue(t);s&&(this.#k===Ie.NONE&&!s.hasBeenModified||s.renderAnnotationElement(e))}setMissingCanvas(e,t,s){const i=this.#L?.get(e);i&&(i.setCanvas(t,s),this.#L.delete(e))}addMissingCanvas(e,t){(this.#L||=new Map).set(e,t)}}class Rs{#e=null;#t=!1;#s=null;#n=null;#i=null;#r=null;#o=!1;#a=null;#c=null;#l=null;#d=null;#h=!1;static#f=null;static _l10n=null;constructor(e){this.#c=e,this.#h=e._uiManager.useNewAltTextFlow,Rs.#f||=Object.freeze({added:"pdfjs-editor-new-alt-text-added-button","added-label":"pdfjs-editor-new-alt-text-added-button-label",missing:"pdfjs-editor-new-alt-text-missing-button","missing-label":"pdfjs-editor-new-alt-text-missing-button-label",review:"pdfjs-editor-new-alt-text-to-review-button","review-label":"pdfjs-editor-new-alt-text-to-review-button-label"})}static initialize(e){Rs._l10n??=e}async render(){const e=this.#s=document.createElement("button");e.className="altText",e.tabIndex="0";const t=this.#n=document.createElement("span");e.append(t),this.#h?(e.classList.add("new"),e.setAttribute("data-l10n-id",Rs.#f.missing),t.setAttribute("data-l10n-id",Rs.#f["missing-label"])):(e.setAttribute("data-l10n-id","pdfjs-editor-alt-text-button"),t.setAttribute("data-l10n-id","pdfjs-editor-alt-text-button-label"));const s=this.#c._uiManager._signal;e.addEventListener("contextmenu",$n,{signal:s}),e.addEventListener("pointerdown",r=>r.stopPropagation(),{signal:s});const i=r=>{r.preventDefault(),this.#c._uiManager.editAltText(this.#c),this.#h&&this.#c._reportTelemetry({action:"pdfjs.image.alt_text.image_status_label_clicked",data:{label:this.#g}})};return e.addEventListener("click",i,{capture:!0,signal:s}),e.addEventListener("keydown",r=>{r.target===e&&r.key==="Enter"&&(this.#o=!0,i(r))},{signal:s}),await this.#p(),e}get#g(){return this.#e&&"added"||this.#e===null&&this.guessedText&&"review"||"missing"}finish(){this.#s&&(this.#s.focus({focusVisible:this.#o}),this.#o=!1)}isEmpty(){return this.#h?this.#e===null:!this.#e&&!this.#t}hasData(){return this.#h?this.#e!==null||!!this.#l:this.isEmpty()}get guessedText(){return this.#l}async setGuessedText(e){this.#e===null&&(this.#l=e,this.#d=await Rs._l10n.get("pdfjs-editor-new-alt-text-generated-alt-text-with-disclaimer",{generatedAltText:e}),this.#p())}toggleAltTextBadge(e=!1){if(!this.#h||this.#e){this.#a?.remove(),this.#a=null;return}if(!this.#a){const t=this.#a=document.createElement("div");t.className="noAltTextBadge",this.#c.div.append(t)}this.#a.classList.toggle("hidden",!e)}serialize(e){let t=this.#e;return!e&&this.#l===t&&(t=this.#d),{altText:t,decorative:this.#t,guessedText:this.#l,textWithDisclaimer:this.#d}}get data(){return{altText:this.#e,decorative:this.#t}}set data({altText:e,decorative:t,guessedText:s,textWithDisclaimer:i,cancel:r=!1}){s&&(this.#l=s,this.#d=i),!(this.#e===e&&this.#t===t)&&(r||(this.#e=e,this.#t=t),this.#p())}toggle(e=!1){this.#s&&(!e&&this.#r&&(clearTimeout(this.#r),this.#r=null),this.#s.disabled=!e)}shown(){this.#c._reportTelemetry({action:"pdfjs.image.alt_text.image_status_label_displayed",data:{label:this.#g}})}destroy(){this.#s?.remove(),this.#s=null,this.#n=null,this.#i=null,this.#a?.remove(),this.#a=null}async#p(){const e=this.#s;if(!e)return;if(this.#h){if(e.classList.toggle("done",!!this.#e),e.setAttribute("data-l10n-id",Rs.#f[this.#g]),this.#n?.setAttribute("data-l10n-id",Rs.#f[`${this.#g}-label`]),!this.#e){this.#i?.remove();return}}else{if(!this.#e&&!this.#t){e.classList.remove("done"),this.#i?.remove();return}e.classList.add("done"),e.setAttribute("data-l10n-id","pdfjs-editor-alt-text-edit-button")}let t=this.#i;if(!t){this.#i=t=document.createElement("span"),t.className="tooltip",t.setAttribute("role","tooltip"),t.id=`alt-text-tooltip-${this.#c.id}`;const i=100,r=this.#c._uiManager._signal;r.addEventListener("abort",()=>{clearTimeout(this.#r),this.#r=null},{once:!0}),e.addEventListener("mouseenter",()=>{this.#r=setTimeout(()=>{this.#r=null,this.#i.classList.add("show"),this.#c._reportTelemetry({action:"alt_text_tooltip"})},i)},{signal:r}),e.addEventListener("mouseleave",()=>{this.#r&&(clearTimeout(this.#r),this.#r=null),this.#i?.classList.remove("show")},{signal:r})}this.#t?t.setAttribute("data-l10n-id","pdfjs-editor-alt-text-decorative-tooltip"):(t.removeAttribute("data-l10n-id"),t.textContent=this.#e),t.parentNode||e.append(t),this.#c.getElementForAltText()?.setAttribute("aria-describedby",t.id)}}class Hc{#e=null;#t=null;#s=!1;#n=null;#i=null;#r=null;#o=null;#a=null;#c=!1;#l=null;constructor(e){this.#n=e}renderForToolbar(){const e=this.#t=document.createElement("button");return e.className="comment",this.#d(e,!1)}renderForStandalone(){const e=this.#e=document.createElement("button");e.className="annotationCommentButton";const t=this.#n.commentButtonPosition;if(t){const{style:s}=e;s.insetInlineEnd=`calc(${100*(this.#n._uiManager.direction==="ltr"?1-t[0]:t[0])}% - var(--comment-button-dim))`,s.top=`calc(${100*t[1]}% - var(--comment-button-dim))`;const i=this.#n.commentButtonColor;i&&(s.backgroundColor=i)}return this.#d(e,!0)}focusButton(){setTimeout(()=>{(this.#e??this.#t)?.focus()},0)}onUpdatedColor(){if(!this.#e)return;const e=this.#n.commentButtonColor;e&&(this.#e.style.backgroundColor=e),this.#n._uiManager.updatePopupColor(this.#n)}get commentButtonWidth(){return(this.#e?.getBoundingClientRect().width??0)/this.#n.parent.boundingClientRect.width}get commentPopupPositionInLayer(){if(this.#l)return this.#l;if(!this.#e)return null;const{x:e,y:t,height:s}=this.#e.getBoundingClientRect(),{x:i,y:r,width:o,height:c}=this.#n.parent.boundingClientRect;return[(e-i)/o,(t+s-r)/c]}set commentPopupPositionInLayer(e){this.#l=e}hasDefaultPopupPosition(){return this.#l===null}removeStandaloneCommentButton(){this.#e?.remove(),this.#e=null}removeToolbarCommentButton(){this.#t?.remove(),this.#t=null}setCommentButtonStates({selected:e,hasPopup:t}){this.#e&&(this.#e.classList.toggle("selected",e),this.#e.ariaExpanded=t)}#d(e,t){if(!this.#n._uiManager.hasCommentManager())return null;e.tabIndex="0",e.ariaHasPopup="dialog",t?(e.ariaControls="commentPopup",e.setAttribute("data-l10n-id","pdfjs-show-comment-button")):(e.ariaControlsElements=[this.#n._uiManager.getCommentDialogElement()],e.setAttribute("data-l10n-id","pdfjs-editor-edit-comment-button"));const s=this.#n._uiManager._signal;if(!(s instanceof AbortSignal)||s.aborted)return e;e.addEventListener("contextmenu",$n,{signal:s}),t&&(e.addEventListener("focusin",r=>{this.#n._focusEventsAllowed=!1,yt(r)},{capture:!0,signal:s}),e.addEventListener("focusout",r=>{this.#n._focusEventsAllowed=!0,yt(r)},{capture:!0,signal:s})),e.addEventListener("pointerdown",r=>r.stopPropagation(),{signal:s});const i=r=>{r.preventDefault(),e===this.#t?this.edit():this.#n.toggleComment(!0)};return e.addEventListener("click",i,{capture:!0,signal:s}),e.addEventListener("keydown",r=>{r.target===e&&r.key==="Enter"&&(this.#s=!0,i(r))},{signal:s}),e.addEventListener("pointerenter",()=>{this.#n.toggleComment(!1,!0)},{signal:s}),e.addEventListener("pointerleave",()=>{this.#n.toggleComment(!1,!1)},{signal:s}),e}edit(e){const t=this.commentPopupPositionInLayer;let s,i;if(t)[s,i]=t;else{[s,i]=this.#n.commentButtonPosition;const{width:f,height:p,x:g,y:w}=this.#n;s=g+s*f,i=w+i*p}const r=this.#n.parent.boundingClientRect,{x:o,y:c,width:u,height:h}=r;this.#n._uiManager.editComment(this.#n,o+s*u,c+i*h,{...e,parentDimensions:r})}finish(){this.#t&&(this.#t.focus({focusVisible:this.#s}),this.#s=!1)}isDeleted(){return this.#c||this.#o===""}isEmpty(){return this.#o===null}hasBeenEdited(){return this.isDeleted()||this.#o!==this.#i}serialize(){return this.data}get data(){return{text:this.#o,richText:this.#r,date:this.#a,deleted:this.isDeleted()}}set data(e){if(e!==this.#o&&(this.#r=null),e===null){this.#o="",this.#c=!0;return}this.#o=e,this.#a=new Date,this.#c=!1}setInitialText(e,t=null){this.#i=e,this.data=e,this.#a=null,this.#r=t}shown(){}destroy(){this.#t?.remove(),this.#t=null,this.#e?.remove(),this.#e=null,this.#o="",this.#r=null,this.#a=null,this.#n=null,this.#s=!1,this.#c=!1}}class wl{#e;#t=!1;#s=null;#n;#i;#r;#o;#a=null;#c;#l=null;#d;#h=null;constructor({container:e,isPinchingDisabled:t=null,isPinchingStopped:s=null,onPinchStart:i=null,onPinching:r=null,onPinchEnd:o=null,signal:c}){this.#e=e,this.#s=s,this.#n=t,this.#i=i,this.#r=r,this.#o=o,this.#d=new AbortController,this.#c=AbortSignal.any([c,this.#d.signal]),e.addEventListener("touchstart",this.#f.bind(this),{passive:!1,signal:this.#c})}get MIN_TOUCH_DISTANCE_TO_PINCH(){return 35/ys.pixelRatio}#f(e){if(this.#n?.())return;if(e.touches.length===1){if(this.#a)return;const i=this.#a=new AbortController,r=AbortSignal.any([this.#c,i.signal]),o=this.#e,c={capture:!0,signal:r,passive:!1},u=h=>{h.pointerType==="touch"&&(this.#a?.abort(),this.#a=null)};o.addEventListener("pointerdown",h=>{h.pointerType==="touch"&&(yt(h),u(h))},c),o.addEventListener("pointerup",u,c),o.addEventListener("pointercancel",u,c);return}if(!this.#h){this.#h=new AbortController;const i=AbortSignal.any([this.#c,this.#h.signal]),r=this.#e,o={signal:i,capture:!1,passive:!1};r.addEventListener("touchmove",this.#g.bind(this),o);const c=this.#p.bind(this);r.addEventListener("touchend",c,o),r.addEventListener("touchcancel",c,o),o.capture=!0,r.addEventListener("pointerdown",yt,o),r.addEventListener("pointermove",yt,o),r.addEventListener("pointercancel",yt,o),r.addEventListener("pointerup",yt,o),this.#i?.()}if(yt(e),e.touches.length!==2||this.#s?.()){this.#l=null;return}let[t,s]=e.touches;t.identifier>s.identifier&&([t,s]=[s,t]),this.#l={touch0X:t.screenX,touch0Y:t.screenY,touch1X:s.screenX,touch1Y:s.screenY}}#g(e){if(!this.#l||e.touches.length!==2)return;yt(e);let[t,s]=e.touches;t.identifier>s.identifier&&([t,s]=[s,t]);const{screenX:i,screenY:r}=t,{screenX:o,screenY:c}=s,u=this.#l,{touch0X:h,touch0Y:f,touch1X:p,touch1Y:g}=u,w=p-h,A=g-f,x=o-i,S=c-r,E=Math.hypot(x,S)||1,_=Math.hypot(w,A)||1;if(!this.#t&&Math.abs(_-E)<=wl.MIN_TOUCH_DISTANCE_TO_PINCH)return;if(u.touch0X=i,u.touch0Y=r,u.touch1X=o,u.touch1Y=c,!this.#t){this.#t=!0;return}const k=[(i+o)/2,(r+c)/2];this.#r?.(k,_,E)}#p(e){e.touches.length>=2||(this.#h&&(this.#h.abort(),this.#h=null,this.#o?.()),this.#l&&(yt(e),this.#l=null,this.#t=!1))}destroy(){this.#d?.abort(),this.#d=null,this.#a?.abort(),this.#a=null}}class _e{#e=null;#t=null;#s=null;#n=null;#i=null;#r=!1;#o=null;#a="";#c=null;#l=null;#d=null;#h=null;#f=null;#g="";#p=!1;#u=null;#m=!1;#y=!1;#w=!1;#v=null;#E=0;#A=0;#x=null;#C=null;isSelected=!1;_isCopy=!1;_editToolbar=null;_initialOptions=Object.create(null);_initialData=null;_isVisible=!0;_uiManager=null;_focusEventsAllowed=!0;static _l10n=null;static _l10nResizer=null;#S=!1;#_=_e._zIndex++;static _borderLineWidth=-1;static _colorManager=new ng;static _zIndex=1;static _telemetryTimeout=1e3;static get _resizerKeyboardManager(){const e=_e.prototype._resizeWithKeyboard,t=ri.TRANSLATE_SMALL,s=ri.TRANSLATE_BIG;return Ve(this,"_resizerKeyboardManager",new vl([[["ArrowLeft","mac+ArrowLeft"],e,{args:[-t,0]}],[["ctrl+ArrowLeft","mac+shift+ArrowLeft"],e,{args:[-s,0]}],[["ArrowRight","mac+ArrowRight"],e,{args:[t,0]}],[["ctrl+ArrowRight","mac+shift+ArrowRight"],e,{args:[s,0]}],[["ArrowUp","mac+ArrowUp"],e,{args:[0,-t]}],[["ctrl+ArrowUp","mac+shift+ArrowUp"],e,{args:[0,-s]}],[["ArrowDown","mac+ArrowDown"],e,{args:[0,t]}],[["ctrl+ArrowDown","mac+shift+ArrowDown"],e,{args:[0,s]}],[["Escape","mac+Escape"],_e.prototype._stopResizingWithKeyboard]]))}constructor(e){this.parent=e.parent,this.id=e.id,this.width=this.height=null,this.pageIndex=e.parent.pageIndex,this.name=e.name,this.div=null,this._uiManager=e.uiManager,this.annotationElementId=null,this._willKeepAspectRatio=!1,this._initialOptions.isCentered=e.isCentered,this._structTreeParentId=null,this.annotationElementId=e.annotationElementId||null,this.creationDate=e.creationDate||new Date,this.modificationDate=e.modificationDate||null;const{rotation:t,rawDims:{pageWidth:s,pageHeight:i,pageX:r,pageY:o}}=this.parent.viewport;this.rotation=t,this.pageRotation=(360+t-this._uiManager.viewParameters.rotation)%360,this.pageDimensions=[s,i],this.pageTranslation=[r,o];const[c,u]=this.parentDimensions;this.x=e.x/c,this.y=e.y/u,this.isAttachedToDOM=!1,this.deleted=!1}get editorType(){return Object.getPrototypeOf(this).constructor._type}get mode(){return Object.getPrototypeOf(this).constructor._editorType}static get isDrawer(){return!1}static get _defaultLineColor(){return Ve(this,"_defaultLineColor",this._colorManager.getHexCode("CanvasText"))}static deleteAnnotationElement(e){const t=new L4({id:e.parent.getNextId(),parent:e.parent,uiManager:e._uiManager});t.annotationElementId=e.annotationElementId,t.deleted=!0,t._uiManager.addToAnnotationStorage(t)}static initialize(e,t){if(_e._l10n??=e,_e._l10nResizer||=Object.freeze({topLeft:"pdfjs-editor-resizer-top-left",topMiddle:"pdfjs-editor-resizer-top-middle",topRight:"pdfjs-editor-resizer-top-right",middleRight:"pdfjs-editor-resizer-middle-right",bottomRight:"pdfjs-editor-resizer-bottom-right",bottomMiddle:"pdfjs-editor-resizer-bottom-middle",bottomLeft:"pdfjs-editor-resizer-bottom-left",middleLeft:"pdfjs-editor-resizer-middle-left"}),_e._borderLineWidth!==-1)return;const s=getComputedStyle(document.documentElement);_e._borderLineWidth=parseFloat(s.getPropertyValue("--outline-width"))||0}static updateDefaultParams(e,t){}static get defaultPropertiesToUpdate(){return[]}static isHandlingMimeForPasting(e){return!1}static paste(e,t){nt("Not implemented")}get propertiesToUpdate(){return[]}get _isDraggable(){return this.#S}set _isDraggable(e){this.#S=e,this.div?.classList.toggle("draggable",e)}get uid(){return this.annotationElementId||this.id}get isEnterHandled(){return!0}center(){const[e,t]=this.pageDimensions;switch(this.parentRotation){case 90:this.x-=this.height*t/(e*2),this.y+=this.width*e/(t*2);break;case 180:this.x+=this.width/2,this.y+=this.height/2;break;case 270:this.x+=this.height*t/(e*2),this.y-=this.width*e/(t*2);break;default:this.x-=this.width/2,this.y-=this.height/2;break}this.fixAndSetPosition()}addCommands(e){this._uiManager.addCommands(e)}get currentLayer(){return this._uiManager.currentLayer}setInBackground(){this.div.style.zIndex=0}setInForeground(){this.div.style.zIndex=this.#_}setParent(e){e!==null?(this.pageIndex=e.pageIndex,this.pageDimensions=e.pageDimensions):(this.#I(),this.#h?.remove(),this.#h=null),this.parent=e}focusin(e){this._focusEventsAllowed&&(this.#p?this.#p=!1:this.parent.setSelected(this))}focusout(e){!this._focusEventsAllowed||!this.isAttachedToDOM||e.relatedTarget?.closest(`#${this.id}`)||(e.preventDefault(),this.parent?.isMultipleSelection||this.commitOrRemove())}commitOrRemove(){this.isEmpty()?this.remove():this.commit()}commit(){this.isInEditMode()&&this.addToAnnotationStorage()}addToAnnotationStorage(){this._uiManager.addToAnnotationStorage(this)}setAt(e,t,s,i){const[r,o]=this.parentDimensions;[s,i]=this.screenToPageTranslation(s,i),this.x=(e+s)/r,this.y=(t+i)/o,this.fixAndSetPosition()}_moveAfterPaste(e,t){const[s,i]=this.parentDimensions;this.setAt(e*s,t*i,this.width*s,this.height*i),this._onTranslated()}#F([e,t],s,i){[s,i]=this.screenToPageTranslation(s,i),this.x+=s/e,this.y+=i/t,this._onTranslating(this.x,this.y),this.fixAndSetPosition()}translate(e,t){this.#F(this.parentDimensions,e,t)}translateInPage(e,t){this.#u||=[this.x,this.y,this.width,this.height],this.#F(this.pageDimensions,e,t),this.div.scrollIntoView({block:"nearest"})}translationDone(){this._onTranslated(this.x,this.y)}drag(e,t){this.#u||=[this.x,this.y,this.width,this.height];const{div:s,parentDimensions:[i,r]}=this;if(this.x+=e/i,this.y+=t/r,this.parent&&(this.x<0||this.x>1||this.y<0||this.y>1)){const{x:p,y:g}=this.div.getBoundingClientRect();this.parent.findNewParent(this,p,g)&&(this.x-=Math.floor(this.x),this.y-=Math.floor(this.y))}let{x:o,y:c}=this;const[u,h]=this.getBaseTranslation();o+=u,c+=h;const{style:f}=s;f.left=`${(100*o).toFixed(2)}%`,f.top=`${(100*c).toFixed(2)}%`,this._onTranslating(o,c),s.scrollIntoView({block:"nearest"})}_onTranslating(e,t){}_onTranslated(e,t){}get _hasBeenMoved(){return!!this.#u&&(this.#u[0]!==this.x||this.#u[1]!==this.y)}get _hasBeenResized(){return!!this.#u&&(this.#u[2]!==this.width||this.#u[3]!==this.height)}getBaseTranslation(){const[e,t]=this.parentDimensions,{_borderLineWidth:s}=_e,i=s/e,r=s/t;switch(this.rotation){case 90:return[-i,r];case 180:return[i,r];case 270:return[i,-r];default:return[-i,-r]}}get _mustFixPosition(){return!0}fixAndSetPosition(e=this.rotation){const{div:{style:t},pageDimensions:[s,i]}=this;let{x:r,y:o,width:c,height:u}=this;if(c*=s,u*=i,r*=s,o*=i,this._mustFixPosition)switch(e){case 0:r=an(r,0,s-c),o=an(o,0,i-u);break;case 90:r=an(r,0,s-u),o=an(o,c,i);break;case 180:r=an(r,c,s),o=an(o,u,i);break;case 270:r=an(r,u,s),o=an(o,0,i-c);break}this.x=r/=s,this.y=o/=i;const[h,f]=this.getBaseTranslation();r+=h,o+=f,t.left=`${(100*r).toFixed(2)}%`,t.top=`${(100*o).toFixed(2)}%`,this.moveInDOM()}static#T(e,t,s){switch(s){case 90:return[t,-e];case 180:return[-e,-t];case 270:return[-t,e];default:return[e,t]}}screenToPageTranslation(e,t){return _e.#T(e,t,this.parentRotation)}pageTranslationToScreen(e,t){return _e.#T(e,t,360-this.parentRotation)}#P(e){switch(e){case 90:{const[t,s]=this.pageDimensions;return[0,-t/s,s/t,0]}case 180:return[-1,0,0,-1];case 270:{const[t,s]=this.pageDimensions;return[0,t/s,-s/t,0]}default:return[1,0,0,1]}}get parentScale(){return this._uiManager.viewParameters.realScale}get parentRotation(){return(this._uiManager.viewParameters.rotation+this.pageRotation)%360}get parentDimensions(){const{parentScale:e,pageDimensions:[t,s]}=this;return[t*e,s*e]}setDims(){const{div:{style:e},width:t,height:s}=this;e.width=`${(100*t).toFixed(2)}%`,e.height=`${(100*s).toFixed(2)}%`}getInitialTranslation(){return[0,0]}#O(){if(this.#c)return;this.#c=document.createElement("div"),this.#c.classList.add("resizers");const e=this._willKeepAspectRatio?["topLeft","topRight","bottomRight","bottomLeft"]:["topLeft","topMiddle","topRight","middleRight","bottomRight","bottomMiddle","bottomLeft","middleLeft"],t=this._uiManager._signal;for(const s of e){const i=document.createElement("div");this.#c.append(i),i.classList.add("resizer",s),i.setAttribute("data-resizer-name",s),i.addEventListener("pointerdown",this.#N.bind(this,s),{signal:t}),i.addEventListener("contextmenu",$n,{signal:t}),i.tabIndex=-1}this.div.prepend(this.#c)}#N(e,t){t.preventDefault();const{isMac:s}=qt.platform;if(t.button!==0||t.ctrlKey&&s)return;this.#s?.toggle(!1);const i=this._isDraggable;this._isDraggable=!1,this.#l=[t.screenX,t.screenY];const r=new AbortController,o=this._uiManager.combinedSignal(r);this.parent.togglePointerEvents(!1),window.addEventListener("pointermove",this.#L.bind(this,e),{passive:!0,capture:!0,signal:o}),window.addEventListener("touchmove",yt,{passive:!1,signal:o}),window.addEventListener("contextmenu",$n,{signal:o}),this.#d={savedX:this.x,savedY:this.y,savedWidth:this.width,savedHeight:this.height};const c=this.parent.div.style.cursor,u=this.div.style.cursor;this.div.style.cursor=this.parent.div.style.cursor=window.getComputedStyle(t.target).cursor;const h=()=>{r.abort(),this.parent.togglePointerEvents(!0),this.#s?.toggle(!0),this._isDraggable=i,this.parent.div.style.cursor=c,this.div.style.cursor=u,this.#j()};window.addEventListener("pointerup",h,{signal:o}),window.addEventListener("blur",h,{signal:o})}#D(e,t,s,i){this.width=s,this.height=i,this.x=e,this.y=t,this.setDims(),this.fixAndSetPosition(),this._onResized()}_onResized(){}#j(){if(!this.#d)return;const{savedX:e,savedY:t,savedWidth:s,savedHeight:i}=this.#d;this.#d=null;const r=this.x,o=this.y,c=this.width,u=this.height;r===e&&o===t&&c===s&&u===i||this.addCommands({cmd:this.#D.bind(this,r,o,c,u),undo:this.#D.bind(this,e,t,s,i),mustExec:!0})}static _round(e){return Math.round(e*1e4)/1e4}#L(e,t){const[s,i]=this.parentDimensions,r=this.x,o=this.y,c=this.width,u=this.height,h=_e.MIN_SIZE/s,f=_e.MIN_SIZE/i,p=this.#P(this.rotation),g=(Q,Y)=>[p[0]*Q+p[2]*Y,p[1]*Q+p[3]*Y],w=this.#P(360-this.rotation),A=(Q,Y)=>[w[0]*Q+w[2]*Y,w[1]*Q+w[3]*Y];let x,S,E=!1,_=!1;switch(e){case"topLeft":E=!0,x=(Q,Y)=>[0,0],S=(Q,Y)=>[Q,Y];break;case"topMiddle":x=(Q,Y)=>[Q/2,0],S=(Q,Y)=>[Q/2,Y];break;case"topRight":E=!0,x=(Q,Y)=>[Q,0],S=(Q,Y)=>[0,Y];break;case"middleRight":_=!0,x=(Q,Y)=>[Q,Y/2],S=(Q,Y)=>[0,Y/2];break;case"bottomRight":E=!0,x=(Q,Y)=>[Q,Y],S=(Q,Y)=>[0,0];break;case"bottomMiddle":x=(Q,Y)=>[Q/2,Y],S=(Q,Y)=>[Q/2,0];break;case"bottomLeft":E=!0,x=(Q,Y)=>[0,Y],S=(Q,Y)=>[Q,0];break;case"middleLeft":_=!0,x=(Q,Y)=>[0,Y/2],S=(Q,Y)=>[Q,Y/2];break}const k=x(c,u),T=S(c,u);let P=g(...T);const N=_e._round(r+P[0]),M=_e._round(o+P[1]);let I=1,$=1,q,Z;if(t.fromKeyboard)({deltaX:q,deltaY:Z}=t);else{const{screenX:Q,screenY:Y}=t,[W,oe]=this.#l;[q,Z]=this.screenToPageTranslation(Q-W,Y-oe),this.#l[0]=Q,this.#l[1]=Y}if([q,Z]=A(q/s,Z/i),E){const Q=Math.hypot(c,u);I=$=Math.max(Math.min(Math.hypot(T[0]-k[0]-q,T[1]-k[1]-Z)/Q,1/c,1/u),h/c,f/u)}else _?I=an(Math.abs(T[0]-k[0]-q),h,1)/c:$=an(Math.abs(T[1]-k[1]-Z),f,1)/u;const ie=_e._round(c*I),U=_e._round(u*$);P=g(...S(ie,U));const ee=N-P[0],ue=M-P[1];this.#u||=[this.x,this.y,this.width,this.height],this.width=ie,this.height=U,this.x=ee,this.y=ue,this.setDims(),this.fixAndSetPosition(),this._onResizing()}_onResizing(){}altTextFinish(){this.#s?.finish()}get toolbarButtons(){return null}async addEditToolbar(){if(this._editToolbar||this.#y)return this._editToolbar;this._editToolbar=new Oa(this),this.div.append(this._editToolbar.render());const{toolbarButtons:e}=this;if(e)for(const[t,s]of e)await this._editToolbar.addButton(t,s);return this.hasComment||this._editToolbar.addButton("comment",this.addCommentButton()),this._editToolbar.addButton("delete"),this._editToolbar}addCommentButtonInToolbar(){this._editToolbar?.addButtonBefore("comment",this.addCommentButton(),".deleteButton")}removeCommentButtonFromToolbar(){this._editToolbar?.removeButton("comment")}removeEditToolbar(){this._editToolbar?.remove(),this._editToolbar=null,this.#s?.destroy()}addContainer(e){const t=this._editToolbar?.div;t?t.before(e):this.div.append(e)}getClientDimensions(){return this.div.getBoundingClientRect()}createAltText(){return this.#s||(Rs.initialize(_e._l10n),this.#s=new Rs(this),this.#e&&(this.#s.data=this.#e,this.#e=null)),this.#s}get altTextData(){return this.#s?.data}set altTextData(e){this.#s&&(this.#s.data=e)}get guessedAltText(){return this.#s?.guessedText}async setGuessedAltText(e){await this.#s?.setGuessedText(e)}serializeAltText(e){return this.#s?.serialize(e)}hasAltText(){return!!this.#s&&!this.#s.isEmpty()}hasAltTextData(){return this.#s?.hasData()??!1}focusCommentButton(){this.#n?.focusButton()}addCommentButton(){return this.#n||=new Hc(this)}addStandaloneCommentButton(){if(this.#i){this._uiManager.isEditingMode()&&this.#i.classList.remove("hidden");return}this.hasComment&&(this.#i=this.#n.renderForStandalone(),this.div.append(this.#i))}removeStandaloneCommentButton(){this.#n.removeStandaloneCommentButton(),this.#i=null}hideStandaloneCommentButton(){this.#i?.classList.add("hidden")}get comment(){const{data:{richText:e,text:t,date:s,deleted:i}}=this.#n;return{text:t,richText:e,date:s,deleted:i,color:this.getNonHCMColor(),opacity:this.opacity??1}}set comment(e){this.#n||=new Hc(this),this.#n.data=e,this.hasComment?(this.removeCommentButtonFromToolbar(),this.addStandaloneCommentButton(),this._uiManager.updateComment(this)):(this.addCommentButtonInToolbar(),this.removeStandaloneCommentButton(),this._uiManager.removeComment(this))}setCommentData({comment:e,popupRef:t,richText:s}){if(!t||(this.#n||=new Hc(this),this.#n.setInitialText(e,s),!this.annotationElementId))return;const i=this._uiManager.getAndRemoveDataFromAnnotationStorage(this.annotationElementId);i&&this.updateFromAnnotationLayer(i)}get hasEditedComment(){return this.#n?.hasBeenEdited()}get hasDeletedComment(){return this.#n?.isDeleted()}get hasComment(){return!!this.#n&&!this.#n.isEmpty()&&!this.#n.isDeleted()}async editComment(e){this.#n||=new Hc(this),this.#n.edit(e)}toggleComment(e,t=void 0){this.hasComment&&this._uiManager.toggleComment(this,e,t)}setSelectedCommentButton(e){this.#n.setSelectedButton(e)}addComment(e){if(this.hasEditedComment){const[,,,i]=e.rect,[r]=this.pageDimensions,[o]=this.pageTranslation,c=o+r+1,u=i-100,h=c+180;e.popup={contents:this.comment.text,deleted:this.comment.deleted,rect:[c,u,h,i]}}}updateFromAnnotationLayer({popup:{contents:e,deleted:t}}){this.#n.data=t?null:e}get parentBoundingClientRect(){return this.parent.boundingClientRect}render(){const e=this.div=document.createElement("div");e.setAttribute("data-editor-rotation",(360-this.rotation)%360),e.className=this.name,e.setAttribute("id",this.id),e.tabIndex=this.#r?-1:0,e.setAttribute("role","application"),this.defaultL10nId&&e.setAttribute("data-l10n-id",this.defaultL10nId),this._isVisible||e.classList.add("hidden"),this.setInForeground(),this.#$();const[t,s]=this.parentDimensions;this.parentRotation%180!==0&&(e.style.maxWidth=`${(100*s/t).toFixed(2)}%`,e.style.maxHeight=`${(100*t/s).toFixed(2)}%`);const[i,r]=this.getInitialTranslation();return this.translate(i,r),XS(this,e,["keydown","pointerdown","dblclick"]),this.isResizable&&this._uiManager._supportsPinchToZoom&&(this.#C||=new wl({container:e,isPinchingDisabled:()=>!this.isSelected,onPinchStart:this.#H.bind(this),onPinching:this.#k.bind(this),onPinchEnd:this.#b.bind(this),signal:this._uiManager._signal})),this.addStandaloneCommentButton(),this._uiManager._editorUndoBar?.hide(),e}#H(){this.#d={savedX:this.x,savedY:this.y,savedWidth:this.width,savedHeight:this.height},this.#s?.toggle(!1),this.parent.togglePointerEvents(!1)}#k(e,t,s){let r=.7*(s/t)+1-.7;if(r===1)return;const o=this.#P(this.rotation),c=(N,M)=>[o[0]*N+o[2]*M,o[1]*N+o[3]*M],[u,h]=this.parentDimensions,f=this.x,p=this.y,g=this.width,w=this.height,A=_e.MIN_SIZE/u,x=_e.MIN_SIZE/h;r=Math.max(Math.min(r,1/g,1/w),A/g,x/w);const S=_e._round(g*r),E=_e._round(w*r);if(S===g&&E===w)return;this.#u||=[f,p,g,w];const _=c(g/2,w/2),k=_e._round(f+_[0]),T=_e._round(p+_[1]),P=c(S/2,E/2);this.x=k-P[0],this.y=T-P[1],this.width=S,this.height=E,this.setDims(),this.fixAndSetPosition(),this._onResizing()}#b(){this.#s?.toggle(!0),this.parent.togglePointerEvents(!0),this.#j()}pointerdown(e){const{isMac:t}=qt.platform;if(e.button!==0||e.ctrlKey&&t){e.preventDefault();return}if(this.#p=!0,this._isDraggable){this.#B(e);return}this.#M(e)}#M(e){const{isMac:t}=qt.platform;e.ctrlKey&&!t||e.shiftKey||e.metaKey&&t?this.parent.toggleSelected(this):this.parent.setSelected(this)}#B(e){const{isSelected:t}=this;this._uiManager.setUpDragSession();let s=!1;const i=new AbortController,r=this._uiManager.combinedSignal(i),o={capture:!0,passive:!1,signal:r},c=h=>{i.abort(),this.#o=null,this.#p=!1,this._uiManager.endDragSession()||this.#M(h),s&&this._onStopDragging()};t&&(this.#E=e.clientX,this.#A=e.clientY,this.#o=e.pointerId,this.#a=e.pointerType,window.addEventListener("pointermove",h=>{s||(s=!0,this._uiManager.toggleComment(this,!0,!1),this._onStartDragging());const{clientX:f,clientY:p,pointerId:g}=h;if(g!==this.#o){yt(h);return}const[w,A]=this.screenToPageTranslation(f-this.#E,p-this.#A);this.#E=f,this.#A=p,this._uiManager.dragSelectedEditors(w,A)},o),window.addEventListener("touchmove",yt,o),window.addEventListener("pointerdown",h=>{h.pointerType===this.#a&&(this.#C||h.isPrimary)&&c(h),yt(h)},o));const u=h=>{if(!this.#o||this.#o===h.pointerId){c(h);return}yt(h)};window.addEventListener("pointerup",u,{signal:r}),window.addEventListener("blur",u,{signal:r})}_onStartDragging(){}_onStopDragging(){}moveInDOM(){this.#v&&clearTimeout(this.#v),this.#v=setTimeout(()=>{this.#v=null,this.parent?.moveEditorInDOM(this)},0)}_setParentAndPosition(e,t,s){e.changeParent(this),this.x=t,this.y=s,this.fixAndSetPosition(),this._onTranslated()}getRect(e,t,s=this.rotation){const i=this.parentScale,[r,o]=this.pageDimensions,[c,u]=this.pageTranslation,h=e/i,f=t/i,p=this.x*r,g=this.y*o,w=this.width*r,A=this.height*o;switch(s){case 0:return[p+h+c,o-g-f-A+u,p+h+w+c,o-g-f+u];case 90:return[p+f+c,o-g+h+u,p+f+A+c,o-g+h+w+u];case 180:return[p-h-w+c,o-g+f+u,p-h+c,o-g+f+A+u];case 270:return[p-f-A+c,o-g-h-w+u,p-f+c,o-g-h+u];default:throw new Error("Invalid rotation")}}getRectInCurrentCoords(e,t){const[s,i,r,o]=e,c=r-s,u=o-i;switch(this.rotation){case 0:return[s,t-o,c,u];case 90:return[s,t-i,u,c];case 180:return[r,t-i,c,u];case 270:return[r,t-o,u,c];default:throw new Error("Invalid rotation")}}getPDFRect(){return this.getRect(0,0)}getNonHCMColor(){return this.color&&_e._colorManager.convert(this._uiManager.getNonHCMColor(this.color))}onUpdatedColor(){this.#n?.onUpdatedColor()}getData(){const{comment:{text:e,color:t,date:s,opacity:i,deleted:r,richText:o},uid:c,pageIndex:u,creationDate:h,modificationDate:f}=this;return{id:c,pageIndex:u,rect:this.getPDFRect(),richText:o,contentsObj:{str:e},creationDate:h,modificationDate:s||f,popupRef:!r,color:t,opacity:i}}onceAdded(e){}isEmpty(){return!1}enableEditMode(){return this.isInEditMode()?!1:(this.parent.setEditingState(!1),this.#y=!0,!0)}disableEditMode(){return this.isInEditMode()?(this.parent.setEditingState(!0),this.#y=!1,!0):!1}isInEditMode(){return this.#y}shouldGetKeyboardEvents(){return this.#w}needsToBeRebuilt(){return this.div&&!this.isAttachedToDOM}get isOnScreen(){const{top:e,left:t,bottom:s,right:i}=this.getClientDimensions(),{innerHeight:r,innerWidth:o}=window;return t<o&&i>0&&e<r&&s>0}#$(){if(this.#f||!this.div)return;this.#f=new AbortController;const e=this._uiManager.combinedSignal(this.#f);this.div.addEventListener("focusin",this.focusin.bind(this),{signal:e}),this.div.addEventListener("focusout",this.focusout.bind(this),{signal:e})}rebuild(){this.#$()}rotate(e){}resize(){}serializeDeleted(){return{id:this.annotationElementId,deleted:!0,pageIndex:this.pageIndex,popupRef:this._initialData?.popupRef||""}}serialize(e=!1,t=null){return{annotationType:this.mode,pageIndex:this.pageIndex,rect:this.getPDFRect(),rotation:this.rotation,structTreeParentId:this._structTreeParentId,popupRef:this._initialData?.popupRef||""}}static async deserialize(e,t,s){const i=new this.prototype.constructor({parent:t,id:t.getNextId(),uiManager:s,annotationElementId:e.annotationElementId,creationDate:e.creationDate,modificationDate:e.modificationDate});i.rotation=e.rotation,i.#e=e.accessibilityData,i._isCopy=e.isCopy||!1;const[r,o]=i.pageDimensions,[c,u,h,f]=i.getRectInCurrentCoords(e.rect,o);return i.x=c/r,i.y=u/o,i.width=h/r,i.height=f/o,i}get hasBeenModified(){return!!this.annotationElementId&&(this.deleted||this.serialize()!==null)}remove(){if(this.#f?.abort(),this.#f=null,this.isEmpty()||this.commit(),this.parent?this.parent.remove(this):this._uiManager.removeEditor(this),this.#v&&(clearTimeout(this.#v),this.#v=null),this.#I(),this.removeEditToolbar(),this.#x){for(const e of this.#x.values())clearTimeout(e);this.#x=null}this.parent=null,this.#C?.destroy(),this.#C=null}get isResizable(){return!1}makeResizable(){this.isResizable&&(this.#O(),this.#c.classList.remove("hidden"))}get toolbarPosition(){return null}get commentButtonPosition(){return this._uiManager.direction==="ltr"?[1,0]:[0,0]}get commentButtonPositionInPage(){const{commentButtonPosition:[e,t]}=this,[s,i,r,o]=this.getPDFRect();return[_e._round(s+(r-s)*e),_e._round(i+(o-i)*(1-t))]}get commentButtonColor(){return this._uiManager.makeCommentColor(this.getNonHCMColor(),this.opacity)}get commentPopupPosition(){return this.#n.commentPopupPositionInLayer}set commentPopupPosition(e){this.#n.commentPopupPositionInLayer=e}hasDefaultPopupPosition(){return this.#n.hasDefaultPopupPosition()}get commentButtonWidth(){return this.#n.commentButtonWidth}get elementBeforePopup(){return this.div}setCommentButtonStates(e){this.#n.setCommentButtonStates(e)}keydown(e){if(!this.isResizable||e.target!==this.div||e.key!=="Enter")return;this._uiManager.setSelected(this),this.#d={savedX:this.x,savedY:this.y,savedWidth:this.width,savedHeight:this.height};const t=this.#c.children;if(!this.#t){this.#t=Array.from(t);const o=this.#q.bind(this),c=this.#G.bind(this),u=this._uiManager._signal;for(const h of this.#t){const f=h.getAttribute("data-resizer-name");h.setAttribute("role","spinbutton"),h.addEventListener("keydown",o,{signal:u}),h.addEventListener("blur",c,{signal:u}),h.addEventListener("focus",this.#K.bind(this,f),{signal:u}),h.setAttribute("data-l10n-id",_e._l10nResizer[f])}}const s=this.#t[0];let i=0;for(const o of t){if(o===s)break;i++}const r=(360-this.rotation+this.parentRotation)%360/90*(this.#t.length/4);if(r!==i){if(r<i)for(let c=0;c<i-r;c++)this.#c.append(this.#c.firstChild);else if(r>i)for(let c=0;c<r-i;c++)this.#c.firstChild.before(this.#c.lastChild);let o=0;for(const c of t){const h=this.#t[o++].getAttribute("data-resizer-name");c.setAttribute("data-l10n-id",_e._l10nResizer[h])}}this.#V(0),this.#w=!0,this.#c.firstChild.focus({focusVisible:!0}),e.preventDefault(),e.stopImmediatePropagation()}#q(e){_e._resizerKeyboardManager.exec(this,e)}#G(e){this.#w&&e.relatedTarget?.parentNode!==this.#c&&this.#I()}#K(e){this.#g=this.#w?e:""}#V(e){if(this.#t)for(const t of this.#t)t.tabIndex=e}_resizeWithKeyboard(e,t){this.#w&&this.#L(this.#g,{deltaX:e,deltaY:t,fromKeyboard:!0})}#I(){this.#w=!1,this.#V(-1),this.#j()}_stopResizingWithKeyboard(){this.#I(),this.div.focus()}select(){if(this.isSelected&&this._editToolbar){this._editToolbar.show();return}if(this.isSelected=!0,this.makeResizable(),this.div?.classList.add("selectedEditor"),!this._editToolbar){this.addEditToolbar().then(()=>{this.div?.classList.contains("selectedEditor")&&this._editToolbar?.show()});return}this._editToolbar?.show(),this.#s?.toggleAltTextBadge(!1)}focus(){this.div&&!this.div.contains(document.activeElement)&&setTimeout(()=>this.div?.focus({preventScroll:!0}),0)}unselect(){this.isSelected&&(this.isSelected=!1,this.#c?.classList.add("hidden"),this.div?.classList.remove("selectedEditor"),this.div?.contains(document.activeElement)&&this._uiManager.currentLayer.div.focus({preventScroll:!0}),this._editToolbar?.hide(),this.#s?.toggleAltTextBadge(!0),this.hasComment&&this._uiManager.toggleComment(this,!1,!1))}updateParams(e,t){}disableEditing(){}enableEditing(){}get canChangeContent(){return!1}enterInEditMode(){this.canChangeContent&&(this.enableEditMode(),this.div.focus())}dblclick(e){e.target.nodeName!=="BUTTON"&&(this.enterInEditMode(),this.parent.updateToolbar({mode:this.constructor._editorType,editId:this.id}))}getElementForAltText(){return this.div}get contentDiv(){return this.div}get isEditing(){return this.#m}set isEditing(e){this.#m=e,this.parent&&(e?(this.parent.setSelected(this),this.parent.setActiveEditor(this)):this.parent.setActiveEditor(null))}static get MIN_SIZE(){return 16}static canCreateNewEmptyEditor(){return!0}get telemetryInitialData(){return{action:"added"}}get telemetryFinalData(){return null}_reportTelemetry(e,t=!1){if(t){this.#x||=new Map;const{action:s}=e;let i=this.#x.get(s);i&&clearTimeout(i),i=setTimeout(()=>{this._reportTelemetry(e),this.#x.delete(s),this.#x.size===0&&(this.#x=null)},_e._telemetryTimeout),this.#x.set(s,i);return}e.type||=this.editorType,this._uiManager._eventBus.dispatch("reporttelemetry",{source:this,details:{type:"editing",data:e}})}show(e=this._isVisible){this.div.classList.toggle("hidden",!e),this._isVisible=e}enable(){this.div&&(this.div.tabIndex=0),this.#r=!1}disable(){this.div&&(this.div.tabIndex=-1),this.#r=!0}updateFakeAnnotationElement(e){if(!this.#h&&!this.deleted){this.#h=e.addFakeAnnotation(this);return}if(this.deleted){this.#h.remove(),this.#h=null;return}(this.hasEditedComment||this._hasBeenMoved||this._hasBeenResized)&&this.#h.updateEdited({rect:this.getPDFRect(),popup:this.comment})}renderAnnotationElement(e){if(this.deleted)return e.hide(),null;let t=e.container.querySelector(".annotationContent");if(!t)t=document.createElement("div"),t.classList.add("annotationContent",this.editorType),e.container.prepend(t);else if(t.nodeName==="CANVAS"){const s=t;t=document.createElement("div"),t.classList.add("annotationContent",this.editorType),s.before(t)}return t}resetAnnotationElement(e){const{firstChild:t}=e.container;t?.nodeName==="DIV"&&t.classList.contains("annotationContent")&&t.remove()}}class L4 extends _e{constructor(e){super(e),this.annotationElementId=e.annotationElementId,this.deleted=!0}serialize(){return this.serializeDeleted()}}const Gx=3285377520,Xn=4294901760,Ts=65535;class ZS{constructor(e){this.h1=e?e&4294967295:Gx,this.h2=e?e&4294967295:Gx}update(e){let t,s;if(typeof e=="string"){t=new Uint8Array(e.length*2),s=0;for(let x=0,S=e.length;x<S;x++){const E=e.charCodeAt(x);E<=255?t[s++]=E:(t[s++]=E>>>8,t[s++]=E&255)}}else if(ArrayBuffer.isView(e))t=e.slice(),s=t.byteLength;else throw new Error("Invalid data format, must be a string or TypedArray.");const i=s>>2,r=s-i*4,o=new Uint32Array(t.buffer,0,i);let c=0,u=0,h=this.h1,f=this.h2;const p=3432918353,g=461845907,w=p&Ts,A=g&Ts;for(let x=0;x<i;x++)x&1?(c=o[x],c=c*p&Xn|c*w&Ts,c=c<<15|c>>>17,c=c*g&Xn|c*A&Ts,h^=c,h=h<<13|h>>>19,h=h*5+3864292196):(u=o[x],u=u*p&Xn|u*w&Ts,u=u<<15|u>>>17,u=u*g&Xn|u*A&Ts,f^=u,f=f<<13|f>>>19,f=f*5+3864292196);switch(c=0,r){case 3:c^=t[i*4+2]<<16;case 2:c^=t[i*4+1]<<8;case 1:c^=t[i*4],c=c*p&Xn|c*w&Ts,c=c<<15|c>>>17,c=c*g&Xn|c*A&Ts,i&1?h^=c:f^=c}this.h1=h,this.h2=f}hexdigest(){let e=this.h1,t=this.h2;return e^=t>>>1,e=e*3981806797&Xn|e*36045&Ts,t=t*4283543511&Xn|((t<<16|e>>>16)*2950163797&Xn)>>>16,e^=t>>>1,e=e*444984403&Xn|e*60499&Ts,t=t*3301882366&Xn|((t<<16|e>>>16)*3120437893&Xn)>>>16,e^=t>>>1,(e>>>0).toString(16).padStart(8,"0")+(t>>>0).toString(16).padStart(8,"0")}}const Tp=Object.freeze({map:null,hash:"",transfer:void 0});class sg{#e=!1;#t=null;#s=null;#n=new Map;constructor(){this.onSetModified=null,this.onResetModified=null,this.onAnnotationEditor=null}getValue(e,t){const s=this.#n.get(e);return s===void 0?t:Object.assign(t,s)}getRawValue(e){return this.#n.get(e)}remove(e){const t=this.#n.get(e);if(t!==void 0&&(t instanceof _e&&this.#s.delete(t.annotationElementId),this.#n.delete(e),this.#n.size===0&&this.resetModified(),typeof this.onAnnotationEditor=="function")){for(const s of this.#n.values())if(s instanceof _e)return;this.onAnnotationEditor(null)}}setValue(e,t){const s=this.#n.get(e);let i=!1;if(s!==void 0)for(const[r,o]of Object.entries(t))s[r]!==o&&(i=!0,s[r]=o);else i=!0,this.#n.set(e,t);i&&this.#i(),t instanceof _e&&((this.#s||=new Map).set(t.annotationElementId,t),typeof this.onAnnotationEditor=="function"&&this.onAnnotationEditor(t.constructor._type))}has(e){return this.#n.has(e)}get size(){return this.#n.size}#i(){this.#e||(this.#e=!0,typeof this.onSetModified=="function"&&this.onSetModified())}resetModified(){this.#e&&(this.#e=!1,typeof this.onResetModified=="function"&&this.onResetModified())}get print(){return new YS(this)}get serializable(){if(this.#n.size===0)return Tp;const e=new Map,t=new ZS,s=[],i=Object.create(null);let r=!1;for(const[o,c]of this.#n){const u=c instanceof _e?c.serialize(!1,i):c;u&&(e.set(o,u),t.update(`${o}:${JSON.stringify(u)}`),r||=!!u.bitmap)}if(r)for(const o of e.values())o.bitmap&&s.push(o.bitmap);return e.size>0?{map:e,hash:t.hexdigest(),transfer:s}:Tp}get editorStats(){let e=null;const t=new Map;let s=0,i=0;for(const r of this.#n.values()){if(!(r instanceof _e)){r.popup&&(r.popup.deleted?i+=1:s+=1);continue}r.isCommentDeleted?i+=1:r.hasEditedComment&&(s+=1);const o=r.telemetryFinalData;if(!o)continue;const{type:c}=o;t.has(c)||t.set(c,Object.getPrototypeOf(r).constructor),e||=Object.create(null);const u=e[c]||=new Map;for(const[h,f]of Object.entries(o)){if(h==="type")continue;let p=u.get(h);p||(p=new Map,u.set(h,p));const g=p.get(f)??0;p.set(f,g+1)}}if((i>0||s>0)&&(e||=Object.create(null),e.comments={deleted:i,edited:s}),!e)return null;for(const[r,o]of t)e[r]=o.computeTelemetryFinalData(e[r]);return e}resetModifiedIds(){this.#t=null}updateEditor(e,t){const s=this.#s?.get(e);return s?(s.updateFromAnnotationLayer(t),!0):!1}getEditor(e){return this.#s?.get(e)||null}get modifiedIds(){if(this.#t)return this.#t;const e=[];if(this.#s)for(const t of this.#s.values())t.serialize()&&e.push(t.annotationElementId);return this.#t={ids:new Set(e),hash:e.join(",")}}[Symbol.iterator](){return this.#n.entries()}}class YS extends sg{#e;constructor(e){super();const{map:t,hash:s,transfer:i}=e.serializable,r=structuredClone(t,i?{transfer:i}:null);this.#e={map:r,hash:s,transfer:i}}get print(){nt("Should not call PrintAnnotationStorage.print")}get serializable(){return this.#e}get modifiedIds(){return Ve(this,"modifiedIds",{ids:new Set,hash:""})}}class I4{#e=new Set;constructor({ownerDocument:e=globalThis.document,styleElement:t=null}){this._document=e,this.nativeFontFaces=new Set,this.styleElement=null,this.loadingRequests=[],this.loadTestFontId=0}addNativeFontFace(e){this.nativeFontFaces.add(e),this._document.fonts.add(e)}removeNativeFontFace(e){this.nativeFontFaces.delete(e),this._document.fonts.delete(e)}insertRule(e){this.styleElement||(this.styleElement=this._document.createElement("style"),this._document.documentElement.getElementsByTagName("head")[0].append(this.styleElement));const t=this.styleElement.sheet;t.insertRule(e,t.cssRules.length)}clear(){for(const e of this.nativeFontFaces)this._document.fonts.delete(e);this.nativeFontFaces.clear(),this.#e.clear(),this.styleElement&&(this.styleElement.remove(),this.styleElement=null)}async loadSystemFont({systemFontInfo:e,disableFontFace:t,_inspectFont:s}){if(!(!e||this.#e.has(e.loadedName))){if(qe(!t,"loadSystemFont shouldn't be called when `disableFontFace` is set."),this.isFontLoadingAPISupported){const{loadedName:i,src:r,style:o}=e,c=new FontFace(i,r,o);this.addNativeFontFace(c);try{await c.load(),this.#e.add(i),s?.(e)}catch{Oe(`Cannot load system font: ${e.baseFontName}, installing it could help to improve PDF rendering.`),this.removeNativeFontFace(c)}return}nt("Not implemented: loadSystemFont without the Font Loading API.")}}async bind(e){if(e.attached||e.missingFile&&!e.systemFontInfo)return;if(e.attached=!0,e.systemFontInfo){await this.loadSystemFont(e);return}if(this.isFontLoadingAPISupported){const s=e.createNativeFontFace();if(s){this.addNativeFontFace(s);try{await s.loaded}catch(i){throw Oe(`Failed to load font '${s.family}': '${i}'.`),e.disableFontFace=!0,i}}return}const t=e.createFontFaceRule();if(t){if(this.insertRule(t),this.isSyncFontLoadingSupported)return;await new Promise(s=>{const i=this._queueLoadingCallback(s);this._prepareFontLoadEvent(e,i)})}}get isFontLoadingAPISupported(){const e=!!this._document?.fonts;return Ve(this,"isFontLoadingAPISupported",e)}get isSyncFontLoadingSupported(){return Ve(this,"isSyncFontLoadingSupported",mn||qt.platform.isFirefox)}_queueLoadingCallback(e){function t(){for(qe(!i.done,"completeRequest() cannot be called twice."),i.done=!0;s.length>0&&s[0].done;){const r=s.shift();setTimeout(r.callback,0)}}const{loadingRequests:s}=this,i={done:!1,complete:t,callback:e};return s.push(i),i}get _loadTestFont(){const e=atob("T1RUTwALAIAAAwAwQ0ZGIDHtZg4AAAOYAAAAgUZGVE1lkzZwAAAEHAAAABxHREVGABQAFQAABDgAAAAeT1MvMlYNYwkAAAEgAAAAYGNtYXABDQLUAAACNAAAAUJoZWFk/xVFDQAAALwAAAA2aGhlYQdkA+oAAAD0AAAAJGhtdHgD6AAAAAAEWAAAAAZtYXhwAAJQAAAAARgAAAAGbmFtZVjmdH4AAAGAAAAAsXBvc3T/hgAzAAADeAAAACAAAQAAAAEAALZRFsRfDzz1AAsD6AAAAADOBOTLAAAAAM4KHDwAAAAAA+gDIQAAAAgAAgAAAAAAAAABAAADIQAAAFoD6AAAAAAD6AABAAAAAAAAAAAAAAAAAAAAAQAAUAAAAgAAAAQD6AH0AAUAAAKKArwAAACMAooCvAAAAeAAMQECAAACAAYJAAAAAAAAAAAAAQAAAAAAAAAAAAAAAFBmRWQAwAAuAC4DIP84AFoDIQAAAAAAAQAAAAAAAAAAACAAIAABAAAADgCuAAEAAAAAAAAAAQAAAAEAAAAAAAEAAQAAAAEAAAAAAAIAAQAAAAEAAAAAAAMAAQAAAAEAAAAAAAQAAQAAAAEAAAAAAAUAAQAAAAEAAAAAAAYAAQAAAAMAAQQJAAAAAgABAAMAAQQJAAEAAgABAAMAAQQJAAIAAgABAAMAAQQJAAMAAgABAAMAAQQJAAQAAgABAAMAAQQJAAUAAgABAAMAAQQJAAYAAgABWABYAAAAAAAAAwAAAAMAAAAcAAEAAAAAADwAAwABAAAAHAAEACAAAAAEAAQAAQAAAC7//wAAAC7////TAAEAAAAAAAABBgAAAQAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAEAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAMAAAAAAAD/gwAyAAAAAQAAAAAAAAAAAAAAAAAAAAABAAQEAAEBAQJYAAEBASH4DwD4GwHEAvgcA/gXBIwMAYuL+nz5tQXkD5j3CBLnEQACAQEBIVhYWFhYWFhYWFhYWFhYWFhYWFhYWFhYWFhYWFhYWFhYAAABAQAADwACAQEEE/t3Dov6fAH6fAT+fPp8+nwHDosMCvm1Cvm1DAz6fBQAAAAAAAABAAAAAMmJbzEAAAAAzgTjFQAAAADOBOQpAAEAAAAAAAAADAAUAAQAAAABAAAAAgABAAAAAAAAAAAD6AAAAAAAAA==");return Ve(this,"_loadTestFont",e)}_prepareFontLoadEvent(e,t){function s(T,P){return T.charCodeAt(P)<<24|T.charCodeAt(P+1)<<16|T.charCodeAt(P+2)<<8|T.charCodeAt(P+3)&255}function i(T,P,N,M){const I=T.substring(0,P),$=T.substring(P+N);return I+M+$}let r,o;const c=this._document.createElement("canvas");c.width=1,c.height=1;const u=c.getContext("2d");let h=0;function f(T,P){if(++h>30){Oe("Load test font never loaded."),P();return}if(u.font="30px "+T,u.fillText(".",0,20),u.getImageData(0,0,1,1).data[3]>0){P();return}setTimeout(f.bind(null,T,P))}const p=`lt${Date.now()}${this.loadTestFontId++}`;let g=this._loadTestFont;g=i(g,976,p.length,p);const A=16,x=1482184792;let S=s(g,A);for(r=0,o=p.length-3;r<o;r+=4)S=S-x+s(p,r)|0;r<p.length&&(S=S-x+s(p+"XXX",r)|0),g=i(g,A,4,S4(S));const E=`url(data:font/opentype;base64,${btoa(g)});`,_=`@font-face {font-family:"${p}";src:${E}}`;this.insertRule(_);const k=this._document.createElement("div");k.style.visibility="hidden",k.style.width=k.style.height="10px",k.style.position="absolute",k.style.top=k.style.left="0px";for(const T of[e.loadedName,p]){const P=this._document.createElement("span");P.textContent="Hi",P.style.fontFamily=T,k.append(P)}this._document.body.append(k),f(p,()=>{k.remove(),t.complete()})}}class O4{#e;constructor(e,t=null,s,i){this.compiledGlyphs=Object.create(null),this.#e=e,this._inspectFont=t,s&&Object.assign(this,s),i&&(this.charProcOperatorList=i)}createNativeFontFace(){if(!this.data||this.disableFontFace)return null;let e;if(!this.cssFontInfo)e=new FontFace(this.loadedName,this.data,{});else{const t={weight:this.cssFontInfo.fontWeight};this.cssFontInfo.italicAngle&&(t.style=`oblique ${this.cssFontInfo.italicAngle}deg`),e=new FontFace(this.cssFontInfo.fontFamily,this.data,t)}return this._inspectFont?.(this),e}createFontFaceRule(){if(!this.data||this.disableFontFace)return null;const e=`url(data:${this.mimetype};base64,${VS(this.data)});`;let t;if(!this.cssFontInfo)t=`@font-face {font-family:"${this.loadedName}";src:${e}}`;else{let s=`font-weight: ${this.cssFontInfo.fontWeight};`;this.cssFontInfo.italicAngle&&(s+=`font-style: oblique ${this.cssFontInfo.italicAngle}deg;`),t=`@font-face {font-family:"${this.cssFontInfo.fontFamily}";${s}src:${e}}`}return this._inspectFont?.(this,e),t}getPathGenerator(e,t){if(this.compiledGlyphs[t]!==void 0)return this.compiledGlyphs[t];const s=this.loadedName+"_path_"+t;let i;try{i=e.get(s)}catch(o){Oe(`getPathGenerator - ignoring character: "${o}".`)}const r=new Path2D(i||"");return this.fontExtraProperties||e.delete(s),this.compiledGlyphs[t]=r}get black(){return this.#e.black}get bold(){return this.#e.bold}get disableFontFace(){return this.#e.disableFontFace??!1}get fontExtraProperties(){return this.#e.fontExtraProperties??!1}get isInvalidPDFjsFont(){return this.#e.isInvalidPDFjsFont}get isType3Font(){return this.#e.isType3Font}get italic(){return this.#e.italic}get missingFile(){return this.#e.missingFile}get remeasure(){return this.#e.remeasure}get vertical(){return this.#e.vertical}get ascent(){return this.#e.ascent}get defaultWidth(){return this.#e.defaultWidth}get descent(){return this.#e.descent}get bbox(){return this.#e.bbox}get fontMatrix(){return this.#e.fontMatrix}get fallbackName(){return this.#e.fallbackName}get loadedName(){return this.#e.loadedName}get mimetype(){return this.#e.mimetype}get name(){return this.#e.name}get data(){return this.#e.data}clearData(){this.#e.clearData()}get cssFontInfo(){return this.#e.cssFontInfo}get systemFontInfo(){return this.#e.systemFontInfo}get defaultVMetrics(){return this.#e.defaultVMetrics}}function j4(n){if(n instanceof URL)return n.href;if(typeof n=="string"){if(mn)return n;const e=URL.parse(n,window.location);if(e)return e.href}throw new Error("Invalid PDF url data: either string or URL-object is expected in the url property.")}function B4(n){if(mn&&typeof Buffer<"u"&&n instanceof Buffer)throw new Error("Please provide binary data as `Uint8Array`, rather than `Buffer`.");if(n instanceof Uint8Array&&n.byteLength===n.buffer.byteLength)return n;if(typeof n=="string")return ml(n);if(n instanceof ArrayBuffer||ArrayBuffer.isView(n)||typeof n=="object"&&!isNaN(n?.length))return new Uint8Array(n);throw new Error("Invalid PDF binary data: either TypedArray, string, or array-like object is expected in the data property.")}function Wc(n){if(typeof n!="string")return null;if(n.endsWith("/"))return n;throw new Error(`Invalid factory url: "${n}" must include trailing slash.`)}const Pp=n=>typeof n=="object"&&Number.isInteger(n?.num)&&n.num>=0&&Number.isInteger(n?.gen)&&n.gen>=0,z4=n=>typeof n=="object"&&typeof n?.name=="string",QS=k4.bind(null,Pp,z4);class $4{#e=new Map;#t=Promise.resolve();postMessage(e,t){const s={data:structuredClone(e,t?{transfer:t}:null)};this.#t.then(()=>{for(const[i]of this.#e)i.call(this,s)})}addEventListener(e,t,s=null){let i=null;if(s?.signal instanceof AbortSignal){const{signal:r}=s;if(r.aborted){Oe("LoopbackPort - cannot use an `aborted` signal.");return}const o=()=>this.removeEventListener(e,t);i=()=>r.removeEventListener("abort",o),r.addEventListener("abort",o)}this.#e.set(t,i)}removeEventListener(e,t){this.#e.get(t)?.(),this.#e.delete(t)}terminate(){for(const[,e]of this.#e)e?.();this.#e.clear()}}const Gc={DATA:1,ERROR:2},Rt={CANCEL:1,CANCEL_COMPLETE:2,CLOSE:3,ENQUEUE:4,ERROR:5,PULL:6,PULL_COMPLETE:7,START_COMPLETE:8};function qx(){}function Cn(n){if(n instanceof ii||n instanceof ku||n instanceof Bx||n instanceof Ya||n instanceof _f)return n;switch(n instanceof Error||typeof n=="object"&&n!==null||nt('wrapReason: Expected "reason" to be a (possibly cloned) Error.'),n.name){case"AbortException":return new ii(n.message);case"InvalidPDFException":return new ku(n.message);case"PasswordException":return new Bx(n.message,n.code);case"ResponseException":return new Ya(n.message,n.status,n.missing);case"UnknownErrorException":return new _f(n.message,n.details)}return new _f(n.message,n.toString())}class Pa{#e=new AbortController;constructor(e,t,s){this.sourceName=e,this.targetName=t,this.comObj=s,this.callbackId=1,this.streamId=1,this.streamSinks=Object.create(null),this.streamControllers=Object.create(null),this.callbackCapabilities=Object.create(null),this.actionHandler=Object.create(null),s.addEventListener("message",this.#t.bind(this),{signal:this.#e.signal})}#t({data:e}){if(e.targetName!==this.sourceName)return;if(e.stream){this.#n(e);return}if(e.callback){const s=e.callbackId,i=this.callbackCapabilities[s];if(!i)throw new Error(`Cannot resolve callback ${s}`);if(delete this.callbackCapabilities[s],e.callback===Gc.DATA)i.resolve(e.data);else if(e.callback===Gc.ERROR)i.reject(Cn(e.reason));else throw new Error("Unexpected callback case");return}const t=this.actionHandler[e.action];if(!t)throw new Error(`Unknown action from worker: ${e.action}`);if(e.callbackId){const s=this.sourceName,i=e.sourceName,r=this.comObj;Promise.try(t,e.data).then(function(o){r.postMessage({sourceName:s,targetName:i,callback:Gc.DATA,callbackId:e.callbackId,data:o})},function(o){r.postMessage({sourceName:s,targetName:i,callback:Gc.ERROR,callbackId:e.callbackId,reason:Cn(o)})});return}if(e.streamId){this.#s(e);return}t(e.data)}on(e,t){const s=this.actionHandler;if(s[e])throw new Error(`There is already an actionName called "${e}"`);s[e]=t}send(e,t,s){this.comObj.postMessage({sourceName:this.sourceName,targetName:this.targetName,action:e,data:t},s)}sendWithPromise(e,t,s){const i=this.callbackId++,r=Promise.withResolvers();this.callbackCapabilities[i]=r;try{this.comObj.postMessage({sourceName:this.sourceName,targetName:this.targetName,action:e,callbackId:i,data:t},s)}catch(o){r.reject(o)}return r.promise}sendWithStream(e,t,s,i){const r=this.streamId++,o=this.sourceName,c=this.targetName,u=this.comObj;return new ReadableStream({start:h=>{const f=Promise.withResolvers();return this.streamControllers[r]={controller:h,startCall:f,pullCall:null,cancelCall:null,isClosed:!1},u.postMessage({sourceName:o,targetName:c,action:e,streamId:r,data:t,desiredSize:h.desiredSize},i),f.promise},pull:h=>{const f=Promise.withResolvers();return this.streamControllers[r].pullCall=f,u.postMessage({sourceName:o,targetName:c,stream:Rt.PULL,streamId:r,desiredSize:h.desiredSize}),f.promise},cancel:h=>{qe(h instanceof Error,"cancel must have a valid reason");const f=Promise.withResolvers();return this.streamControllers[r].cancelCall=f,this.streamControllers[r].isClosed=!0,u.postMessage({sourceName:o,targetName:c,stream:Rt.CANCEL,streamId:r,reason:Cn(h)}),f.promise}},s)}#s(e){const t=e.streamId,s=this.sourceName,i=e.sourceName,r=this.comObj,o=this,c=this.actionHandler[e.action],u={enqueue(h,f=1,p){if(this.isCancelled)return;const g=this.desiredSize;this.desiredSize-=f,g>0&&this.desiredSize<=0&&(this.sinkCapability=Promise.withResolvers(),this.ready=this.sinkCapability.promise),r.postMessage({sourceName:s,targetName:i,stream:Rt.ENQUEUE,streamId:t,chunk:h},p)},close(){this.isCancelled||(this.isCancelled=!0,r.postMessage({sourceName:s,targetName:i,stream:Rt.CLOSE,streamId:t}),delete o.streamSinks[t])},error(h){qe(h instanceof Error,"error must have a valid reason"),!this.isCancelled&&(this.isCancelled=!0,r.postMessage({sourceName:s,targetName:i,stream:Rt.ERROR,streamId:t,reason:Cn(h)}))},sinkCapability:Promise.withResolvers(),onPull:null,onCancel:null,isCancelled:!1,desiredSize:e.desiredSize,ready:null};u.sinkCapability.resolve(),u.ready=u.sinkCapability.promise,this.streamSinks[t]=u,Promise.try(c,e.data,u).then(function(){r.postMessage({sourceName:s,targetName:i,stream:Rt.START_COMPLETE,streamId:t,success:!0})},function(h){r.postMessage({sourceName:s,targetName:i,stream:Rt.START_COMPLETE,streamId:t,reason:Cn(h)})})}#n(e){const t=e.streamId,s=this.sourceName,i=e.sourceName,r=this.comObj,o=this.streamControllers[t],c=this.streamSinks[t];switch(e.stream){case Rt.START_COMPLETE:e.success?o.startCall.resolve():o.startCall.reject(Cn(e.reason));break;case Rt.PULL_COMPLETE:e.success?o.pullCall.resolve():o.pullCall.reject(Cn(e.reason));break;case Rt.PULL:if(!c){r.postMessage({sourceName:s,targetName:i,stream:Rt.PULL_COMPLETE,streamId:t,success:!0});break}c.desiredSize<=0&&e.desiredSize>0&&c.sinkCapability.resolve(),c.desiredSize=e.desiredSize,Promise.try(c.onPull||qx).then(function(){r.postMessage({sourceName:s,targetName:i,stream:Rt.PULL_COMPLETE,streamId:t,success:!0})},function(h){r.postMessage({sourceName:s,targetName:i,stream:Rt.PULL_COMPLETE,streamId:t,reason:Cn(h)})});break;case Rt.ENQUEUE:if(qe(o,"enqueue should have stream controller"),o.isClosed)break;o.controller.enqueue(e.chunk);break;case Rt.CLOSE:if(qe(o,"close should have stream controller"),o.isClosed)break;o.isClosed=!0,o.controller.close(),this.#i(o,t);break;case Rt.ERROR:qe(o,"error should have stream controller"),o.controller.error(Cn(e.reason)),this.#i(o,t);break;case Rt.CANCEL_COMPLETE:e.success?o.cancelCall.resolve():o.cancelCall.reject(Cn(e.reason)),this.#i(o,t);break;case Rt.CANCEL:if(!c)break;const u=Cn(e.reason);Promise.try(c.onCancel||qx,u).then(function(){r.postMessage({sourceName:s,targetName:i,stream:Rt.CANCEL_COMPLETE,streamId:t,success:!0})},function(h){r.postMessage({sourceName:s,targetName:i,stream:Rt.CANCEL_COMPLETE,streamId:t,reason:Cn(h)})}),c.sinkCapability.reject(u),c.isCancelled=!0,delete this.streamSinks[t];break;default:throw new Error("Unexpected stream case")}}async#i(e,t){await Promise.allSettled([e.startCall?.promise,e.pullCall?.promise,e.cancelCall?.promise]),delete this.streamControllers[t]}destroy(){this.#e?.abort(),this.#e=null}}class JS{#e=!1;constructor({enableHWA:e=!1}){this.#e=e}create(e,t){if(e<=0||t<=0)throw new Error("Invalid canvas size");const s=this._createCanvas(e,t);return{canvas:s,context:s.getContext("2d",{willReadFrequently:!this.#e})}}reset(e,t,s){if(!e.canvas)throw new Error("Canvas is not specified");if(t<=0||s<=0)throw new Error("Invalid canvas size");e.canvas.width=t,e.canvas.height=s}destroy(e){if(!e.canvas)throw new Error("Canvas is not specified");e.canvas.width=0,e.canvas.height=0,e.canvas=null,e.context=null}_createCanvas(e,t){nt("Abstract method `_createCanvas` called.")}}class V4 extends JS{constructor({ownerDocument:e=globalThis.document,enableHWA:t=!1}){super({enableHWA:t}),this._document=e}_createCanvas(e,t){const s=this._document.createElement("canvas");return s.width=e,s.height=t,s}}class eE{constructor({baseUrl:e=null,isCompressed:t=!0}){this.baseUrl=e,this.isCompressed=t}async fetch({name:e}){if(!this.baseUrl)throw new Error("Ensure that the `cMapUrl` and `cMapPacked` API parameters are provided.");if(!e)throw new Error("CMap name must be specified.");const t=this.baseUrl+e+(this.isCompressed?".bcmap":"");return this._fetch(t).then(s=>({cMapData:s,isCompressed:this.isCompressed})).catch(s=>{throw new Error(`Unable to load ${this.isCompressed?"binary ":""}CMap at: ${t}`)})}async _fetch(e){nt("Abstract method `_fetch` called.")}}class Kx extends eE{async _fetch(e){const t=await Mo(e,this.isCompressed?"arraybuffer":"text");return t instanceof ArrayBuffer?new Uint8Array(t):ml(t)}}class tE{addFilter(e){return"none"}addHCMFilter(e,t){return"none"}addAlphaFilter(e){return"none"}addLuminosityFilter(e){return"none"}addHighlightHCMFilter(e,t,s,i,r){return"none"}destroy(e=!1){}}class U4 extends tE{#e;#t;#s;#n;#i;#r;#o=0;constructor({docId:e,ownerDocument:t=globalThis.document}){super(),this.#n=e,this.#i=t}get#a(){return this.#t||=new Map}get#c(){return this.#r||=new Map}get#l(){if(!this.#s){const e=this.#i.createElement("div"),{style:t}=e;t.visibility="hidden",t.contain="strict",t.width=t.height=0,t.position="absolute",t.top=t.left=0,t.zIndex=-1;const s=this.#i.createElementNS(Ys,"svg");s.setAttribute("width",0),s.setAttribute("height",0),this.#s=this.#i.createElementNS(Ys,"defs"),e.append(s),s.append(this.#s),this.#i.body.append(e)}return this.#s}#d(e){if(e.length===1){const u=e[0],h=new Array(256);for(let p=0;p<256;p++)h[p]=u[p]/255;const f=h.join(",");return[f,f,f]}const[t,s,i]=e,r=new Array(256),o=new Array(256),c=new Array(256);for(let u=0;u<256;u++)r[u]=t[u]/255,o[u]=s[u]/255,c[u]=i[u]/255;return[r.join(","),o.join(","),c.join(",")]}#h(e){if(this.#e===void 0){this.#e="";const t=this.#i.URL;t!==this.#i.baseURI&&(yl(t)?Oe('#createUrl: ignore "data:"-URL for performance reasons.'):this.#e=Zm(t,""))}return`url(${this.#e}#${e})`}addFilter(e){if(!e)return"none";let t=this.#a.get(e);if(t)return t;const[s,i,r]=this.#d(e),o=e.length===1?s:`${s}${i}${r}`;if(t=this.#a.get(o),t)return this.#a.set(e,t),t;const c=`g_${this.#n}_transfer_map_${this.#o++}`,u=this.#h(c);this.#a.set(e,u),this.#a.set(o,u);const h=this.#p(c);return this.#m(s,i,r,h),u}addHCMFilter(e,t){const s=`${e}-${t}`,i="base";let r=this.#c.get(i);if(r?.key===s||(r?(r.filter?.remove(),r.key=s,r.url="none",r.filter=null):(r={key:s,url:"none",filter:null},this.#c.set(i,r)),!e||!t))return r.url;const o=this.#w(e);e=ge.makeHexColor(...o);const c=this.#w(t);if(t=ge.makeHexColor(...c),this.#l.style.color="",e==="#000000"&&t==="#ffffff"||e===t)return r.url;const u=new Array(256);for(let w=0;w<=255;w++){const A=w/255;u[w]=A<=.03928?A/12.92:((A+.055)/1.055)**2.4}const h=u.join(","),f=`g_${this.#n}_hcm_filter`,p=r.filter=this.#p(f);this.#m(h,h,h,p),this.#g(p);const g=(w,A)=>{const x=o[w]/255,S=c[w]/255,E=new Array(A+1);for(let _=0;_<=A;_++)E[_]=x+_/A*(S-x);return E.join(",")};return this.#m(g(0,5),g(1,5),g(2,5),p),r.url=this.#h(f),r.url}addAlphaFilter(e){let t=this.#a.get(e);if(t)return t;const[s]=this.#d([e]),i=`alpha_${s}`;if(t=this.#a.get(i),t)return this.#a.set(e,t),t;const r=`g_${this.#n}_alpha_map_${this.#o++}`,o=this.#h(r);this.#a.set(e,o),this.#a.set(i,o);const c=this.#p(r);return this.#y(s,c),o}addLuminosityFilter(e){let t=this.#a.get(e||"luminosity");if(t)return t;let s,i;if(e?([s]=this.#d([e]),i=`luminosity_${s}`):i="luminosity",t=this.#a.get(i),t)return this.#a.set(e,t),t;const r=`g_${this.#n}_luminosity_map_${this.#o++}`,o=this.#h(r);this.#a.set(e,o),this.#a.set(i,o);const c=this.#p(r);return this.#f(c),e&&this.#y(s,c),o}addHighlightHCMFilter(e,t,s,i,r){const o=`${t}-${s}-${i}-${r}`;let c=this.#c.get(e);if(c?.key===o||(c?(c.filter?.remove(),c.key=o,c.url="none",c.filter=null):(c={key:o,url:"none",filter:null},this.#c.set(e,c)),!t||!s))return c.url;const[u,h]=[t,s].map(this.#w.bind(this));let f=Math.round(.2126*u[0]+.7152*u[1]+.0722*u[2]),p=Math.round(.2126*h[0]+.7152*h[1]+.0722*h[2]),[g,w]=[i,r].map(this.#w.bind(this));p<f&&([f,p,g,w]=[p,f,w,g]),this.#l.style.color="";const A=(E,_,k)=>{const T=new Array(256),P=(p-f)/k,N=E/255,M=(_-E)/(255*k);let I=0;for(let $=0;$<=k;$++){const q=Math.round(f+$*P),Z=N+$*M;for(let ie=I;ie<=q;ie++)T[ie]=Z;I=q+1}for(let $=I;$<256;$++)T[$]=T[I-1];return T.join(",")},x=`g_${this.#n}_hcm_${e}_filter`,S=c.filter=this.#p(x);return this.#g(S),this.#m(A(g[0],w[0],5),A(g[1],w[1],5),A(g[2],w[2],5),S),c.url=this.#h(x),c.url}destroy(e=!1){e&&this.#r?.size||(this.#s?.parentNode.parentNode.remove(),this.#s=null,this.#t?.clear(),this.#t=null,this.#r?.clear(),this.#r=null,this.#o=0)}#f(e){const t=this.#i.createElementNS(Ys,"feColorMatrix");t.setAttribute("type","matrix"),t.setAttribute("values","0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0.3 0.59 0.11 0 0"),e.append(t)}#g(e){const t=this.#i.createElementNS(Ys,"feColorMatrix");t.setAttribute("type","matrix"),t.setAttribute("values","0.2126 0.7152 0.0722 0 0 0.2126 0.7152 0.0722 0 0 0.2126 0.7152 0.0722 0 0 0 0 0 1 0"),e.append(t)}#p(e){const t=this.#i.createElementNS(Ys,"filter");return t.setAttribute("color-interpolation-filters","sRGB"),t.setAttribute("id",e),this.#l.append(t),t}#u(e,t,s){const i=this.#i.createElementNS(Ys,t);i.setAttribute("type","discrete"),i.setAttribute("tableValues",s),e.append(i)}#m(e,t,s,i){const r=this.#i.createElementNS(Ys,"feComponentTransfer");i.append(r),this.#u(r,"feFuncR",e),this.#u(r,"feFuncG",t),this.#u(r,"feFuncB",s)}#y(e,t){const s=this.#i.createElementNS(Ys,"feComponentTransfer");t.append(s),this.#u(s,"feFuncA",e)}#w(e){return this.#l.style.color=e,Do(getComputedStyle(this.#l).getPropertyValue("color"))}}class nE{constructor({baseUrl:e=null}){this.baseUrl=e}async fetch({filename:e}){if(!this.baseUrl)throw new Error("Ensure that the `standardFontDataUrl` API parameter is provided.");if(!e)throw new Error("Font filename must be specified.");const t=`${this.baseUrl}${e}`;return this._fetch(t).catch(s=>{throw new Error(`Unable to load font data at: ${t}`)})}async _fetch(e){nt("Abstract method `_fetch` called.")}}class Xx extends nE{async _fetch(e){const t=await Mo(e,"arraybuffer");return new Uint8Array(t)}}class sE{constructor({baseUrl:e=null}){this.baseUrl=e}async fetch({filename:e}){if(!this.baseUrl)throw new Error("Ensure that the `wasmUrl` API parameter is provided.");if(!e)throw new Error("Wasm filename must be specified.");const t=`${this.baseUrl}${e}`;return this._fetch(t).catch(s=>{throw new Error(`Unable to load wasm data at: ${t}`)})}async _fetch(e){nt("Abstract method `_fetch` called.")}}class Zx extends sE{async _fetch(e){const t=await Mo(e,"arraybuffer");return new Uint8Array(t)}}mn&&Oe("Please use the `legacy` build in Node.js environments.");async function ig(n){const t=await process.getBuiltinModule("fs").promises.readFile(n);return new Uint8Array(t)}class H4 extends tE{}class W4 extends JS{_createCanvas(e,t){return process.getBuiltinModule("module").createRequire(import.meta.url)("@napi-rs/canvas").createCanvas(e,t)}}class G4 extends eE{async _fetch(e){return ig(e)}}class q4 extends nE{async _fetch(e){return ig(e)}}class K4 extends sE{async _fetch(e){return ig(e)}}const Zr="__forcedDependency",{floor:Yx,ceil:Qx}=Math;function qc(n,e,t,s,i,r){n[e*4+0]=Math.min(n[e*4+0],t),n[e*4+1]=Math.min(n[e*4+1],s),n[e*4+2]=Math.max(n[e*4+2],i),n[e*4+3]=Math.max(n[e*4+3],r)}const Fp=new Uint32Array(new Uint8Array([255,255,0,0]).buffer)[0];class X4{#e;#t;constructor(e,t){this.#e=e,this.#t=t}get length(){return this.#e.length}isEmpty(e){return this.#e[e]===Fp}minX(e){return this.#t[e*4+0]/256}minY(e){return this.#t[e*4+1]/256}maxX(e){return(this.#t[e*4+2]+1)/256}maxY(e){return(this.#t[e*4+3]+1)/256}}const Kc=(n,e)=>{if(!n)return;let t=n.get(e);return t||(t={dependencies:new Set,isRenderingOperation:!1},n.set(e,t)),t};class Z4{#e={__proto__:null};#t={__proto__:null,transform:[],moveText:[],sameLineText:[],[Zr]:[]};#s=new Map;#n=[];#i=[];#r=[[1,0,0,1,0,0]];#o=[-1/0,-1/0,1/0,1/0];#a=new Float64Array([1/0,1/0,-1/0,-1/0]);#c=-1;#l=new Set;#d=new Map;#h=new Map;#f;#g;#p;#u;#m;constructor(e,t,s=!1){this.#f=e.width,this.#g=e.height,this.#y(t),s&&(this.#m=new Map)}growOperationsCount(e){e>=this.#u.length&&this.#y(e,this.#u)}#y(e,t){const s=new ArrayBuffer(e*4);this.#p=new Uint8ClampedArray(s),this.#u=new Uint32Array(s),t&&t.length>0?(this.#u.set(t),this.#u.fill(Fp,t.length)):this.#u.fill(Fp)}save(e){return this.#e={__proto__:this.#e},this.#t={__proto__:this.#t,transform:{__proto__:this.#t.transform},moveText:{__proto__:this.#t.moveText},sameLineText:{__proto__:this.#t.sameLineText},[Zr]:{__proto__:this.#t[Zr]}},this.#o={__proto__:this.#o},this.#n.push(e),this}restore(e){const t=Object.getPrototypeOf(this.#e);if(t===null)return this;this.#e=t,this.#t=Object.getPrototypeOf(this.#t),this.#o=Object.getPrototypeOf(this.#o);const s=this.#n.pop();return s!==void 0&&(Kc(this.#m,e)?.dependencies.add(s),this.#u[e]=this.#u[s]),this}recordOpenMarker(e){return this.#n.push(e),this}getOpenMarker(){return this.#n.length===0?null:this.#n.at(-1)}recordCloseMarker(e){const t=this.#n.pop();return t!==void 0&&(Kc(this.#m,e)?.dependencies.add(t),this.#u[e]=this.#u[t]),this}beginMarkedContent(e){return this.#i.push(e),this}endMarkedContent(e){const t=this.#i.pop();return t!==void 0&&(Kc(this.#m,e)?.dependencies.add(t),this.#u[e]=this.#u[t]),this}pushBaseTransform(e){return this.#r.push(ge.multiplyByDOMMatrix(this.#r.at(-1),e.getTransform())),this}popBaseTransform(){return this.#r.length>1&&this.#r.pop(),this}recordSimpleData(e,t){return this.#e[e]=t,this}recordIncrementalData(e,t){return this.#t[e].push(t),this}resetIncrementalData(e,t){return this.#t[e].length=0,this}recordNamedData(e,t){return this.#s.set(e,t),this}recordSimpleDataFromNamed(e,t,s){this.#e[e]=this.#s.get(t)??s}recordFutureForcedDependency(e,t){return this.recordIncrementalData(Zr,t),this}inheritSimpleDataAsFutureForcedDependencies(e){for(const t of e)t in this.#e&&this.recordFutureForcedDependency(t,this.#e[t]);return this}inheritPendingDependenciesAsFutureForcedDependencies(){for(const e of this.#l)this.recordFutureForcedDependency(Zr,e);return this}resetBBox(e){return this.#c!==e&&(this.#c=e,this.#a[0]=1/0,this.#a[1]=1/0,this.#a[2]=-1/0,this.#a[3]=-1/0),this}recordClipBox(e,t,s,i,r,o){const c=ge.multiplyByDOMMatrix(this.#r.at(-1),t.getTransform()),u=[1/0,1/0,-1/0,-1/0];ge.axialAlignedBoundingBox([s,r,i,o],c,u);const h=ge.intersect(this.#o,u);return h?(this.#o[0]=h[0],this.#o[1]=h[1],this.#o[2]=h[2],this.#o[3]=h[3]):(this.#o[0]=this.#o[1]=1/0,this.#o[2]=this.#o[3]=-1/0),this}recordBBox(e,t,s,i,r,o){const c=this.#o;if(c[0]===1/0)return this;const u=ge.multiplyByDOMMatrix(this.#r.at(-1),t.getTransform());if(c[0]===-1/0)return ge.axialAlignedBoundingBox([s,r,i,o],u,this.#a),this;const h=[1/0,1/0,-1/0,-1/0];return ge.axialAlignedBoundingBox([s,r,i,o],u,h),this.#a[0]=Math.min(this.#a[0],Math.max(h[0],c[0])),this.#a[1]=Math.min(this.#a[1],Math.max(h[1],c[1])),this.#a[2]=Math.max(this.#a[2],Math.min(h[2],c[2])),this.#a[3]=Math.max(this.#a[3],Math.min(h[3],c[3])),this}recordCharacterBBox(e,t,s,i=1,r=0,o=0,c){const u=s.bbox;let h,f;if(u&&(h=u[2]!==u[0]&&u[3]!==u[1]&&this.#h.get(s),h!==!1&&(f=[0,0,0,0],ge.axialAlignedBoundingBox(u,s.fontMatrix,f),(i!==1||r!==0||o!==0)&&ge.scaleMinMax([i,0,0,-i,r,o],f),h)))return this.recordBBox(e,t,f[0],f[2],f[1],f[3]);if(!c)return this.recordFullPageBBox(e);const p=c();return u&&f&&h===void 0&&(h=f[0]<=r-p.actualBoundingBoxLeft&&f[2]>=r+p.actualBoundingBoxRight&&f[1]<=o-p.actualBoundingBoxAscent&&f[3]>=o+p.actualBoundingBoxDescent,this.#h.set(s,h),h)?this.recordBBox(e,t,f[0],f[2],f[1],f[3]):this.recordBBox(e,t,r-p.actualBoundingBoxLeft,r+p.actualBoundingBoxRight,o-p.actualBoundingBoxAscent,o+p.actualBoundingBoxDescent)}recordFullPageBBox(e){return this.#a[0]=Math.max(0,this.#o[0]),this.#a[1]=Math.max(0,this.#o[1]),this.#a[2]=Math.min(this.#f,this.#o[2]),this.#a[3]=Math.min(this.#g,this.#o[3]),this}getSimpleIndex(e){return this.#e[e]}recordDependencies(e,t){const s=this.#l,i=this.#e,r=this.#t;for(const o of t)o in this.#e?s.add(i[o]):o in r&&r[o].forEach(s.add,s);return this}recordNamedDependency(e,t){return this.#s.has(t)&&this.#l.add(this.#s.get(t)),this}recordOperation(e,t=!1){if(this.recordDependencies(e,[Zr]),this.#m){const s=Kc(this.#m,e),{dependencies:i}=s;this.#l.forEach(i.add,i),this.#n.forEach(i.add,i),this.#i.forEach(i.add,i),i.delete(e),s.isRenderingOperation=!0}if(this.#c===e){const s=Yx(this.#a[0]*256/this.#f),i=Yx(this.#a[1]*256/this.#g),r=Qx(this.#a[2]*256/this.#f),o=Qx(this.#a[3]*256/this.#g);qc(this.#p,e,s,i,r,o);for(const c of this.#l)c!==e&&qc(this.#p,c,s,i,r,o);for(const c of this.#n)c!==e&&qc(this.#p,c,s,i,r,o);for(const c of this.#i)c!==e&&qc(this.#p,c,s,i,r,o);t||(this.#l.clear(),this.#c=-1)}return this}recordShowTextOperation(e,t=!1){const s=Array.from(this.#l);this.recordOperation(e,t),this.recordIncrementalData("sameLineText",e);for(const i of s)this.recordIncrementalData("sameLineText",i);return this}bboxToClipBoxDropOperation(e,t=!1){return this.#c===e&&(this.#c=-1,this.#o[0]=Math.max(this.#o[0],this.#a[0]),this.#o[1]=Math.max(this.#o[1],this.#a[1]),this.#o[2]=Math.min(this.#o[2],this.#a[2]),this.#o[3]=Math.min(this.#o[3],this.#a[3]),t||this.#l.clear()),this}_takePendingDependencies(){const e=this.#l;return this.#l=new Set,e}_extractOperation(e){const t=this.#d.get(e);return this.#d.delete(e),t}_pushPendingDependencies(e){for(const t of e)this.#l.add(t)}take(){return this.#h.clear(),new X4(this.#u,this.#p)}takeDebugMetadata(){return this.#m}}class Fu{#e;#t;#s;#n=0;#i=0;constructor(e,t,s){if(e instanceof Fu&&e.#s===!!s)return e;this.#e=e,this.#t=t,this.#s=!!s}growOperationsCount(){throw new Error("Unreachable")}save(e){return this.#i++,this.#e.save(this.#t),this}restore(e){return this.#i>0&&(this.#e.restore(this.#t),this.#i--),this}recordOpenMarker(e){return this.#n++,this}getOpenMarker(){return this.#n>0?this.#t:this.#e.getOpenMarker()}recordCloseMarker(e){return this.#n--,this}beginMarkedContent(e){return this}endMarkedContent(e){return this}pushBaseTransform(e){return this.#e.pushBaseTransform(e),this}popBaseTransform(){return this.#e.popBaseTransform(),this}recordSimpleData(e,t){return this.#e.recordSimpleData(e,this.#t),this}recordIncrementalData(e,t){return this.#e.recordIncrementalData(e,this.#t),this}resetIncrementalData(e,t){return this.#e.resetIncrementalData(e,this.#t),this}recordNamedData(e,t){return this}recordSimpleDataFromNamed(e,t,s){return this.#e.recordSimpleDataFromNamed(e,t,this.#t),this}recordFutureForcedDependency(e,t){return this.#e.recordFutureForcedDependency(e,this.#t),this}inheritSimpleDataAsFutureForcedDependencies(e){return this.#e.inheritSimpleDataAsFutureForcedDependencies(e),this}inheritPendingDependenciesAsFutureForcedDependencies(){return this.#e.inheritPendingDependenciesAsFutureForcedDependencies(),this}resetBBox(e){return this.#s||this.#e.resetBBox(this.#t),this}recordClipBox(e,t,s,i,r,o){return this.#s||this.#e.recordClipBox(this.#t,t,s,i,r,o),this}recordBBox(e,t,s,i,r,o){return this.#s||this.#e.recordBBox(this.#t,t,s,i,r,o),this}recordCharacterBBox(e,t,s,i,r,o,c){return this.#s||this.#e.recordCharacterBBox(this.#t,t,s,i,r,o,c),this}recordFullPageBBox(e){return this.#s||this.#e.recordFullPageBBox(this.#t),this}getSimpleIndex(e){return this.#e.getSimpleIndex(e)}recordDependencies(e,t){return this.#e.recordDependencies(this.#t,t),this}recordNamedDependency(e,t){return this.#e.recordNamedDependency(this.#t,t),this}recordOperation(e){return this.#e.recordOperation(this.#t,!0),this}recordShowTextOperation(e){return this.#e.recordShowTextOperation(this.#t,!0),this}bboxToClipBoxDropOperation(e){return this.#s||this.#e.bboxToClipBoxDropOperation(this.#t,!0),this}take(){throw new Error("Unreachable")}takeDebugMetadata(){throw new Error("Unreachable")}}const Zn={stroke:["path","transform","filter","strokeColor","strokeAlpha","lineWidth","lineCap","lineJoin","miterLimit","dash"],fill:["path","transform","filter","fillColor","fillAlpha","globalCompositeOperation","SMask"],imageXObject:["transform","SMask","filter","fillAlpha","strokeAlpha","globalCompositeOperation"],rawFillPath:["filter","fillColor","fillAlpha"],showText:["transform","leading","charSpacing","wordSpacing","hScale","textRise","moveText","textMatrix","font","fontObj","filter","fillColor","textRenderingMode","SMask","fillAlpha","strokeAlpha","globalCompositeOperation","sameLineText"],transform:["transform"],transformAndFill:["transform","fillColor"]},en={FILL:"Fill",STROKE:"Stroke",SHADING:"Shading"};function Rp(n,e){if(!e)return;const t=e[2]-e[0],s=e[3]-e[1],i=new Path2D;i.rect(e[0],e[1],t,s),n.clip(i)}class rg{isModifyingCurrentTransform(){return!1}getPattern(){nt("Abstract method `getPattern` called.")}}class Y4 extends rg{constructor(e){super(),this._type=e[1],this._bbox=e[2],this._colorStops=e[3],this._p0=e[4],this._p1=e[5],this._r0=e[6],this._r1=e[7],this.matrix=null}_createGradient(e){let t;this._type==="axial"?t=e.createLinearGradient(this._p0[0],this._p0[1],this._p1[0],this._p1[1]):this._type==="radial"&&(t=e.createRadialGradient(this._p0[0],this._p0[1],this._r0,this._p1[0],this._p1[1],this._r1));for(const s of this._colorStops)t.addColorStop(s[0],s[1]);return t}getPattern(e,t,s,i){let r;if(i===en.STROKE||i===en.FILL){const o=t.current.getClippedPathBoundingBox(i,gt(e))||[0,0,0,0],c=Math.ceil(o[2]-o[0])||1,u=Math.ceil(o[3]-o[1])||1,h=t.cachedCanvases.getCanvas("pattern",c,u),f=h.context;f.clearRect(0,0,f.canvas.width,f.canvas.height),f.beginPath(),f.rect(0,0,f.canvas.width,f.canvas.height),f.translate(-o[0],-o[1]),s=ge.transform(s,[1,0,0,1,o[0],o[1]]),f.transform(...t.baseTransform),this.matrix&&f.transform(...this.matrix),Rp(f,this._bbox),f.fillStyle=this._createGradient(f),f.fill(),r=e.createPattern(h.canvas,"no-repeat");const p=new DOMMatrix(s);r.setTransform(p)}else Rp(e,this._bbox),r=this._createGradient(e);return r}}function Tf(n,e,t,s,i,r,o,c){const u=e.coords,h=e.colors,f=n.data,p=n.width*4;let g;u[t+1]>u[s+1]&&(g=t,t=s,s=g,g=r,r=o,o=g),u[s+1]>u[i+1]&&(g=s,s=i,i=g,g=o,o=c,c=g),u[t+1]>u[s+1]&&(g=t,t=s,s=g,g=r,r=o,o=g);const w=(u[t]+e.offsetX)*e.scaleX,A=(u[t+1]+e.offsetY)*e.scaleY,x=(u[s]+e.offsetX)*e.scaleX,S=(u[s+1]+e.offsetY)*e.scaleY,E=(u[i]+e.offsetX)*e.scaleX,_=(u[i+1]+e.offsetY)*e.scaleY;if(A>=_)return;const k=h[r],T=h[r+1],P=h[r+2],N=h[o],M=h[o+1],I=h[o+2],$=h[c],q=h[c+1],Z=h[c+2],ie=Math.round(A),U=Math.round(_);let ee,ue,Q,Y,W,oe,J,O;for(let K=ie;K<=U;K++){if(K<S){const Ee=K<A?0:(A-K)/(A-S);ee=w-(w-x)*Ee,ue=k-(k-N)*Ee,Q=T-(T-M)*Ee,Y=P-(P-I)*Ee}else{let Ee;K>_?Ee=1:S===_?Ee=0:Ee=(S-K)/(S-_),ee=x-(x-E)*Ee,ue=N-(N-$)*Ee,Q=M-(M-q)*Ee,Y=I-(I-Z)*Ee}let he;K<A?he=0:K>_?he=1:he=(A-K)/(A-_),W=w-(w-E)*he,oe=k-(k-$)*he,J=T-(T-q)*he,O=P-(P-Z)*he;const be=Math.round(Math.min(ee,W)),Ce=Math.round(Math.max(ee,W));let Pe=p*K+be*4;for(let Ee=be;Ee<=Ce;Ee++)he=(ee-Ee)/(ee-W),he<0?he=0:he>1&&(he=1),f[Pe++]=ue-(ue-oe)*he|0,f[Pe++]=Q-(Q-J)*he|0,f[Pe++]=Y-(Y-O)*he|0,f[Pe++]=255}}function Q4(n,e,t){const s=e.coords,i=e.colors;let r,o;switch(e.type){case"lattice":const c=e.verticesPerRow,u=Math.floor(s.length/c)-1,h=c-1;for(r=0;r<u;r++){let f=r*c;for(let p=0;p<h;p++,f++)Tf(n,t,s[f],s[f+1],s[f+c],i[f],i[f+1],i[f+c]),Tf(n,t,s[f+c+1],s[f+1],s[f+c],i[f+c+1],i[f+1],i[f+c])}break;case"triangles":for(r=0,o=s.length;r<o;r+=3)Tf(n,t,s[r],s[r+1],s[r+2],i[r],i[r+1],i[r+2]);break;default:throw new Error("illegal figure")}}class J4 extends rg{constructor(e){super(),this._coords=e[2],this._colors=e[3],this._figures=e[4],this._bounds=e[5],this._bbox=e[6],this._background=e[7],this.matrix=null}_createMeshCanvas(e,t,s){const c=Math.floor(this._bounds[0]),u=Math.floor(this._bounds[1]),h=Math.ceil(this._bounds[2])-c,f=Math.ceil(this._bounds[3])-u,p=Math.min(Math.ceil(Math.abs(h*e[0]*1.1)),3e3),g=Math.min(Math.ceil(Math.abs(f*e[1]*1.1)),3e3),w=h/p,A=f/g,x={coords:this._coords,colors:this._colors,offsetX:-c,offsetY:-u,scaleX:1/w,scaleY:1/A},S=p+4,E=g+4,_=s.getCanvas("mesh",S,E),k=_.context,T=k.createImageData(p,g);if(t){const N=T.data;for(let M=0,I=N.length;M<I;M+=4)N[M]=t[0],N[M+1]=t[1],N[M+2]=t[2],N[M+3]=255}for(const N of this._figures)Q4(T,N,x);return k.putImageData(T,2,2),{canvas:_.canvas,offsetX:c-2*w,offsetY:u-2*A,scaleX:w,scaleY:A}}isModifyingCurrentTransform(){return!0}getPattern(e,t,s,i){Rp(e,this._bbox);const r=new Float32Array(2);if(i===en.SHADING)ge.singularValueDecompose2dScale(gt(e),r);else if(this.matrix){ge.singularValueDecompose2dScale(this.matrix,r);const[c,u]=r;ge.singularValueDecompose2dScale(t.baseTransform,r),r[0]*=c,r[1]*=u}else ge.singularValueDecompose2dScale(t.baseTransform,r);const o=this._createMeshCanvas(r,i===en.SHADING?null:this._background,t.cachedCanvases);return i!==en.SHADING&&(e.setTransform(...t.baseTransform),this.matrix&&e.transform(...this.matrix)),e.translate(o.offsetX,o.offsetY),e.scale(o.scaleX,o.scaleY),e.createPattern(o.canvas,"no-repeat")}}class e6 extends rg{getPattern(){return"hotpink"}}function t6(n){switch(n[0]){case"RadialAxial":return new Y4(n);case"Mesh":return new J4(n);case"Dummy":return new e6}throw new Error(`Unknown IR type: ${n[0]}`)}const Jx={COLORED:1,UNCOLORED:2};class og{static MAX_PATTERN_SIZE=3e3;constructor(e,t,s,i){this.color=e[1],this.operatorList=e[2],this.matrix=e[3],this.bbox=e[4],this.xstep=e[5],this.ystep=e[6],this.paintType=e[7],this.tilingType=e[8],this.ctx=t,this.canvasGraphicsFactory=s,this.baseTransform=i}createPatternCanvas(e,t){const{bbox:s,operatorList:i,paintType:r,tilingType:o,color:c,canvasGraphicsFactory:u}=this;let{xstep:h,ystep:f}=this;h=Math.abs(h),f=Math.abs(f),th("TilingType: "+o);const p=s[0],g=s[1],w=s[2],A=s[3],x=w-p,S=A-g,E=new Float32Array(2);ge.singularValueDecompose2dScale(this.matrix,E);const[_,k]=E;ge.singularValueDecompose2dScale(this.baseTransform,E);const T=_*E[0],P=k*E[1];let N=x,M=S,I=!1,$=!1;const q=Math.ceil(h*T),Z=Math.ceil(f*P),ie=Math.ceil(x*T),U=Math.ceil(S*P);q>=ie?N=h:I=!0,Z>=U?M=f:$=!0;const ee=this.getSizeAndScale(N,this.ctx.canvas.width,T),ue=this.getSizeAndScale(M,this.ctx.canvas.height,P),Q=e.cachedCanvases.getCanvas("pattern",ee.size,ue.size),Y=Q.context,W=u.createCanvasGraphics(Y,t);if(W.groupLevel=e.groupLevel,this.setFillAndStrokeStyleToContext(W,r,c),Y.translate(-ee.scale*p,-ue.scale*g),W.transform(0,ee.scale,0,0,ue.scale,0,0),Y.save(),W.dependencyTracker?.save(),this.clipBbox(W,p,g,w,A),W.baseTransform=gt(W.ctx),W.executeOperatorList(i),W.endDrawing(),W.dependencyTracker?.restore(),Y.restore(),I||$){const oe=Q.canvas;I&&(N=h),$&&(M=f);const J=this.getSizeAndScale(N,this.ctx.canvas.width,T),O=this.getSizeAndScale(M,this.ctx.canvas.height,P),K=J.size,he=O.size,be=e.cachedCanvases.getCanvas("pattern-workaround",K,he),Ce=be.context,Pe=I?Math.floor(x/h):0,Ee=$?Math.floor(S/f):0;for(let je=0;je<=Pe;je++)for(let Le=0;Le<=Ee;Le++)Ce.drawImage(oe,K*je,he*Le,K,he,0,0,K,he);return{canvas:be.canvas,scaleX:J.scale,scaleY:O.scale,offsetX:p,offsetY:g}}return{canvas:Q.canvas,scaleX:ee.scale,scaleY:ue.scale,offsetX:p,offsetY:g}}getSizeAndScale(e,t,s){const i=Math.max(og.MAX_PATTERN_SIZE,t);let r=Math.ceil(e*s);return r>=i?r=i:s=r/e,{scale:s,size:r}}clipBbox(e,t,s,i,r){const o=i-t,c=r-s;e.ctx.rect(t,s,o,c),ge.axialAlignedBoundingBox([t,s,i,r],gt(e.ctx),e.current.minMax),e.clip(),e.endPath()}setFillAndStrokeStyleToContext(e,t,s){const i=e.ctx,r=e.current;switch(t){case Jx.COLORED:const{fillStyle:o,strokeStyle:c}=this.ctx;i.fillStyle=r.fillColor=o,i.strokeStyle=r.strokeColor=c;break;case Jx.UNCOLORED:i.fillStyle=i.strokeStyle=s,r.fillColor=r.strokeColor=s;break;default:throw new A4(`Unsupported paint type: ${t}`)}}isModifyingCurrentTransform(){return!1}getPattern(e,t,s,i,r){let o=s;i!==en.SHADING&&(o=ge.transform(o,t.baseTransform),this.matrix&&(o=ge.transform(o,this.matrix)));const c=this.createPatternCanvas(t,r);let u=new DOMMatrix(o);u=u.translate(c.offsetX,c.offsetY),u=u.scale(1/c.scaleX,1/c.scaleY);const h=e.createPattern(c.canvas,"repeat");return h.setTransform(u),h}}function n6({src:n,srcPos:e=0,dest:t,width:s,height:i,nonBlackColor:r=4294967295,inverseDecode:o=!1}){const c=qt.isLittleEndian?4278190080:255,[u,h]=o?[r,c]:[c,r],f=s>>3,p=s&7,g=n.length;t=new Uint32Array(t.buffer);let w=0;for(let A=0;A<i;A++){for(const S=e+f;e<S;e++){const E=e<g?n[e]:255;t[w++]=E&128?h:u,t[w++]=E&64?h:u,t[w++]=E&32?h:u,t[w++]=E&16?h:u,t[w++]=E&8?h:u,t[w++]=E&4?h:u,t[w++]=E&2?h:u,t[w++]=E&1?h:u}if(p===0)continue;const x=e<g?n[e++]:255;for(let S=0;S<p;S++)t[w++]=x&1<<7-S?h:u}return{srcPos:e,destPos:w}}const eb=16,tb=100,s6=15,nb=10,kn=16,Pf=new DOMMatrix,jn=new Float32Array(2),ao=new Float32Array([1/0,1/0,-1/0,-1/0]);function i6(n,e){if(n._removeMirroring)throw new Error("Context is already forwarding operations.");n.__originalSave=n.save,n.__originalRestore=n.restore,n.__originalRotate=n.rotate,n.__originalScale=n.scale,n.__originalTranslate=n.translate,n.__originalTransform=n.transform,n.__originalSetTransform=n.setTransform,n.__originalResetTransform=n.resetTransform,n.__originalClip=n.clip,n.__originalMoveTo=n.moveTo,n.__originalLineTo=n.lineTo,n.__originalBezierCurveTo=n.bezierCurveTo,n.__originalRect=n.rect,n.__originalClosePath=n.closePath,n.__originalBeginPath=n.beginPath,n._removeMirroring=()=>{n.save=n.__originalSave,n.restore=n.__originalRestore,n.rotate=n.__originalRotate,n.scale=n.__originalScale,n.translate=n.__originalTranslate,n.transform=n.__originalTransform,n.setTransform=n.__originalSetTransform,n.resetTransform=n.__originalResetTransform,n.clip=n.__originalClip,n.moveTo=n.__originalMoveTo,n.lineTo=n.__originalLineTo,n.bezierCurveTo=n.__originalBezierCurveTo,n.rect=n.__originalRect,n.closePath=n.__originalClosePath,n.beginPath=n.__originalBeginPath,delete n._removeMirroring},n.save=function(){e.save(),this.__originalSave()},n.restore=function(){e.restore(),this.__originalRestore()},n.translate=function(t,s){e.translate(t,s),this.__originalTranslate(t,s)},n.scale=function(t,s){e.scale(t,s),this.__originalScale(t,s)},n.transform=function(t,s,i,r,o,c){e.transform(t,s,i,r,o,c),this.__originalTransform(t,s,i,r,o,c)},n.setTransform=function(t,s,i,r,o,c){e.setTransform(t,s,i,r,o,c),this.__originalSetTransform(t,s,i,r,o,c)},n.resetTransform=function(){e.resetTransform(),this.__originalResetTransform()},n.rotate=function(t){e.rotate(t),this.__originalRotate(t)},n.clip=function(t){e.clip(t),this.__originalClip(t)},n.moveTo=function(t,s){e.moveTo(t,s),this.__originalMoveTo(t,s)},n.lineTo=function(t,s){e.lineTo(t,s),this.__originalLineTo(t,s)},n.bezierCurveTo=function(t,s,i,r,o,c){e.bezierCurveTo(t,s,i,r,o,c),this.__originalBezierCurveTo(t,s,i,r,o,c)},n.rect=function(t,s,i,r){e.rect(t,s,i,r),this.__originalRect(t,s,i,r)},n.closePath=function(){e.closePath(),this.__originalClosePath()},n.beginPath=function(){e.beginPath(),this.__originalBeginPath()}}class r6{constructor(e){this.canvasFactory=e,this.cache=Object.create(null)}getCanvas(e,t,s){let i;return this.cache[e]!==void 0?(i=this.cache[e],this.canvasFactory.reset(i,t,s)):(i=this.canvasFactory.create(t,s),this.cache[e]=i),i}delete(e){delete this.cache[e]}clear(){for(const e in this.cache){const t=this.cache[e];this.canvasFactory.destroy(t),delete this.cache[e]}}}function Xc(n,e,t,s,i,r,o,c,u,h){const[f,p,g,w,A,x]=gt(n);if(p===0&&g===0){const _=o*f+A,k=Math.round(_),T=c*w+x,P=Math.round(T),N=(o+u)*f+A,M=Math.abs(Math.round(N)-k)||1,I=(c+h)*w+x,$=Math.abs(Math.round(I)-P)||1;return n.setTransform(Math.sign(f),0,0,Math.sign(w),k,P),n.drawImage(e,t,s,i,r,0,0,M,$),n.setTransform(f,p,g,w,A,x),[M,$]}if(f===0&&w===0){const _=c*g+A,k=Math.round(_),T=o*p+x,P=Math.round(T),N=(c+h)*g+A,M=Math.abs(Math.round(N)-k)||1,I=(o+u)*p+x,$=Math.abs(Math.round(I)-P)||1;return n.setTransform(0,Math.sign(p),Math.sign(g),0,k,P),n.drawImage(e,t,s,i,r,0,0,$,M),n.setTransform(f,p,g,w,A,x),[$,M]}n.drawImage(e,t,s,i,r,o,c,u,h);const S=Math.hypot(f,p),E=Math.hypot(g,w);return[S*u,E*h]}class sb{alphaIsShape=!1;fontSize=0;fontSizeScale=1;textMatrix=null;textMatrixScale=1;fontMatrix=Cp;leading=0;x=0;y=0;lineX=0;lineY=0;charSpacing=0;wordSpacing=0;textHScale=1;textRenderingMode=Yt.FILL;textRise=0;fillColor="#000000";strokeColor="#000000";patternFill=!1;patternStroke=!1;fillAlpha=1;strokeAlpha=1;lineWidth=1;activeSMask=null;transferMaps="none";constructor(e,t,s){s?.(this),this.clipBox=new Float32Array([0,0,e,t]),this.minMax=ao.slice()}clone(){const e=Object.create(this);return e.clipBox=this.clipBox.slice(),e.minMax=this.minMax.slice(),e}getPathBoundingBox(e=en.FILL,t=null){const s=this.minMax.slice();if(e===en.STROKE){t||nt("Stroke bounding box must include transform."),ge.singularValueDecompose2dScale(t,jn);const i=jn[0]*this.lineWidth/2,r=jn[1]*this.lineWidth/2;s[0]-=i,s[1]-=r,s[2]+=i,s[3]+=r}return s}updateClipFromPath(){const e=ge.intersect(this.clipBox,this.getPathBoundingBox());this.startNewPathAndClipBox(e||[0,0,0,0])}isEmptyClip(){return this.minMax[0]===1/0}startNewPathAndClipBox(e){this.clipBox.set(e,0),this.minMax.set(ao,0)}getClippedPathBoundingBox(e=en.FILL,t=null){return ge.intersect(this.clipBox,this.getPathBoundingBox(e,t))}}function ib(n,e){if(e instanceof ImageData){n.putImageData(e,0,0);return}const t=e.height,s=e.width,i=t%kn,r=(t-i)/kn,o=i===0?r:r+1,c=n.createImageData(s,kn);let u=0,h;const f=e.data,p=c.data;let g,w,A,x;if(e.kind===Ia.GRAYSCALE_1BPP){const S=f.byteLength,E=new Uint32Array(p.buffer,0,p.byteLength>>2),_=E.length,k=s+7>>3,T=4294967295,P=qt.isLittleEndian?4278190080:255;for(g=0;g<o;g++){for(A=g<r?kn:i,h=0,w=0;w<A;w++){const N=S-u;let M=0;const I=N>k?s:N*8-7,$=I&-8;let q=0,Z=0;for(;M<$;M+=8)Z=f[u++],E[h++]=Z&128?T:P,E[h++]=Z&64?T:P,E[h++]=Z&32?T:P,E[h++]=Z&16?T:P,E[h++]=Z&8?T:P,E[h++]=Z&4?T:P,E[h++]=Z&2?T:P,E[h++]=Z&1?T:P;for(;M<I;M++)q===0&&(Z=f[u++],q=128),E[h++]=Z&q?T:P,q>>=1}for(;h<_;)E[h++]=0;n.putImageData(c,0,g*kn)}}else if(e.kind===Ia.RGBA_32BPP){for(w=0,x=s*kn*4,g=0;g<r;g++)p.set(f.subarray(u,u+x)),u+=x,n.putImageData(c,0,w),w+=kn;g<o&&(x=s*i*4,p.set(f.subarray(u,u+x)),n.putImageData(c,0,w))}else if(e.kind===Ia.RGB_24BPP)for(A=kn,x=s*A,g=0;g<o;g++){for(g>=r&&(A=i,x=s*A),h=0,w=x;w--;)p[h++]=f[u++],p[h++]=f[u++],p[h++]=f[u++],p[h++]=255;n.putImageData(c,0,g*kn)}else throw new Error(`bad image kind: ${e.kind}`)}function rb(n,e){if(e.bitmap){n.drawImage(e.bitmap,0,0);return}const t=e.height,s=e.width,i=t%kn,r=(t-i)/kn,o=i===0?r:r+1,c=n.createImageData(s,kn);let u=0;const h=e.data,f=c.data;for(let p=0;p<o;p++){const g=p<r?kn:i;({srcPos:u}=n6({src:h,srcPos:u,dest:f,width:s,height:g,nonBlackColor:0})),n.putImageData(c,0,p*kn)}}function Sa(n,e){const t=["strokeStyle","fillStyle","fillRule","globalAlpha","lineWidth","lineCap","lineJoin","miterLimit","globalCompositeOperation","font","filter"];for(const s of t)n[s]!==void 0&&(e[s]=n[s]);n.setLineDash!==void 0&&(e.setLineDash(n.getLineDash()),e.lineDashOffset=n.lineDashOffset)}function Zc(n){n.strokeStyle=n.fillStyle="#000000",n.fillRule="nonzero",n.globalAlpha=1,n.lineWidth=1,n.lineCap="butt",n.lineJoin="miter",n.miterLimit=10,n.globalCompositeOperation="source-over",n.font="10px sans-serif",n.setLineDash!==void 0&&(n.setLineDash([]),n.lineDashOffset=0);const{filter:e}=n;e!=="none"&&e!==""&&(n.filter="none")}function ob(n,e){if(e)return!0;ge.singularValueDecompose2dScale(n,jn);const t=Math.fround(ys.pixelRatio*pr.PDF_TO_CSS_UNITS);return jn[0]<=t&&jn[1]<=t}const o6=["butt","round","square"],a6=["miter","round","bevel"],l6={},ab={};class ho{constructor(e,t,s,i,r,{optionalContentConfig:o,markedContentStack:c=null},u,h,f){this.ctx=e,this.current=new sb(this.ctx.canvas.width,this.ctx.canvas.height),this.stateStack=[],this.pendingClip=null,this.pendingEOFill=!1,this.res=null,this.xobjs=null,this.commonObjs=t,this.objs=s,this.canvasFactory=i,this.filterFactory=r,this.groupStack=[],this.baseTransform=null,this.baseTransformStack=[],this.groupLevel=0,this.smaskStack=[],this.smaskCounter=0,this.tempSMask=null,this.suspendedCtx=null,this.contentVisible=!0,this.markedContentStack=c||[],this.optionalContentConfig=o,this.cachedCanvases=new r6(this.canvasFactory),this.cachedPatterns=new Map,this.annotationCanvasMap=u,this.viewportScale=1,this.outputScaleX=1,this.outputScaleY=1,this.pageColors=h,this._cachedScaleForStroking=[-1,0],this._cachedGetSinglePixelWidth=null,this._cachedBitmapsMap=new Map,this.dependencyTracker=f??null}getObject(e,t,s=null){return typeof t=="string"?(this.dependencyTracker?.recordNamedDependency(e,t),t.startsWith("g_")?this.commonObjs.get(t):this.objs.get(t)):s}beginDrawing({transform:e,viewport:t,transparency:s=!1,background:i=null}){const r=this.ctx.canvas.width,o=this.ctx.canvas.height,c=this.ctx.fillStyle;if(this.ctx.fillStyle=i||"#ffffff",this.ctx.fillRect(0,0,r,o),this.ctx.fillStyle=c,s){const u=this.cachedCanvases.getCanvas("transparent",r,o);this.compositeCtx=this.ctx,this.transparentCanvas=u.canvas,this.ctx=u.context,this.ctx.save(),this.ctx.transform(...gt(this.compositeCtx))}this.ctx.save(),Zc(this.ctx),e&&(this.ctx.transform(...e),this.outputScaleX=e[0],this.outputScaleY=e[0]),this.ctx.transform(...t.transform),this.viewportScale=t.scale,this.baseTransform=gt(this.ctx)}executeOperatorList(e,t,s,i,r){const o=e.argsArray,c=e.fnArray;let u=t||0;const h=o.length;if(h===u)return u;const f=h-u>nb&&typeof s=="function",p=f?Date.now()+s6:0;let g=0;const w=this.commonObjs,A=this.objs;let x,S;for(;;){if(i!==void 0&&u===i.nextBreakPoint)return i.breakIt(u,s),u;if(!r||r(u))if(x=c[u],S=o[u]??null,x!==bo.dependency)S===null?this[x](u):this[x](u,...S);else for(const E of S){this.dependencyTracker?.recordNamedData(E,u);const _=E.startsWith("g_")?w:A;if(!_.has(E))return _.get(E,s),u}if(u++,u===h)return u;if(f&&++g>nb){if(Date.now()>p)return s(),u;g=0}}}#e(){for(;this.stateStack.length||this.inSMaskMode;)this.restore();this.current.activeSMask=null,this.ctx.restore(),this.transparentCanvas&&(this.ctx=this.compositeCtx,this.ctx.save(),this.ctx.setTransform(1,0,0,1,0,0),this.ctx.drawImage(this.transparentCanvas,0,0),this.ctx.restore(),this.transparentCanvas=null)}endDrawing(){this.#e(),this.cachedCanvases.clear(),this.cachedPatterns.clear();for(const e of this._cachedBitmapsMap.values()){for(const t of e.values())typeof HTMLCanvasElement<"u"&&t instanceof HTMLCanvasElement&&(t.width=t.height=0);e.clear()}this._cachedBitmapsMap.clear(),this.#t()}#t(){if(this.pageColors){const e=this.filterFactory.addHCMFilter(this.pageColors.foreground,this.pageColors.background);if(e!=="none"){const t=this.ctx.filter;this.ctx.filter=e,this.ctx.drawImage(this.ctx.canvas,0,0),this.ctx.filter=t}}}_scaleImage(e,t){const s=e.width??e.displayWidth,i=e.height??e.displayHeight;let r=Math.max(Math.hypot(t[0],t[1]),1),o=Math.max(Math.hypot(t[2],t[3]),1),c=s,u=i,h="prescale1",f,p;for(;r>2&&c>1||o>2&&u>1;){let g=c,w=u;r>2&&c>1&&(g=c>=16384?Math.floor(c/2)-1||1:Math.ceil(c/2),r/=c/g),o>2&&u>1&&(w=u>=16384?Math.floor(u/2)-1||1:Math.ceil(u)/2,o/=u/w),f=this.cachedCanvases.getCanvas(h,g,w),p=f.context,p.clearRect(0,0,g,w),p.drawImage(e,0,0,c,u,0,0,g,w),e=f.canvas,c=g,u=w,h=h==="prescale1"?"prescale2":"prescale1"}return{img:e,paintWidth:c,paintHeight:u}}_createMaskCanvas(e,t){const s=this.ctx,{width:i,height:r}=t,o=this.current.fillColor,c=this.current.patternFill,u=gt(s);let h,f,p,g;if((t.bitmap||t.data)&&t.count>1){const q=t.bitmap||t.data.buffer;f=JSON.stringify(c?u:[u.slice(0,4),o]),h=this._cachedBitmapsMap.get(q),h||(h=new Map,this._cachedBitmapsMap.set(q,h));const Z=h.get(f);if(Z&&!c){const ie=Math.round(Math.min(u[0],u[2])+u[4]),U=Math.round(Math.min(u[1],u[3])+u[5]);return this.dependencyTracker?.recordDependencies(e,Zn.transformAndFill),{canvas:Z,offsetX:ie,offsetY:U}}p=Z}p||(g=this.cachedCanvases.getCanvas("maskCanvas",i,r),rb(g.context,t));let w=ge.transform(u,[1/i,0,0,-1/r,0,0]);w=ge.transform(w,[1,0,0,1,0,-r]);const A=ao.slice();ge.axialAlignedBoundingBox([0,0,i,r],w,A);const[x,S,E,_]=A,k=Math.round(E-x)||1,T=Math.round(_-S)||1,P=this.cachedCanvases.getCanvas("fillCanvas",k,T),N=P.context,M=x,I=S;N.translate(-M,-I),N.transform(...w),p||(p=this._scaleImage(g.canvas,ks(N)),p=p.img,h&&c&&h.set(f,p)),N.imageSmoothingEnabled=ob(gt(N),t.interpolate),Xc(N,p,0,0,p.width,p.height,0,0,i,r),N.globalCompositeOperation="source-in";const $=ge.transform(ks(N),[1,0,0,1,-M,-I]);return N.fillStyle=c?o.getPattern(s,this,$,en.FILL,e):o,N.fillRect(0,0,i,r),h&&!c&&(this.cachedCanvases.delete("fillCanvas"),h.set(f,P.canvas)),this.dependencyTracker?.recordDependencies(e,Zn.transformAndFill),{canvas:P.canvas,offsetX:Math.round(M),offsetY:Math.round(I)}}setLineWidth(e,t){this.dependencyTracker?.recordSimpleData("lineWidth",e),t!==this.current.lineWidth&&(this._cachedScaleForStroking[0]=-1),this.current.lineWidth=t,this.ctx.lineWidth=t}setLineCap(e,t){this.dependencyTracker?.recordSimpleData("lineCap",e),this.ctx.lineCap=o6[t]}setLineJoin(e,t){this.dependencyTracker?.recordSimpleData("lineJoin",e),this.ctx.lineJoin=a6[t]}setMiterLimit(e,t){this.dependencyTracker?.recordSimpleData("miterLimit",e),this.ctx.miterLimit=t}setDash(e,t,s){this.dependencyTracker?.recordSimpleData("dash",e);const i=this.ctx;i.setLineDash!==void 0&&(i.setLineDash(t),i.lineDashOffset=s)}setRenderingIntent(e,t){}setFlatness(e,t){}setGState(e,t){for(const[s,i]of t)switch(s){case"LW":this.setLineWidth(e,i);break;case"LC":this.setLineCap(e,i);break;case"LJ":this.setLineJoin(e,i);break;case"ML":this.setMiterLimit(e,i);break;case"D":this.setDash(e,i[0],i[1]);break;case"RI":this.setRenderingIntent(e,i);break;case"FL":this.setFlatness(e,i);break;case"Font":this.setFont(e,i[0],i[1]);break;case"CA":this.dependencyTracker?.recordSimpleData("strokeAlpha",e),this.current.strokeAlpha=i;break;case"ca":this.dependencyTracker?.recordSimpleData("fillAlpha",e),this.ctx.globalAlpha=this.current.fillAlpha=i;break;case"BM":this.dependencyTracker?.recordSimpleData("globalCompositeOperation",e),this.ctx.globalCompositeOperation=i;break;case"SMask":this.dependencyTracker?.recordSimpleData("SMask",e),this.current.activeSMask=i?this.tempSMask:null,this.tempSMask=null,this.checkSMaskState();break;case"TR":this.dependencyTracker?.recordSimpleData("filter",e),this.ctx.filter=this.current.transferMaps=this.filterFactory.addFilter(i);break}}get inSMaskMode(){return!!this.suspendedCtx}checkSMaskState(){const e=this.inSMaskMode;this.current.activeSMask&&!e?this.beginSMaskMode():!this.current.activeSMask&&e&&this.endSMaskMode()}beginSMaskMode(e){if(this.inSMaskMode)throw new Error("beginSMaskMode called while already in smask mode");const t=this.ctx.canvas.width,s=this.ctx.canvas.height,i="smaskGroupAt"+this.groupLevel,r=this.cachedCanvases.getCanvas(i,t,s);this.suspendedCtx=this.ctx;const o=this.ctx=r.context;o.setTransform(this.suspendedCtx.getTransform()),Sa(this.suspendedCtx,o),i6(o,this.suspendedCtx),this.setGState(e,[["BM","source-over"]])}endSMaskMode(){if(!this.inSMaskMode)throw new Error("endSMaskMode called while not in smask mode");this.ctx._removeMirroring(),Sa(this.ctx,this.suspendedCtx),this.ctx=this.suspendedCtx,this.suspendedCtx=null}compose(e){if(!this.current.activeSMask)return;e?(e[0]=Math.floor(e[0]),e[1]=Math.floor(e[1]),e[2]=Math.ceil(e[2]),e[3]=Math.ceil(e[3])):e=[0,0,this.ctx.canvas.width,this.ctx.canvas.height];const t=this.current.activeSMask,s=this.suspendedCtx;this.composeSMask(s,t,this.ctx,e),this.ctx.save(),this.ctx.setTransform(1,0,0,1,0,0),this.ctx.clearRect(0,0,this.ctx.canvas.width,this.ctx.canvas.height),this.ctx.restore()}composeSMask(e,t,s,i){const r=i[0],o=i[1],c=i[2]-r,u=i[3]-o;c===0||u===0||(this.genericComposeSMask(t.context,s,c,u,t.subtype,t.backdrop,t.transferMap,r,o,t.offsetX,t.offsetY),e.save(),e.globalAlpha=1,e.globalCompositeOperation="source-over",e.setTransform(1,0,0,1,0,0),e.drawImage(s.canvas,0,0),e.restore())}genericComposeSMask(e,t,s,i,r,o,c,u,h,f,p){let g=e.canvas,w=u-f,A=h-p;if(o)if(w<0||A<0||w+s>g.width||A+i>g.height){const S=this.cachedCanvases.getCanvas("maskExtension",s,i),E=S.context;E.drawImage(g,-w,-A),E.globalCompositeOperation="destination-atop",E.fillStyle=o,E.fillRect(0,0,s,i),E.globalCompositeOperation="source-over",g=S.canvas,w=A=0}else{e.save(),e.globalAlpha=1,e.setTransform(1,0,0,1,0,0);const S=new Path2D;S.rect(w,A,s,i),e.clip(S),e.globalCompositeOperation="destination-atop",e.fillStyle=o,e.fillRect(w,A,s,i),e.restore()}t.save(),t.globalAlpha=1,t.setTransform(1,0,0,1,0,0),r==="Alpha"&&c?t.filter=this.filterFactory.addAlphaFilter(c):r==="Luminosity"&&(t.filter=this.filterFactory.addLuminosityFilter(c));const x=new Path2D;x.rect(u,h,s,i),t.clip(x),t.globalCompositeOperation="destination-in",t.drawImage(g,w,A,s,i,u,h,s,i),t.restore()}save(e){this.inSMaskMode&&Sa(this.ctx,this.suspendedCtx),this.ctx.save();const t=this.current;this.stateStack.push(t),this.current=t.clone(),this.dependencyTracker?.save(e)}restore(e){if(this.dependencyTracker?.restore(e),this.stateStack.length===0){this.inSMaskMode&&this.endSMaskMode();return}this.current=this.stateStack.pop(),this.ctx.restore(),this.inSMaskMode&&Sa(this.suspendedCtx,this.ctx),this.checkSMaskState(),this.pendingClip=null,this._cachedScaleForStroking[0]=-1,this._cachedGetSinglePixelWidth=null}transform(e,t,s,i,r,o,c){this.dependencyTracker?.recordIncrementalData("transform",e),this.ctx.transform(t,s,i,r,o,c),this._cachedScaleForStroking[0]=-1,this._cachedGetSinglePixelWidth=null}constructPath(e,t,s,i){let[r]=s;if(!i){r||=s[0]=new Path2D,this[t](e,r);return}if(this.dependencyTracker!==null){const o=t===bo.stroke?this.current.lineWidth/2:0;this.dependencyTracker.resetBBox(e).recordBBox(e,this.ctx,i[0]-o,i[2]+o,i[1]-o,i[3]+o).recordDependencies(e,["transform"])}if(!(r instanceof Path2D)){const o=s[0]=new Path2D;for(let c=0,u=r.length;c<u;)switch(r[c++]){case Uc.moveTo:o.moveTo(r[c++],r[c++]);break;case Uc.lineTo:o.lineTo(r[c++],r[c++]);break;case Uc.curveTo:o.bezierCurveTo(r[c++],r[c++],r[c++],r[c++],r[c++],r[c++]);break;case Uc.closePath:o.closePath();break;default:Oe(`Unrecognized drawing path operator: ${r[c-1]}`);break}r=o}ge.axialAlignedBoundingBox(i,gt(this.ctx),this.current.minMax),this[t](e,r),this._pathStartIdx=e}closePath(e){this.ctx.closePath()}stroke(e,t,s=!0){const i=this.ctx,r=this.current.strokeColor;if(i.globalAlpha=this.current.strokeAlpha,this.contentVisible)if(typeof r=="object"&&r?.getPattern){const o=r.isModifyingCurrentTransform()?i.getTransform():null;if(i.save(),i.strokeStyle=r.getPattern(i,this,ks(i),en.STROKE,e),o){const c=new Path2D;c.addPath(t,i.getTransform().invertSelf().multiplySelf(o)),t=c}this.rescaleAndStroke(t,!1),i.restore()}else this.rescaleAndStroke(t,!0);this.dependencyTracker?.recordDependencies(e,Zn.stroke),s&&this.consumePath(e,t,this.current.getClippedPathBoundingBox(en.STROKE,gt(this.ctx))),i.globalAlpha=this.current.fillAlpha}closeStroke(e,t){this.stroke(e,t)}fill(e,t,s=!0){const i=this.ctx,r=this.current.fillColor,o=this.current.patternFill;let c=!1;if(o){const h=r.isModifyingCurrentTransform()?i.getTransform():null;if(this.dependencyTracker?.save(e),i.save(),i.fillStyle=r.getPattern(i,this,ks(i),en.FILL,e),h){const f=new Path2D;f.addPath(t,i.getTransform().invertSelf().multiplySelf(h)),t=f}c=!0}const u=this.current.getClippedPathBoundingBox();this.contentVisible&&u!==null&&(this.pendingEOFill?(i.fill(t,"evenodd"),this.pendingEOFill=!1):i.fill(t)),this.dependencyTracker?.recordDependencies(e,Zn.fill),c&&(i.restore(),this.dependencyTracker?.restore(e)),s&&this.consumePath(e,t,u)}eoFill(e,t){this.pendingEOFill=!0,this.fill(e,t)}fillStroke(e,t){this.fill(e,t,!1),this.stroke(e,t,!1),this.consumePath(e,t)}eoFillStroke(e,t){this.pendingEOFill=!0,this.fillStroke(e,t)}closeFillStroke(e,t){this.fillStroke(e,t)}closeEOFillStroke(e,t){this.pendingEOFill=!0,this.fillStroke(e,t)}endPath(e,t){this.consumePath(e,t)}rawFillPath(e,t){this.ctx.fill(t),this.dependencyTracker?.recordDependencies(e,Zn.rawFillPath).recordOperation(e)}clip(e){this.dependencyTracker?.recordFutureForcedDependency("clipMode",e),this.pendingClip=l6}eoClip(e){this.dependencyTracker?.recordFutureForcedDependency("clipMode",e),this.pendingClip=ab}beginText(e){this.current.textMatrix=null,this.current.textMatrixScale=1,this.current.x=this.current.lineX=0,this.current.y=this.current.lineY=0,this.dependencyTracker?.recordOpenMarker(e).resetIncrementalData("sameLineText").resetIncrementalData("moveText",e)}endText(e){const t=this.pendingTextPaths,s=this.ctx;if(this.dependencyTracker){const{dependencyTracker:i}=this;t!==void 0&&i.recordFutureForcedDependency("textClip",i.getOpenMarker()).recordFutureForcedDependency("textClip",e),i.recordCloseMarker(e)}if(t!==void 0){const i=new Path2D,r=s.getTransform().invertSelf();for(const{transform:o,x:c,y:u,fontSize:h,path:f}of t)f&&i.addPath(f,new DOMMatrix(o).preMultiplySelf(r).translate(c,u).scale(h,-h));s.clip(i)}delete this.pendingTextPaths}setCharSpacing(e,t){this.dependencyTracker?.recordSimpleData("charSpacing",e),this.current.charSpacing=t}setWordSpacing(e,t){this.dependencyTracker?.recordSimpleData("wordSpacing",e),this.current.wordSpacing=t}setHScale(e,t){this.dependencyTracker?.recordSimpleData("hScale",e),this.current.textHScale=t/100}setLeading(e,t){this.dependencyTracker?.recordSimpleData("leading",e),this.current.leading=-t}setFont(e,t,s){this.dependencyTracker?.recordSimpleData("font",e).recordSimpleDataFromNamed("fontObj",t,e);const i=this.commonObjs.get(t),r=this.current;if(!i)throw new Error(`Can't find font for ${t}`);if(r.fontMatrix=i.fontMatrix||Cp,(r.fontMatrix[0]===0||r.fontMatrix[3]===0)&&Oe("Invalid font matrix for font "+t),s<0?(s=-s,r.fontDirection=-1):r.fontDirection=1,this.current.font=i,this.current.fontSize=s,i.isType3Font)return;const o=i.loadedName||"sans-serif",c=i.systemFontInfo?.css||`"${o}", ${i.fallbackName}`;let u="normal";i.black?u="900":i.bold&&(u="bold");const h=i.italic?"italic":"normal";let f=s;s<eb?f=eb:s>tb&&(f=tb),this.current.fontSizeScale=s/f,this.ctx.font=`${h} ${u} ${f}px ${c}`}setTextRenderingMode(e,t){this.dependencyTracker?.recordSimpleData("textRenderingMode",e),this.current.textRenderingMode=t}setTextRise(e,t){this.dependencyTracker?.recordSimpleData("textRise",e),this.current.textRise=t}moveText(e,t,s){this.dependencyTracker?.resetIncrementalData("sameLineText").recordIncrementalData("moveText",e),this.current.x=this.current.lineX+=t,this.current.y=this.current.lineY+=s}setLeadingMoveText(e,t,s){this.setLeading(e,-s),this.moveText(e,t,s)}setTextMatrix(e,t){this.dependencyTracker?.recordSimpleData("textMatrix",e);const{current:s}=this;s.textMatrix=t,s.textMatrixScale=Math.hypot(t[0],t[1]),s.x=s.lineX=0,s.y=s.lineY=0}nextLine(e){this.moveText(e,0,this.current.leading),this.dependencyTracker?.recordIncrementalData("moveText",this.dependencyTracker.getSimpleIndex("leading")??e)}#s(e,t,s){const i=new Path2D;return i.addPath(e,new DOMMatrix(s).invertSelf().multiplySelf(t)),i}paintChar(e,t,s,i,r,o){const c=this.ctx,u=this.current,h=u.font,f=u.textRenderingMode,p=u.fontSize/u.fontSizeScale,g=f&Yt.FILL_STROKE_MASK,w=!!(f&Yt.ADD_TO_PATH_FLAG),A=u.patternFill&&!h.missingFile,x=u.patternStroke&&!h.missingFile;let S;if((h.disableFontFace||w||A||x)&&!h.missingFile&&(S=h.getPathGenerator(this.commonObjs,t)),S&&(h.disableFontFace||A||x)){c.save(),c.translate(s,i),c.scale(p,-p),this.dependencyTracker?.recordCharacterBBox(e,c,h);let E;if(g===Yt.FILL||g===Yt.FILL_STROKE)if(r){E=c.getTransform(),c.setTransform(...r);const _=this.#s(S,E,r);c.fill(_)}else c.fill(S);if(g===Yt.STROKE||g===Yt.FILL_STROKE)if(o){E||=c.getTransform(),c.setTransform(...o);const{a:_,b:k,c:T,d:P}=E,N=ge.inverseTransform(o),M=ge.transform([_,k,T,P,0,0],N);ge.singularValueDecompose2dScale(M,jn),c.lineWidth*=Math.max(jn[0],jn[1])/p,c.stroke(this.#s(S,E,o))}else c.lineWidth/=p,c.stroke(S);c.restore()}else(g===Yt.FILL||g===Yt.FILL_STROKE)&&(c.fillText(t,s,i),this.dependencyTracker?.recordCharacterBBox(e,c,h,p,s,i,()=>c.measureText(t))),(g===Yt.STROKE||g===Yt.FILL_STROKE)&&(this.dependencyTracker&&this.dependencyTracker?.recordCharacterBBox(e,c,h,p,s,i,()=>c.measureText(t)).recordDependencies(e,Zn.stroke),c.strokeText(t,s,i));w&&((this.pendingTextPaths||=[]).push({transform:gt(c),x:s,y:i,fontSize:p,path:S}),this.dependencyTracker?.recordCharacterBBox(e,c,h,p,s,i))}get isFontSubpixelAAEnabled(){const{context:e}=this.cachedCanvases.getCanvas("isFontSubpixelAAEnabled",10,10);e.scale(1.5,1),e.fillText("I",0,10);const t=e.getImageData(0,0,10,10).data;let s=!1;for(let i=3;i<t.length;i+=4)if(t[i]>0&&t[i]<255){s=!0;break}return Ve(this,"isFontSubpixelAAEnabled",s)}showText(e,t){this.dependencyTracker&&(this.dependencyTracker.recordDependencies(e,Zn.showText).resetBBox(e),this.current.textRenderingMode&Yt.ADD_TO_PATH_FLAG&&this.dependencyTracker.recordFutureForcedDependency("textClip",e).inheritPendingDependenciesAsFutureForcedDependencies());const s=this.current,i=s.font;if(i.isType3Font){this.showType3Text(e,t),this.dependencyTracker?.recordShowTextOperation(e);return}const r=s.fontSize;if(r===0){this.dependencyTracker?.recordOperation(e);return}const o=this.ctx,c=s.fontSizeScale,u=s.charSpacing,h=s.wordSpacing,f=s.fontDirection,p=s.textHScale*f,g=t.length,w=i.vertical,A=w?1:-1,x=i.defaultVMetrics,S=r*s.fontMatrix[0],E=s.textRenderingMode===Yt.FILL&&!i.disableFontFace&&!s.patternFill;o.save(),s.textMatrix&&o.transform(...s.textMatrix),o.translate(s.x,s.y+s.textRise),f>0?o.scale(p,-1):o.scale(p,1);let _,k;if(s.patternFill){o.save();const I=s.fillColor.getPattern(o,this,ks(o),en.FILL,e);_=gt(o),o.restore(),o.fillStyle=I}if(s.patternStroke){o.save();const I=s.strokeColor.getPattern(o,this,ks(o),en.STROKE,e);k=gt(o),o.restore(),o.strokeStyle=I}let T=s.lineWidth;const P=s.textMatrixScale;if(P===0||T===0){const I=s.textRenderingMode&Yt.FILL_STROKE_MASK;(I===Yt.STROKE||I===Yt.FILL_STROKE)&&(T=this.getSinglePixelWidth())}else T/=P;if(c!==1&&(o.scale(c,c),T/=c),o.lineWidth=T,i.isInvalidPDFjsFont){const I=[];let $=0;for(const Z of t)I.push(Z.unicode),$+=Z.width;const q=I.join("");if(o.fillText(q,0,0),this.dependencyTracker!==null){const Z=o.measureText(q);this.dependencyTracker.recordBBox(e,this.ctx,-Z.actualBoundingBoxLeft,Z.actualBoundingBoxRight,-Z.actualBoundingBoxAscent,Z.actualBoundingBoxDescent).recordShowTextOperation(e)}s.x+=$*S*p,o.restore(),this.compose();return}let N=0,M;for(M=0;M<g;++M){const I=t[M];if(typeof I=="number"){N+=A*I*r/1e3;continue}let $=!1;const q=(I.isSpace?h:0)+u,Z=I.fontChar,ie=I.accent;let U,ee,ue=I.width;if(w){const W=I.vmetric||x,oe=-(I.vmetric?W[1]:ue*.5)*S,J=W[2]*S;ue=W?-W[0]:ue,U=oe/c,ee=(N+J)/c}else U=N/c,ee=0;let Q;if(i.remeasure&&ue>0){Q=o.measureText(Z);const W=Q.width*1e3/r*c;if(ue<W&&this.isFontSubpixelAAEnabled){const oe=ue/W;$=!0,o.save(),o.scale(oe,1),U/=oe}else ue!==W&&(U+=(ue-W)/2e3*r/c)}if(this.contentVisible&&(I.isInFont||i.missingFile)){if(E&&!ie)o.fillText(Z,U,ee),this.dependencyTracker?.recordCharacterBBox(e,o,Q?{bbox:null}:i,r/c,U,ee,()=>Q??o.measureText(Z));else if(this.paintChar(e,Z,U,ee,_,k),ie){const W=U+r*ie.offset.x/c,oe=ee-r*ie.offset.y/c;this.paintChar(e,ie.fontChar,W,oe,_,k)}}const Y=w?ue*S-q*f:ue*S+q*f;N+=Y,$&&o.restore()}w?s.y-=N:s.x+=N*p,o.restore(),this.compose(),this.dependencyTracker?.recordShowTextOperation(e)}showType3Text(e,t){const s=this.ctx,i=this.current,r=i.font,o=i.fontSize,c=i.fontDirection,u=r.vertical?1:-1,h=i.charSpacing,f=i.wordSpacing,p=i.textHScale*c,g=i.fontMatrix||Cp,w=t.length,A=i.textRenderingMode===Yt.INVISIBLE;let x,S,E,_;if(A||o===0)return;this._cachedScaleForStroking[0]=-1,this._cachedGetSinglePixelWidth=null,s.save(),i.textMatrix&&s.transform(...i.textMatrix),s.translate(i.x,i.y+i.textRise),s.scale(p,c);const k=this.dependencyTracker;for(this.dependencyTracker=k?new Fu(k,e):null,x=0;x<w;++x){if(S=t[x],typeof S=="number"){_=u*S*o/1e3,this.ctx.translate(_,0),i.x+=_*p;continue}const T=(S.isSpace?f:0)+h,P=r.charProcOperatorList[S.operatorListId];P?this.contentVisible&&(this.save(),s.scale(o,o),s.transform(...g),this.executeOperatorList(P),this.restore()):Oe(`Type3 character "${S.operatorListId}" is not available.`);const N=[S.width,0];ge.applyTransform(N,g),E=N[0]*o+T,s.translate(E,0),i.x+=E*p}s.restore(),k&&(this.dependencyTracker=k)}setCharWidth(e,t,s){}setCharWidthAndBounds(e,t,s,i,r,o,c){const u=new Path2D;u.rect(i,r,o-i,c-r),this.ctx.clip(u),this.dependencyTracker?.recordBBox(e,this.ctx,i,o,r,c).recordClipBox(e,this.ctx,i,o,r,c),this.endPath(e)}getColorN_Pattern(e,t){let s;if(t[0]==="TilingPattern"){const i=this.baseTransform||gt(this.ctx),r={createCanvasGraphics:(o,c)=>new ho(o,this.commonObjs,this.objs,this.canvasFactory,this.filterFactory,{optionalContentConfig:this.optionalContentConfig,markedContentStack:this.markedContentStack},void 0,void 0,this.dependencyTracker?new Fu(this.dependencyTracker,c,!0):null)};s=new og(t,this.ctx,r,i)}else s=this._getPattern(e,t[1],t[2]);return s}setStrokeColorN(e,...t){this.dependencyTracker?.recordSimpleData("strokeColor",e),this.current.strokeColor=this.getColorN_Pattern(e,t),this.current.patternStroke=!0}setFillColorN(e,...t){this.dependencyTracker?.recordSimpleData("fillColor",e),this.current.fillColor=this.getColorN_Pattern(e,t),this.current.patternFill=!0}setStrokeRGBColor(e,t){this.dependencyTracker?.recordSimpleData("strokeColor",e),this.ctx.strokeStyle=this.current.strokeColor=t,this.current.patternStroke=!1}setStrokeTransparent(e){this.dependencyTracker?.recordSimpleData("strokeColor",e),this.ctx.strokeStyle=this.current.strokeColor="transparent",this.current.patternStroke=!1}setFillRGBColor(e,t){this.dependencyTracker?.recordSimpleData("fillColor",e),this.ctx.fillStyle=this.current.fillColor=t,this.current.patternFill=!1}setFillTransparent(e){this.dependencyTracker?.recordSimpleData("fillColor",e),this.ctx.fillStyle=this.current.fillColor="transparent",this.current.patternFill=!1}_getPattern(e,t,s=null){let i;return this.cachedPatterns.has(t)?i=this.cachedPatterns.get(t):(i=t6(this.getObject(e,t)),this.cachedPatterns.set(t,i)),s&&(i.matrix=s),i}shadingFill(e,t){if(!this.contentVisible)return;const s=this.ctx;this.save(e);const i=this._getPattern(e,t);s.fillStyle=i.getPattern(s,this,ks(s),en.SHADING,e);const r=ks(s);if(r){const{width:o,height:c}=s.canvas,u=ao.slice();ge.axialAlignedBoundingBox([0,0,o,c],r,u);const[h,f,p,g]=u;this.ctx.fillRect(h,f,p-h,g-f)}else this.ctx.fillRect(-1e10,-1e10,2e10,2e10);this.dependencyTracker?.resetBBox(e).recordFullPageBBox(e).recordDependencies(e,Zn.transform).recordDependencies(e,Zn.fill).recordOperation(e),this.compose(this.current.getClippedPathBoundingBox()),this.restore(e)}beginInlineImage(){nt("Should not call beginInlineImage")}beginImageData(){nt("Should not call beginImageData")}paintFormXObjectBegin(e,t,s){if(this.contentVisible&&(this.save(e),this.baseTransformStack.push(this.baseTransform),t&&this.transform(e,...t),this.baseTransform=gt(this.ctx),s)){ge.axialAlignedBoundingBox(s,this.baseTransform,this.current.minMax);const[i,r,o,c]=s,u=new Path2D;u.rect(i,r,o-i,c-r),this.ctx.clip(u),this.dependencyTracker?.recordClipBox(e,this.ctx,i,o,r,c),this.endPath(e)}}paintFormXObjectEnd(e){this.contentVisible&&(this.restore(e),this.baseTransform=this.baseTransformStack.pop())}beginGroup(e,t){if(!this.contentVisible)return;this.save(e),this.inSMaskMode&&(this.endSMaskMode(),this.current.activeSMask=null);const s=this.ctx;t.isolated||th("TODO: Support non-isolated groups."),t.knockout&&Oe("Knockout groups not supported.");const i=gt(s);if(t.matrix&&s.transform(...t.matrix),!t.bbox)throw new Error("Bounding box is required.");let r=ao.slice();ge.axialAlignedBoundingBox(t.bbox,gt(s),r);const o=[0,0,s.canvas.width,s.canvas.height];r=ge.intersect(r,o)||[0,0,0,0];const c=Math.floor(r[0]),u=Math.floor(r[1]),h=Math.max(Math.ceil(r[2])-c,1),f=Math.max(Math.ceil(r[3])-u,1);this.current.startNewPathAndClipBox([0,0,h,f]);let p="groupAt"+this.groupLevel;t.smask&&(p+="_smask_"+this.smaskCounter++%2);const g=this.cachedCanvases.getCanvas(p,h,f),w=g.context;w.translate(-c,-u),w.transform(...i);let A=new Path2D;const[x,S,E,_]=t.bbox;if(A.rect(x,S,E-x,_-S),t.matrix){const k=new Path2D;k.addPath(A,new DOMMatrix(t.matrix)),A=k}w.clip(A),t.smask&&this.smaskStack.push({canvas:g.canvas,context:w,offsetX:c,offsetY:u,subtype:t.smask.subtype,backdrop:t.smask.backdrop,transferMap:t.smask.transferMap||null,startTransformInverse:null}),(!t.smask||this.dependencyTracker)&&(s.setTransform(1,0,0,1,0,0),s.translate(c,u),s.save()),Sa(s,w),this.ctx=w,this.dependencyTracker?.inheritSimpleDataAsFutureForcedDependencies(["fillAlpha","strokeAlpha","globalCompositeOperation"]).pushBaseTransform(s),this.setGState(e,[["BM","source-over"],["ca",1],["CA",1]]),this.groupStack.push(s),this.groupLevel++}endGroup(e,t){if(!this.contentVisible)return;this.groupLevel--;const s=this.ctx,i=this.groupStack.pop();if(this.ctx=i,this.ctx.imageSmoothingEnabled=!1,this.dependencyTracker?.popBaseTransform(),t.smask)this.tempSMask=this.smaskStack.pop(),this.restore(e),this.dependencyTracker&&this.ctx.restore();else{this.ctx.restore();const r=gt(this.ctx);this.restore(e),this.ctx.save(),this.ctx.setTransform(...r);const o=ao.slice();ge.axialAlignedBoundingBox([0,0,s.canvas.width,s.canvas.height],r,o),this.ctx.drawImage(s.canvas,0,0),this.ctx.restore(),this.compose(o)}}beginAnnotation(e,t,s,i,r,o){if(this.#e(),Zc(this.ctx),this.ctx.save(),this.save(e),this.baseTransform&&this.ctx.setTransform(...this.baseTransform),s){const c=s[2]-s[0],u=s[3]-s[1];if(o&&this.annotationCanvasMap){i=i.slice(),i[4]-=s[0],i[5]-=s[1],s=s.slice(),s[0]=s[1]=0,s[2]=c,s[3]=u,ge.singularValueDecompose2dScale(gt(this.ctx),jn);const{viewportScale:h}=this,f=Math.ceil(c*this.outputScaleX*h),p=Math.ceil(u*this.outputScaleY*h);this.annotationCanvas=this.canvasFactory.create(f,p);const{canvas:g,context:w}=this.annotationCanvas;this.annotationCanvasMap.set(t,g),this.annotationCanvas.savedCtx=this.ctx,this.ctx=w,this.ctx.save(),this.ctx.setTransform(jn[0],0,0,-jn[1],0,u*jn[1]),Zc(this.ctx)}else{Zc(this.ctx),this.endPath(e);const h=new Path2D;h.rect(s[0],s[1],c,u),this.ctx.clip(h)}}this.current=new sb(this.ctx.canvas.width,this.ctx.canvas.height),this.transform(e,...i),this.transform(e,...r)}endAnnotation(e){this.annotationCanvas&&(this.ctx.restore(),this.#t(),this.ctx=this.annotationCanvas.savedCtx,delete this.annotationCanvas.savedCtx,delete this.annotationCanvas)}paintImageMaskXObject(e,t){if(!this.contentVisible)return;const s=t.count;t=this.getObject(e,t.data,t),t.count=s;const i=this.ctx,r=this._createMaskCanvas(e,t),o=r.canvas;i.save(),i.setTransform(1,0,0,1,0,0),i.drawImage(o,r.offsetX,r.offsetY),this.dependencyTracker?.resetBBox(e).recordBBox(e,this.ctx,r.offsetX,r.offsetX+o.width,r.offsetY,r.offsetY+o.height).recordOperation(e),i.restore(),this.compose()}paintImageMaskXObjectRepeat(e,t,s,i=0,r=0,o,c){if(!this.contentVisible)return;t=this.getObject(e,t.data,t);const u=this.ctx;u.save();const h=gt(u);u.transform(s,i,r,o,0,0);const f=this._createMaskCanvas(e,t);u.setTransform(1,0,0,1,f.offsetX-h[4],f.offsetY-h[5]),this.dependencyTracker?.resetBBox(e);for(let p=0,g=c.length;p<g;p+=2){const w=ge.transform(h,[s,i,r,o,c[p],c[p+1]]);u.drawImage(f.canvas,w[4],w[5]),this.dependencyTracker?.recordBBox(e,this.ctx,w[4],w[4]+f.canvas.width,w[5],w[5]+f.canvas.height)}u.restore(),this.compose(),this.dependencyTracker?.recordOperation(e)}paintImageMaskXObjectGroup(e,t){if(!this.contentVisible)return;const s=this.ctx,i=this.current.fillColor,r=this.current.patternFill;this.dependencyTracker?.resetBBox(e).recordDependencies(e,Zn.transformAndFill);for(const o of t){const{data:c,width:u,height:h,transform:f}=o,p=this.cachedCanvases.getCanvas("maskCanvas",u,h),g=p.context;g.save();const w=this.getObject(e,c,o);rb(g,w),g.globalCompositeOperation="source-in",g.fillStyle=r?i.getPattern(g,this,ks(s),en.FILL,e):i,g.fillRect(0,0,u,h),g.restore(),s.save(),s.transform(...f),s.scale(1,-1),Xc(s,p.canvas,0,0,u,h,0,-1,1,1),this.dependencyTracker?.recordBBox(e,s,0,u,0,h),s.restore()}this.compose(),this.dependencyTracker?.recordOperation(e)}paintImageXObject(e,t){if(!this.contentVisible)return;const s=this.getObject(e,t);if(!s){Oe("Dependent image isn't ready yet");return}this.paintInlineImageXObject(e,s)}paintImageXObjectRepeat(e,t,s,i,r){if(!this.contentVisible)return;const o=this.getObject(e,t);if(!o){Oe("Dependent image isn't ready yet");return}const c=o.width,u=o.height,h=[];for(let f=0,p=r.length;f<p;f+=2)h.push({transform:[s,0,0,i,r[f],r[f+1]],x:0,y:0,w:c,h:u});this.paintInlineImageXObjectGroup(e,o,h)}applyTransferMapsToCanvas(e){return this.current.transferMaps!=="none"&&(e.filter=this.current.transferMaps,e.drawImage(e.canvas,0,0),e.filter="none"),e.canvas}applyTransferMapsToBitmap(e){if(this.current.transferMaps==="none")return e.bitmap;const{bitmap:t,width:s,height:i}=e,r=this.cachedCanvases.getCanvas("inlineImage",s,i),o=r.context;return o.filter=this.current.transferMaps,o.drawImage(t,0,0),o.filter="none",r.canvas}paintInlineImageXObject(e,t){if(!this.contentVisible)return;const s=t.width,i=t.height,r=this.ctx;this.save(e);const{filter:o}=r;o!=="none"&&o!==""&&(r.filter="none"),r.scale(1/s,-1/i);let c;if(t.bitmap)c=this.applyTransferMapsToBitmap(t);else if(typeof HTMLElement=="function"&&t instanceof HTMLElement||!t.data)c=t;else{const f=this.cachedCanvases.getCanvas("inlineImage",s,i).context;ib(f,t),c=this.applyTransferMapsToCanvas(f)}const u=this._scaleImage(c,ks(r));r.imageSmoothingEnabled=ob(gt(r),t.interpolate),this.dependencyTracker?.resetBBox(e).recordBBox(e,r,0,s,-i,0).recordDependencies(e,Zn.imageXObject).recordOperation(e),Xc(r,u.img,0,0,u.paintWidth,u.paintHeight,0,-i,s,i),this.compose(),this.restore(e)}paintInlineImageXObjectGroup(e,t,s){if(!this.contentVisible)return;const i=this.ctx;let r;if(t.bitmap)r=t.bitmap;else{const o=t.width,c=t.height,h=this.cachedCanvases.getCanvas("inlineImage",o,c).context;ib(h,t),r=this.applyTransferMapsToCanvas(h)}this.dependencyTracker?.resetBBox(e);for(const o of s)i.save(),i.transform(...o.transform),i.scale(1,-1),Xc(i,r,o.x,o.y,o.w,o.h,0,-1,1,1),this.dependencyTracker?.recordBBox(e,i,0,1,-1,0),i.restore();this.dependencyTracker?.recordOperation(e),this.compose()}paintSolidColorImageMask(e){this.contentVisible&&(this.dependencyTracker?.resetBBox(e).recordBBox(e,this.ctx,0,1,0,1).recordDependencies(e,Zn.fill).recordOperation(e),this.ctx.fillRect(0,0,1,1),this.compose())}markPoint(e,t){}markPointProps(e,t,s){}beginMarkedContent(e,t){this.dependencyTracker?.beginMarkedContent(e),this.markedContentStack.push({visible:!0})}beginMarkedContentProps(e,t,s){this.dependencyTracker?.beginMarkedContent(e),t==="OC"?this.markedContentStack.push({visible:this.optionalContentConfig.isVisible(s)}):this.markedContentStack.push({visible:!0}),this.contentVisible=this.isContentVisible()}endMarkedContent(e){this.dependencyTracker?.endMarkedContent(e),this.markedContentStack.pop(),this.contentVisible=this.isContentVisible()}beginCompat(e){}endCompat(e){}consumePath(e,t,s){const i=this.current.isEmptyClip();this.pendingClip&&this.current.updateClipFromPath(),this.pendingClip||this.compose(s);const r=this.ctx;this.pendingClip?(i||(this.pendingClip===ab?r.clip(t,"evenodd"):r.clip(t)),this.pendingClip=null,this.dependencyTracker?.bboxToClipBoxDropOperation(e).recordFutureForcedDependency("clipPath",e)):this.dependencyTracker?.recordOperation(e),this.current.startNewPathAndClipBox(this.current.clipBox)}getSinglePixelWidth(){if(!this._cachedGetSinglePixelWidth){const e=gt(this.ctx);if(e[1]===0&&e[2]===0)this._cachedGetSinglePixelWidth=1/Math.min(Math.abs(e[0]),Math.abs(e[3]));else{const t=Math.abs(e[0]*e[3]-e[2]*e[1]),s=Math.hypot(e[0],e[2]),i=Math.hypot(e[1],e[3]);this._cachedGetSinglePixelWidth=Math.max(s,i)/t}}return this._cachedGetSinglePixelWidth}getScaleForStroking(){if(this._cachedScaleForStroking[0]===-1){const{lineWidth:e}=this.current,{a:t,b:s,c:i,d:r}=this.ctx.getTransform();let o,c;if(s===0&&i===0){const u=Math.abs(t),h=Math.abs(r);if(u===h)if(e===0)o=c=1/u;else{const f=u*e;o=c=f<1?1/f:1}else if(e===0)o=1/u,c=1/h;else{const f=u*e,p=h*e;o=f<1?1/f:1,c=p<1?1/p:1}}else{const u=Math.abs(t*r-s*i),h=Math.hypot(t,s),f=Math.hypot(i,r);if(e===0)o=f/u,c=h/u;else{const p=e*u;o=f>p?f/p:1,c=h>p?h/p:1}}this._cachedScaleForStroking[0]=o,this._cachedScaleForStroking[1]=c}return this._cachedScaleForStroking}rescaleAndStroke(e,t){const{ctx:s,current:{lineWidth:i}}=this,[r,o]=this.getScaleForStroking();if(r===o){s.lineWidth=(i||1)*r,s.stroke(e);return}const c=s.getLineDash();t&&s.save(),s.scale(r,o),Pf.a=1/r,Pf.d=1/o;const u=new Path2D;if(u.addPath(e,Pf),c.length>0){const h=Math.max(r,o);s.setLineDash(c.map(f=>f/h)),s.lineDashOffset/=h}s.lineWidth=i||1,s.stroke(u),t&&s.restore()}isContentVisible(){for(let e=this.markedContentStack.length-1;e>=0;e--)if(!this.markedContentStack[e].visible)return!1;return!0}}for(const n in bo)ho.prototype[n]!==void 0&&(ho.prototype[bo[n]]=ho.prototype[n]);class fo{#e;#t;#s;static strings=["fontFamily","fontWeight","italicAngle"];static write(e){const t=new TextEncoder,s={};let i=0;for(const h of fo.strings){const f=t.encode(e[h]);s[h]=f,i+=4+f.length}const r=new ArrayBuffer(i),o=new Uint8Array(r),c=new DataView(r);let u=0;for(const h of fo.strings){const f=s[h],p=f.length;c.setUint32(u,p),o.set(f,u+4),u+=4+p}return qe(u===r.byteLength,"CssFontInfo.write: Buffer overflow"),r}constructor(e){this.#e=e,this.#t=new DataView(this.#e),this.#s=new TextDecoder}#n(e){qe(e<fo.strings.length,"Invalid string index");let t=0;for(let i=0;i<e;i++)t+=this.#t.getUint32(t)+4;const s=this.#t.getUint32(t);return this.#s.decode(new Uint8Array(this.#e,t+4,s))}get fontFamily(){return this.#n(0)}get fontWeight(){return this.#n(1)}get italicAngle(){return this.#n(2)}}class po{#e;#t;#s;static strings=["css","loadedName","baseFontName","src"];static write(e){const t=new TextEncoder,s={};let i=0;for(const g of po.strings){const w=t.encode(e[g]);s[g]=w,i+=4+w.length}i+=4;let r,o,c=1+i;e.style&&(r=t.encode(e.style.style),o=t.encode(e.style.weight),c+=4+r.length+4+o.length);const u=new ArrayBuffer(c),h=new Uint8Array(u),f=new DataView(u);let p=0;f.setUint8(p++,e.guessFallback?1:0),f.setUint32(p,0),p+=4,i=0;for(const g of po.strings){const w=s[g],A=w.length;i+=4+A,f.setUint32(p,A),h.set(w,p+4),p+=4+A}return f.setUint32(p-i-4,i),e.style&&(f.setUint32(p,r.length),h.set(r,p+4),p+=4+r.length,f.setUint32(p,o.length),h.set(o,p+4),p+=4+o.length),qe(p<=u.byteLength,"SubstitionInfo.write: Buffer overflow"),u.transferToFixedLength(p)}constructor(e){this.#e=e,this.#t=new DataView(this.#e),this.#s=new TextDecoder}get guessFallback(){return this.#t.getUint8(0)!==0}#n(e){qe(e<po.strings.length,"Invalid string index");let t=5;for(let i=0;i<e;i++)t+=this.#t.getUint32(t)+4;const s=this.#t.getUint32(t);return this.#s.decode(new Uint8Array(this.#e,t+4,s))}get css(){return this.#n(0)}get loadedName(){return this.#n(1)}get baseFontName(){return this.#n(2)}get src(){return this.#n(3)}get style(){let e=1;e+=4+this.#t.getUint32(e);const t=this.#t.getUint32(e),s=this.#s.decode(new Uint8Array(this.#e,e+4,t));e+=4+t;const i=this.#t.getUint32(e),r=this.#s.decode(new Uint8Array(this.#e,e+4,i));return{style:s,weight:r}}}class Je{static bools=["black","bold","disableFontFace","fontExtraProperties","isInvalidPDFjsFont","isType3Font","italic","missingFile","remeasure","vertical"];static numbers=["ascent","defaultWidth","descent"];static strings=["fallbackName","loadedName","mimetype","name"];static#e=Math.ceil(this.bools.length*2/8);static#t=this.#e+this.numbers.length*8;static#s=this.#t+1+8;static#n=this.#s+1+48;static#i=this.#n+1+6;#r;#o;#a;constructor({data:e,extra:t}){this.#r=e,this.#o=new TextDecoder,this.#a=new DataView(this.#r),t&&Object.assign(this,t)}#c(e){qe(e<Je.bools.length,"Invalid boolean index");const t=Math.floor(e/4),s=e*2%8,i=this.#a.getUint8(t)>>s&3;return i===0?void 0:i===2}get black(){return this.#c(0)}get bold(){return this.#c(1)}get disableFontFace(){return this.#c(2)}get fontExtraProperties(){return this.#c(3)}get isInvalidPDFjsFont(){return this.#c(4)}get isType3Font(){return this.#c(5)}get italic(){return this.#c(6)}get missingFile(){return this.#c(7)}get remeasure(){return this.#c(8)}get vertical(){return this.#c(9)}#l(e){return qe(e<Je.numbers.length,"Invalid number index"),this.#a.getFloat64(Je.#e+e*8)}get ascent(){return this.#l(0)}get defaultWidth(){return this.#l(1)}get descent(){return this.#l(2)}get bbox(){let e=Je.#t;if(this.#a.getUint8(e)===0)return;e+=1;const s=[];for(let i=0;i<4;i++)s.push(this.#a.getInt16(e,!0)),e+=2;return s}get fontMatrix(){let e=Je.#s;if(this.#a.getUint8(e)===0)return;e+=1;const s=[];for(let i=0;i<6;i++)s.push(this.#a.getFloat64(e,!0)),e+=8;return s}get defaultVMetrics(){let e=Je.#n;if(this.#a.getUint8(e)===0)return;e+=1;const s=[];for(let i=0;i<3;i++)s.push(this.#a.getInt16(e,!0)),e+=2;return s}#d(e){qe(e<Je.strings.length,"Invalid string index");let t=Je.#i+4;for(let r=0;r<e;r++)t+=this.#a.getUint32(t)+4;const s=this.#a.getUint32(t),i=new Uint8Array(s);return i.set(new Uint8Array(this.#r,t+4,s)),this.#o.decode(i)}get fallbackName(){return this.#d(0)}get loadedName(){return this.#d(1)}get mimetype(){return this.#d(2)}get name(){return this.#d(3)}get data(){let e=Je.#i;const t=this.#a.getUint32(e);e+=4+t;const s=this.#a.getUint32(e);e+=4+s;const i=this.#a.getUint32(e);e+=4+i;const r=this.#a.getUint32(e);if(r!==0)return new Uint8Array(this.#r,e+4,r)}clearData(){let e=Je.#i;const t=this.#a.getUint32(e);e+=4+t;const s=this.#a.getUint32(e);e+=4+s;const i=this.#a.getUint32(e);e+=4+i;const r=this.#a.getUint32(e);new Uint8Array(this.#r,e+4,r).fill(0),this.#a.setUint32(e,0)}get cssFontInfo(){let e=Je.#i;const t=this.#a.getUint32(e);e+=4+t;const s=this.#a.getUint32(e);e+=4+s;const i=this.#a.getUint32(e);if(i===0)return null;const r=new Uint8Array(i);return r.set(new Uint8Array(this.#r,e+4,i)),new fo(r.buffer)}get systemFontInfo(){let e=Je.#i;const t=this.#a.getUint32(e);e+=4+t;const s=this.#a.getUint32(e);if(s===0)return null;const i=new Uint8Array(s);return i.set(new Uint8Array(this.#r,e+4,s)),new po(i.buffer)}static write(e){const t=e.systemFontInfo?po.write(e.systemFontInfo):null,s=e.cssFontInfo?fo.write(e.cssFontInfo):null,i=new TextEncoder,r={};let o=0;for(const x of Je.strings)r[x]=i.encode(e[x]),o+=4+r[x].length;const c=Je.#i+4+o+4+(t?t.byteLength:0)+4+(s?s.byteLength:0)+4+(e.data?e.data.length:0),u=new ArrayBuffer(c),h=new Uint8Array(u),f=new DataView(u);let p=0;const g=Je.bools.length;let w=0,A=0;for(let x=0;x<g;x++){const S=e[Je.bools[x]];w|=(S===void 0?0:S?2:1)<<A,A+=2,(A===8||x===g-1)&&(f.setUint8(p++,w),w=0,A=0)}qe(p===Je.#e,"FontInfo.write: Boolean properties offset mismatch");for(const x of Je.numbers)f.setFloat64(p,e[x]),p+=8;if(qe(p===Je.#t,"FontInfo.write: Number properties offset mismatch"),e.bbox){f.setUint8(p++,4);for(const x of e.bbox)f.setInt16(p,x,!0),p+=2}else f.setUint8(p++,0),p+=8;if(qe(p===Je.#s,"FontInfo.write: BBox properties offset mismatch"),e.fontMatrix){f.setUint8(p++,6);for(const x of e.fontMatrix)f.setFloat64(p,x,!0),p+=8}else f.setUint8(p++,0),p+=48;if(qe(p===Je.#n,"FontInfo.write: FontMatrix properties offset mismatch"),e.defaultVMetrics){f.setUint8(p++,1);for(const x of e.defaultVMetrics)f.setInt16(p,x,!0),p+=2}else f.setUint8(p++,0),p+=6;qe(p===Je.#i,"FontInfo.write: DefaultVMetrics properties offset mismatch"),f.setUint32(Je.#i,0),p+=4;for(const x of Je.strings){const S=r[x],E=S.length;f.setUint32(p,E),h.set(S,p+4),p+=4+E}if(f.setUint32(Je.#i,p-Je.#i-4),!t)f.setUint32(p,0),p+=4;else{const x=t.byteLength;f.setUint32(p,x),qe(p+4+x<=u.byteLength,"FontInfo.write: Buffer overflow at systemFontInfo"),h.set(new Uint8Array(t),p+4),p+=4+x}if(!s)f.setUint32(p,0),p+=4;else{const x=s.byteLength;f.setUint32(p,x),qe(p+4+x<=u.byteLength,"FontInfo.write: Buffer overflow at cssFontInfo"),h.set(new Uint8Array(s),p+4),p+=4+x}return e.data===void 0?(f.setUint32(p,0),p+=4):(f.setUint32(p,e.data.length),h.set(e.data,p+4),p+=4+e.data.length),qe(p<=u.byteLength,"FontInfo.write: Buffer overflow"),u.transferToFixedLength(p)}}class Fi{static#e=null;static#t="";static get workerPort(){return this.#e}static set workerPort(e){if(!(typeof Worker<"u"&&e instanceof Worker)&&e!==null)throw new Error("Invalid `workerPort` type.");this.#e=e}static get workerSrc(){return this.#t}static set workerSrc(e){if(typeof e!="string")throw new Error("Invalid `workerSrc` type.");this.#t=e}}class c6{#e;#t;constructor({parsedData:e,rawData:t}){this.#e=e,this.#t=t}getRaw(){return this.#t}get(e){return this.#e.get(e)??null}[Symbol.iterator](){return this.#e.entries()}}const Jr=Symbol("INTERNAL");class u6{#e=!1;#t=!1;#s=!1;#n=!0;constructor(e,{name:t,intent:s,usage:i,rbGroups:r}){this.#e=!!(e&In.DISPLAY),this.#t=!!(e&In.PRINT),this.name=t,this.intent=s,this.usage=i,this.rbGroups=r}get visible(){if(this.#s)return this.#n;if(!this.#n)return!1;const{print:e,view:t}=this.usage;return this.#e?t?.viewState!=="OFF":this.#t?e?.printState!=="OFF":!0}_setVisible(e,t,s=!1){e!==Jr&&nt("Internal method `_setVisible` called."),this.#s=s,this.#n=t}}class h6{#e=null;#t=new Map;#s=null;#n=null;constructor(e,t=In.DISPLAY){if(this.renderingIntent=t,this.name=null,this.creator=null,e!==null){this.name=e.name,this.creator=e.creator,this.#n=e.order;for(const s of e.groups)this.#t.set(s.id,new u6(t,s));if(e.baseState==="OFF")for(const s of this.#t.values())s._setVisible(Jr,!1);for(const s of e.on)this.#t.get(s)._setVisible(Jr,!0);for(const s of e.off)this.#t.get(s)._setVisible(Jr,!1);this.#s=this.getHash()}}#i(e){const t=e.length;if(t<2)return!0;const s=e[0];for(let i=1;i<t;i++){const r=e[i];let o;if(Array.isArray(r))o=this.#i(r);else if(this.#t.has(r))o=this.#t.get(r).visible;else return Oe(`Optional content group not found: ${r}`),!0;switch(s){case"And":if(!o)return!1;break;case"Or":if(o)return!0;break;case"Not":return!o;default:return!0}}return s==="And"}isVisible(e){if(this.#t.size===0)return!0;if(!e)return th("Optional content group not defined."),!0;if(e.type==="OCG")return this.#t.has(e.id)?this.#t.get(e.id).visible:(Oe(`Optional content group not found: ${e.id}`),!0);if(e.type==="OCMD"){if(e.expression)return this.#i(e.expression);if(!e.policy||e.policy==="AnyOn"){for(const t of e.ids){if(!this.#t.has(t))return Oe(`Optional content group not found: ${t}`),!0;if(this.#t.get(t).visible)return!0}return!1}else if(e.policy==="AllOn"){for(const t of e.ids){if(!this.#t.has(t))return Oe(`Optional content group not found: ${t}`),!0;if(!this.#t.get(t).visible)return!1}return!0}else if(e.policy==="AnyOff"){for(const t of e.ids){if(!this.#t.has(t))return Oe(`Optional content group not found: ${t}`),!0;if(!this.#t.get(t).visible)return!0}return!1}else if(e.policy==="AllOff"){for(const t of e.ids){if(!this.#t.has(t))return Oe(`Optional content group not found: ${t}`),!0;if(this.#t.get(t).visible)return!1}return!0}return Oe(`Unknown optional content policy ${e.policy}.`),!0}return Oe(`Unknown group type ${e.type}.`),!0}setVisibility(e,t=!0,s=!0){const i=this.#t.get(e);if(!i){Oe(`Optional content group not found: ${e}`);return}if(s&&t&&i.rbGroups.length)for(const r of i.rbGroups)for(const o of r)o!==e&&this.#t.get(o)?._setVisible(Jr,!1,!0);i._setVisible(Jr,!!t,!0),this.#e=null}setOCGState({state:e,preserveRB:t}){let s;for(const i of e){switch(i){case"ON":case"OFF":case"Toggle":s=i;continue}const r=this.#t.get(i);if(r)switch(s){case"ON":this.setVisibility(i,!0,t);break;case"OFF":this.setVisibility(i,!1,t);break;case"Toggle":this.setVisibility(i,!r.visible,t);break}}this.#e=null}get hasInitialVisibility(){return this.#s===null||this.getHash()===this.#s}getOrder(){return this.#t.size?this.#n?this.#n.slice():[...this.#t.keys()]:null}getGroup(e){return this.#t.get(e)||null}getHash(){if(this.#e!==null)return this.#e;const e=new ZS;for(const[t,s]of this.#t)e.update(`${t}:${s.visible}`);return this.#e=e.hexdigest()}[Symbol.iterator](){return this.#t.entries()}}class d6{constructor(e,{disableRange:t=!1,disableStream:s=!1}){qe(e,'PDFDataTransportStream - missing required "pdfDataRangeTransport" argument.');const{length:i,initialData:r,progressiveDone:o,contentDispositionFilename:c}=e;if(this._queuedChunks=[],this._progressiveDone=o,this._contentDispositionFilename=c,r?.length>0){const u=r instanceof Uint8Array&&r.byteLength===r.buffer.byteLength?r.buffer:new Uint8Array(r).buffer;this._queuedChunks.push(u)}this._pdfDataRangeTransport=e,this._isStreamingSupported=!s,this._isRangeSupported=!t,this._contentLength=i,this._fullRequestReader=null,this._rangeReaders=[],e.addRangeListener((u,h)=>{this._onReceiveData({begin:u,chunk:h})}),e.addProgressListener((u,h)=>{this._onProgress({loaded:u,total:h})}),e.addProgressiveReadListener(u=>{this._onReceiveData({chunk:u})}),e.addProgressiveDoneListener(()=>{this._onProgressiveDone()}),e.transportReady()}_onReceiveData({begin:e,chunk:t}){const s=t instanceof Uint8Array&&t.byteLength===t.buffer.byteLength?t.buffer:new Uint8Array(t).buffer;if(e===void 0)this._fullRequestReader?this._fullRequestReader._enqueue(s):this._queuedChunks.push(s);else{const i=this._rangeReaders.some(function(r){return r._begin!==e?!1:(r._enqueue(s),!0)});qe(i,"_onReceiveData - no `PDFDataTransportStreamRangeReader` instance found.")}}get _progressiveDataLength(){return this._fullRequestReader?._loaded??0}_onProgress(e){e.total===void 0?this._rangeReaders[0]?.onProgress?.({loaded:e.loaded}):this._fullRequestReader?.onProgress?.({loaded:e.loaded,total:e.total})}_onProgressiveDone(){this._fullRequestReader?.progressiveDone(),this._progressiveDone=!0}_removeRangeReader(e){const t=this._rangeReaders.indexOf(e);t>=0&&this._rangeReaders.splice(t,1)}getFullReader(){qe(!this._fullRequestReader,"PDFDataTransportStream.getFullReader can only be called once.");const e=this._queuedChunks;return this._queuedChunks=null,new f6(this,e,this._progressiveDone,this._contentDispositionFilename)}getRangeReader(e,t){if(t<=this._progressiveDataLength)return null;const s=new p6(this,e,t);return this._pdfDataRangeTransport.requestDataRange(e,t),this._rangeReaders.push(s),s}cancelAllRequests(e){this._fullRequestReader?.cancel(e);for(const t of this._rangeReaders.slice(0))t.cancel(e);this._pdfDataRangeTransport.abort()}}class f6{constructor(e,t,s=!1,i=null){this._stream=e,this._done=s||!1,this._filename=sh(i)?i:null,this._queuedChunks=t||[],this._loaded=0;for(const r of this._queuedChunks)this._loaded+=r.byteLength;this._requests=[],this._headersReady=Promise.resolve(),e._fullRequestReader=this,this.onProgress=null}_enqueue(e){this._done||(this._requests.length>0?this._requests.shift().resolve({value:e,done:!1}):this._queuedChunks.push(e),this._loaded+=e.byteLength)}get headersReady(){return this._headersReady}get filename(){return this._filename}get isRangeSupported(){return this._stream._isRangeSupported}get isStreamingSupported(){return this._stream._isStreamingSupported}get contentLength(){return this._stream._contentLength}async read(){if(this._queuedChunks.length>0)return{value:this._queuedChunks.shift(),done:!1};if(this._done)return{value:void 0,done:!0};const e=Promise.withResolvers();return this._requests.push(e),e.promise}cancel(e){this._done=!0;for(const t of this._requests)t.resolve({value:void 0,done:!0});this._requests.length=0}progressiveDone(){this._done||(this._done=!0)}}class p6{constructor(e,t,s){this._stream=e,this._begin=t,this._end=s,this._queuedChunk=null,this._requests=[],this._done=!1,this.onProgress=null}_enqueue(e){if(!this._done){if(this._requests.length===0)this._queuedChunk=e;else{this._requests.shift().resolve({value:e,done:!1});for(const s of this._requests)s.resolve({value:void 0,done:!0});this._requests.length=0}this._done=!0,this._stream._removeRangeReader(this)}}get isStreamingSupported(){return!1}async read(){if(this._queuedChunk){const t=this._queuedChunk;return this._queuedChunk=null,{value:t,done:!1}}if(this._done)return{value:void 0,done:!0};const e=Promise.withResolvers();return this._requests.push(e),e.promise}cancel(e){this._done=!0;for(const t of this._requests)t.resolve({value:void 0,done:!0});this._requests.length=0,this._stream._removeRangeReader(this)}}function m6(n){let e=!0,t=s("filename\\*","i").exec(n);if(t){t=t[1];let f=c(t);return f=unescape(f),f=u(f),f=h(f),r(f)}if(t=o(n),t){const f=h(t);return r(f)}if(t=s("filename","i").exec(n),t){t=t[1];let f=c(t);return f=h(f),r(f)}function s(f,p){return new RegExp("(?:^|;)\\s*"+f+'\\s*=\\s*([^";\\s][^;\\s]*|"(?:[^"\\\\]|\\\\"?)+"?)',p)}function i(f,p){if(f){if(!/^[\x00-\xFF]+$/.test(p))return p;try{const g=new TextDecoder(f,{fatal:!0}),w=ml(p);p=g.decode(w),e=!1}catch{}}return p}function r(f){return e&&/[\x80-\xff]/.test(f)&&(f=i("utf-8",f),e&&(f=i("iso-8859-1",f))),f}function o(f){const p=[];let g;const w=s("filename\\*((?!0\\d)\\d+)(\\*?)","ig");for(;(g=w.exec(f))!==null;){let[,x,S,E]=g;if(x=parseInt(x,10),x in p){if(x===0)break;continue}p[x]=[S,E]}const A=[];for(let x=0;x<p.length&&x in p;++x){let[S,E]=p[x];E=c(E),S&&(E=unescape(E),x===0&&(E=u(E))),A.push(E)}return A.join("")}function c(f){if(f.startsWith('"')){const p=f.slice(1).split('\\"');for(let g=0;g<p.length;++g){const w=p[g].indexOf('"');w!==-1&&(p[g]=p[g].slice(0,w),p.length=g+1),p[g]=p[g].replaceAll(/\\(.)/g,"$1")}f=p.join('"')}return f}function u(f){const p=f.indexOf("'");if(p===-1)return f;const g=f.slice(0,p),A=f.slice(p+1).replace(/^[^']*'/,"");return i(g,A)}function h(f){return!f.startsWith("=?")||/[\x00-\x19\x80-\xff]/.test(f)?f:f.replaceAll(/=\?([\w-]*)\?([QqBb])\?((?:[^?]|\?(?!=))*)\?=/g,function(p,g,w,A){if(w==="q"||w==="Q")return A=A.replaceAll("_"," "),A=A.replaceAll(/=([0-9a-fA-F]{2})/g,function(x,S){return String.fromCharCode(parseInt(S,16))}),i(g,A);try{A=atob(A)}catch{}return i(g,A)})}return""}function iE(n,e){const t=new Headers;if(!n||!e||typeof e!="object")return t;for(const s in e){const i=e[s];i!==void 0&&t.append(s,i)}return t}function ih(n){return URL.parse(n)?.origin??null}function rE({responseHeaders:n,isHttp:e,rangeChunkSize:t,disableRange:s}){const i={allowRangeRequests:!1,suggestedLength:void 0},r=parseInt(n.get("Content-Length"),10);return!Number.isInteger(r)||(i.suggestedLength=r,r<=2*t)||s||!e||n.get("Accept-Ranges")!=="bytes"||(n.get("Content-Encoding")||"identity")!=="identity"||(i.allowRangeRequests=!0),i}function oE(n){const e=n.get("Content-Disposition");if(e){let t=m6(e);if(t.includes("%"))try{t=decodeURIComponent(t)}catch{}if(sh(t))return t}return null}function xl(n,e){return new Ya(`Unexpected server response (${n}) while retrieving PDF "${e}".`,n,n===404||n===0&&e.startsWith("file:"))}function aE(n){return n===200||n===206}function lE(n,e,t){return{method:"GET",headers:n,signal:t.signal,mode:"cors",credentials:e?"include":"same-origin",redirect:"follow"}}function cE(n){return n instanceof Uint8Array?n.buffer:n instanceof ArrayBuffer?n:(Oe(`getArrayBuffer - unexpected data format: ${n}`),new Uint8Array(n).buffer)}class g6{_responseOrigin=null;constructor(e){this.source=e,this.isHttp=/^https?:/i.test(e.url),this.headers=iE(this.isHttp,e.httpHeaders),this._fullRequestReader=null,this._rangeRequestReaders=[]}get _progressiveDataLength(){return this._fullRequestReader?._loaded??0}getFullReader(){return qe(!this._fullRequestReader,"PDFFetchStream.getFullReader can only be called once."),this._fullRequestReader=new y6(this),this._fullRequestReader}getRangeReader(e,t){if(t<=this._progressiveDataLength)return null;const s=new v6(this,e,t);return this._rangeRequestReaders.push(s),s}cancelAllRequests(e){this._fullRequestReader?.cancel(e);for(const t of this._rangeRequestReaders.slice(0))t.cancel(e)}}class y6{constructor(e){this._stream=e,this._reader=null,this._loaded=0,this._filename=null;const t=e.source;this._withCredentials=t.withCredentials||!1,this._contentLength=t.length,this._headersCapability=Promise.withResolvers(),this._disableRange=t.disableRange||!1,this._rangeChunkSize=t.rangeChunkSize,!this._rangeChunkSize&&!this._disableRange&&(this._disableRange=!0),this._abortController=new AbortController,this._isStreamingSupported=!t.disableStream,this._isRangeSupported=!t.disableRange;const s=new Headers(e.headers),i=t.url;fetch(i,lE(s,this._withCredentials,this._abortController)).then(r=>{if(e._responseOrigin=ih(r.url),!aE(r.status))throw xl(r.status,i);this._reader=r.body.getReader(),this._headersCapability.resolve();const o=r.headers,{allowRangeRequests:c,suggestedLength:u}=rE({responseHeaders:o,isHttp:e.isHttp,rangeChunkSize:this._rangeChunkSize,disableRange:this._disableRange});this._isRangeSupported=c,this._contentLength=u||this._contentLength,this._filename=oE(o),!this._isStreamingSupported&&this._isRangeSupported&&this.cancel(new ii("Streaming is disabled."))}).catch(this._headersCapability.reject),this.onProgress=null}get headersReady(){return this._headersCapability.promise}get filename(){return this._filename}get contentLength(){return this._contentLength}get isRangeSupported(){return this._isRangeSupported}get isStreamingSupported(){return this._isStreamingSupported}async read(){await this._headersCapability.promise;const{value:e,done:t}=await this._reader.read();return t?{value:e,done:t}:(this._loaded+=e.byteLength,this.onProgress?.({loaded:this._loaded,total:this._contentLength}),{value:cE(e),done:!1})}cancel(e){this._reader?.cancel(e),this._abortController.abort()}}class v6{constructor(e,t,s){this._stream=e,this._reader=null,this._loaded=0;const i=e.source;this._withCredentials=i.withCredentials||!1,this._readCapability=Promise.withResolvers(),this._isStreamingSupported=!i.disableStream,this._abortController=new AbortController;const r=new Headers(e.headers);r.append("Range",`bytes=${t}-${s-1}`);const o=i.url;fetch(o,lE(r,this._withCredentials,this._abortController)).then(c=>{const u=ih(c.url);if(u!==e._responseOrigin)throw new Error(`Expected range response-origin "${u}" to match "${e._responseOrigin}".`);if(!aE(c.status))throw xl(c.status,o);this._readCapability.resolve(),this._reader=c.body.getReader()}).catch(this._readCapability.reject),this.onProgress=null}get isStreamingSupported(){return this._isStreamingSupported}async read(){await this._readCapability.promise;const{value:e,done:t}=await this._reader.read();return t?{value:e,done:t}:(this._loaded+=e.byteLength,this.onProgress?.({loaded:this._loaded}),{value:cE(e),done:!1})}cancel(e){this._reader?.cancel(e),this._abortController.abort()}}const Ff=200,Rf=206;function w6(n){const e=n.response;return typeof e!="string"?e:ml(e).buffer}class x6{_responseOrigin=null;constructor({url:e,httpHeaders:t,withCredentials:s}){this.url=e,this.isHttp=/^https?:/i.test(e),this.headers=iE(this.isHttp,t),this.withCredentials=s||!1,this.currXhrId=0,this.pendingRequests=Object.create(null)}request(e){const t=new XMLHttpRequest,s=this.currXhrId++,i=this.pendingRequests[s]={xhr:t};t.open("GET",this.url),t.withCredentials=this.withCredentials;for(const[r,o]of this.headers)t.setRequestHeader(r,o);return this.isHttp&&"begin"in e&&"end"in e?(t.setRequestHeader("Range",`bytes=${e.begin}-${e.end-1}`),i.expectedStatus=Rf):i.expectedStatus=Ff,t.responseType="arraybuffer",qe(e.onError,"Expected `onError` callback to be provided."),t.onerror=()=>{e.onError(t.status)},t.onreadystatechange=this.onStateChange.bind(this,s),t.onprogress=this.onProgress.bind(this,s),i.onHeadersReceived=e.onHeadersReceived,i.onDone=e.onDone,i.onError=e.onError,i.onProgress=e.onProgress,t.send(null),s}onProgress(e,t){const s=this.pendingRequests[e];s&&s.onProgress?.(t)}onStateChange(e,t){const s=this.pendingRequests[e];if(!s)return;const i=s.xhr;if(i.readyState>=2&&s.onHeadersReceived&&(s.onHeadersReceived(),delete s.onHeadersReceived),i.readyState!==4||!(e in this.pendingRequests))return;if(delete this.pendingRequests[e],i.status===0&&this.isHttp){s.onError(i.status);return}const r=i.status||Ff;if(!(r===Ff&&s.expectedStatus===Rf)&&r!==s.expectedStatus){s.onError(i.status);return}const c=w6(i);if(r===Rf){const u=i.getResponseHeader("Content-Range"),h=/bytes (\d+)-(\d+)\/(\d+)/.exec(u);h?s.onDone({begin:parseInt(h[1],10),chunk:c}):(Oe('Missing or invalid "Content-Range" header.'),s.onError(0))}else c?s.onDone({begin:0,chunk:c}):s.onError(i.status)}getRequestXhr(e){return this.pendingRequests[e].xhr}isPendingRequest(e){return e in this.pendingRequests}abortRequest(e){const t=this.pendingRequests[e].xhr;delete this.pendingRequests[e],t.abort()}}class b6{constructor(e){this._source=e,this._manager=new x6(e),this._rangeChunkSize=e.rangeChunkSize,this._fullRequestReader=null,this._rangeRequestReaders=[]}_onRangeRequestReaderClosed(e){const t=this._rangeRequestReaders.indexOf(e);t>=0&&this._rangeRequestReaders.splice(t,1)}getFullReader(){return qe(!this._fullRequestReader,"PDFNetworkStream.getFullReader can only be called once."),this._fullRequestReader=new A6(this._manager,this._source),this._fullRequestReader}getRangeReader(e,t){const s=new S6(this._manager,e,t);return s.onClosed=this._onRangeRequestReaderClosed.bind(this),this._rangeRequestReaders.push(s),s}cancelAllRequests(e){this._fullRequestReader?.cancel(e);for(const t of this._rangeRequestReaders.slice(0))t.cancel(e)}}class A6{constructor(e,t){this._manager=e,this._url=t.url,this._fullRequestId=e.request({onHeadersReceived:this._onHeadersReceived.bind(this),onDone:this._onDone.bind(this),onError:this._onError.bind(this),onProgress:this._onProgress.bind(this)}),this._headersCapability=Promise.withResolvers(),this._disableRange=t.disableRange||!1,this._contentLength=t.length,this._rangeChunkSize=t.rangeChunkSize,!this._rangeChunkSize&&!this._disableRange&&(this._disableRange=!0),this._isStreamingSupported=!1,this._isRangeSupported=!1,this._cachedChunks=[],this._requests=[],this._done=!1,this._storedError=void 0,this._filename=null,this.onProgress=null}_onHeadersReceived(){const e=this._fullRequestId,t=this._manager.getRequestXhr(e);this._manager._responseOrigin=ih(t.responseURL);const s=t.getAllResponseHeaders(),i=new Headers(s?s.trimStart().replace(/[^\S ]+$/,"").split(/[\r\n]+/).map(c=>{const[u,...h]=c.split(": ");return[u,h.join(": ")]}):[]),{allowRangeRequests:r,suggestedLength:o}=rE({responseHeaders:i,isHttp:this._manager.isHttp,rangeChunkSize:this._rangeChunkSize,disableRange:this._disableRange});r&&(this._isRangeSupported=!0),this._contentLength=o||this._contentLength,this._filename=oE(i),this._isRangeSupported&&this._manager.abortRequest(e),this._headersCapability.resolve()}_onDone(e){if(e&&(this._requests.length>0?this._requests.shift().resolve({value:e.chunk,done:!1}):this._cachedChunks.push(e.chunk)),this._done=!0,!(this._cachedChunks.length>0)){for(const t of this._requests)t.resolve({value:void 0,done:!0});this._requests.length=0}}_onError(e){this._storedError=xl(e,this._url),this._headersCapability.reject(this._storedError);for(const t of this._requests)t.reject(this._storedError);this._requests.length=0,this._cachedChunks.length=0}_onProgress(e){this.onProgress?.({loaded:e.loaded,total:e.lengthComputable?e.total:this._contentLength})}get filename(){return this._filename}get isRangeSupported(){return this._isRangeSupported}get isStreamingSupported(){return this._isStreamingSupported}get contentLength(){return this._contentLength}get headersReady(){return this._headersCapability.promise}async read(){if(await this._headersCapability.promise,this._storedError)throw this._storedError;if(this._cachedChunks.length>0)return{value:this._cachedChunks.shift(),done:!1};if(this._done)return{value:void 0,done:!0};const e=Promise.withResolvers();return this._requests.push(e),e.promise}cancel(e){this._done=!0,this._headersCapability.reject(e);for(const t of this._requests)t.resolve({value:void 0,done:!0});this._requests.length=0,this._manager.isPendingRequest(this._fullRequestId)&&this._manager.abortRequest(this._fullRequestId),this._fullRequestReader=null}}class S6{constructor(e,t,s){this._manager=e,this._url=e.url,this._requestId=e.request({begin:t,end:s,onHeadersReceived:this._onHeadersReceived.bind(this),onDone:this._onDone.bind(this),onError:this._onError.bind(this),onProgress:this._onProgress.bind(this)}),this._requests=[],this._queuedChunk=null,this._done=!1,this._storedError=void 0,this.onProgress=null,this.onClosed=null}_onHeadersReceived(){const e=ih(this._manager.getRequestXhr(this._requestId)?.responseURL);e!==this._manager._responseOrigin&&(this._storedError=new Error(`Expected range response-origin "${e}" to match "${this._manager._responseOrigin}".`),this._onError(0))}_close(){this.onClosed?.(this)}_onDone(e){const t=e.chunk;this._requests.length>0?this._requests.shift().resolve({value:t,done:!1}):this._queuedChunk=t,this._done=!0;for(const s of this._requests)s.resolve({value:void 0,done:!0});this._requests.length=0,this._close()}_onError(e){this._storedError??=xl(e,this._url);for(const t of this._requests)t.reject(this._storedError);this._requests.length=0,this._queuedChunk=null}_onProgress(e){this.isStreamingSupported||this.onProgress?.({loaded:e.loaded})}get isStreamingSupported(){return!1}async read(){if(this._storedError)throw this._storedError;if(this._queuedChunk!==null){const t=this._queuedChunk;return this._queuedChunk=null,{value:t,done:!1}}if(this._done)return{value:void 0,done:!0};const e=Promise.withResolvers();return this._requests.push(e),e.promise}cancel(e){this._done=!0;for(const t of this._requests)t.resolve({value:void 0,done:!0});this._requests.length=0,this._manager.isPendingRequest(this._requestId)&&this._manager.abortRequest(this._requestId),this._close()}}const E6=/^[a-z][a-z0-9\-+.]+:/i;function _6(n){if(E6.test(n))return new URL(n);const e=process.getBuiltinModule("url");return new URL(e.pathToFileURL(n))}class C6{constructor(e){this.source=e,this.url=_6(e.url),qe(this.url.protocol==="file:","PDFNodeStream only supports file:// URLs."),this._fullRequestReader=null,this._rangeRequestReaders=[]}get _progressiveDataLength(){return this._fullRequestReader?._loaded??0}getFullReader(){return qe(!this._fullRequestReader,"PDFNodeStream.getFullReader can only be called once."),this._fullRequestReader=new k6(this),this._fullRequestReader}getRangeReader(e,t){if(t<=this._progressiveDataLength)return null;const s=new T6(this,e,t);return this._rangeRequestReaders.push(s),s}cancelAllRequests(e){this._fullRequestReader?.cancel(e);for(const t of this._rangeRequestReaders.slice(0))t.cancel(e)}}class k6{constructor(e){this._url=e.url,this._done=!1,this._storedError=null,this.onProgress=null;const t=e.source;this._contentLength=t.length,this._loaded=0,this._filename=null,this._disableRange=t.disableRange||!1,this._rangeChunkSize=t.rangeChunkSize,!this._rangeChunkSize&&!this._disableRange&&(this._disableRange=!0),this._isStreamingSupported=!t.disableStream,this._isRangeSupported=!t.disableRange,this._readableStream=null,this._readCapability=Promise.withResolvers(),this._headersCapability=Promise.withResolvers();const s=process.getBuiltinModule("fs");s.promises.lstat(this._url).then(i=>{this._contentLength=i.size,this._setReadableStream(s.createReadStream(this._url)),this._headersCapability.resolve()},i=>{i.code==="ENOENT"&&(i=xl(0,this._url.href)),this._storedError=i,this._headersCapability.reject(i)})}get headersReady(){return this._headersCapability.promise}get filename(){return this._filename}get contentLength(){return this._contentLength}get isRangeSupported(){return this._isRangeSupported}get isStreamingSupported(){return this._isStreamingSupported}async read(){if(await this._readCapability.promise,this._done)return{value:void 0,done:!0};if(this._storedError)throw this._storedError;const e=this._readableStream.read();return e===null?(this._readCapability=Promise.withResolvers(),this.read()):(this._loaded+=e.length,this.onProgress?.({loaded:this._loaded,total:this._contentLength}),{value:new Uint8Array(e).buffer,done:!1})}cancel(e){if(!this._readableStream){this._error(e);return}this._readableStream.destroy(e)}_error(e){this._storedError=e,this._readCapability.resolve()}_setReadableStream(e){this._readableStream=e,e.on("readable",()=>{this._readCapability.resolve()}),e.on("end",()=>{e.destroy(),this._done=!0,this._readCapability.resolve()}),e.on("error",t=>{this._error(t)}),!this._isStreamingSupported&&this._isRangeSupported&&this._error(new ii("streaming is disabled")),this._storedError&&this._readableStream.destroy(this._storedError)}}class T6{constructor(e,t,s){this._url=e.url,this._done=!1,this._storedError=null,this.onProgress=null,this._loaded=0,this._readableStream=null,this._readCapability=Promise.withResolvers();const i=e.source;this._isStreamingSupported=!i.disableStream;const r=process.getBuiltinModule("fs");this._setReadableStream(r.createReadStream(this._url,{start:t,end:s-1}))}get isStreamingSupported(){return this._isStreamingSupported}async read(){if(await this._readCapability.promise,this._done)return{value:void 0,done:!0};if(this._storedError)throw this._storedError;const e=this._readableStream.read();return e===null?(this._readCapability=Promise.withResolvers(),this.read()):(this._loaded+=e.length,this.onProgress?.({loaded:this._loaded}),{value:new Uint8Array(e).buffer,done:!1})}cancel(e){if(!this._readableStream){this._error(e);return}this._readableStream.destroy(e)}_error(e){this._storedError=e,this._readCapability.resolve()}_setReadableStream(e){this._readableStream=e,e.on("readable",()=>{this._readCapability.resolve()}),e.on("end",()=>{e.destroy(),this._done=!0,this._readCapability.resolve()}),e.on("error",t=>{this._error(t)}),this._storedError&&this._readableStream.destroy(this._storedError)}}const Ea=Symbol("INITIAL_DATA");class uE{#e=Object.create(null);#t(e){return this.#e[e]||={...Promise.withResolvers(),data:Ea}}get(e,t=null){if(t){const i=this.#t(e);return i.promise.then(()=>t(i.data)),null}const s=this.#e[e];if(!s||s.data===Ea)throw new Error(`Requesting object that isn't resolved yet ${e}.`);return s.data}has(e){const t=this.#e[e];return!!t&&t.data!==Ea}delete(e){const t=this.#e[e];return!t||t.data===Ea?!1:(delete this.#e[e],!0)}resolve(e,t=null){const s=this.#t(e);s.data=t,s.resolve()}clear(){for(const e in this.#e){const{data:t}=this.#e[e];t?.bitmap?.close()}this.#e=Object.create(null)}*[Symbol.iterator](){for(const e in this.#e){const{data:t}=this.#e[e];t!==Ea&&(yield[e,t])}}}const P6=1e5,lb=30;let Ja=class Yn{#e=Promise.withResolvers();#t=null;#s=!1;#n=!!globalThis.FontInspector?.enabled;#i=null;#r=null;#o=0;#a=0;#c=null;#l=null;#d=0;#h=0;#f=Object.create(null);#g=[];#p=null;#u=[];#m=new WeakMap;#y=null;static#w=new Map;static#v=new Map;static#E=new WeakMap;static#A=null;static#x=new Set;constructor({textContentSource:e,container:t,viewport:s}){if(e instanceof ReadableStream)this.#p=e;else if(typeof e=="object")this.#p=new ReadableStream({start(u){u.enqueue(e),u.close()}});else throw new Error('No "textContentSource" parameter specified.');this.#t=this.#l=t,this.#h=s.scale*ys.pixelRatio,this.#d=s.rotation,this.#r={div:null,properties:null,ctx:null};const{pageWidth:i,pageHeight:r,pageX:o,pageY:c}=s.rawDims;this.#y=[1,0,0,-1,-o,c+r],this.#a=i,this.#o=r,Yn.#P(),Mi(t,s),this.#e.promise.finally(()=>{Yn.#x.delete(this),this.#r=null,this.#f=null}).catch(()=>{})}static get fontFamilyMap(){const{isWindows:e,isFirefox:t}=qt.platform;return Ve(this,"fontFamilyMap",new Map([["sans-serif",`${e&&t?"Calibri, ":""}sans-serif`],["monospace",`${e&&t?"Lucida Console, ":""}monospace`]]))}render(){const e=()=>{this.#c.read().then(({value:t,done:s})=>{if(s){this.#e.resolve();return}this.#i??=t.lang,Object.assign(this.#f,t.styles),this.#C(t.items),e()},this.#e.reject)};return this.#c=this.#p.getReader(),Yn.#x.add(this),e(),this.#e.promise}update({viewport:e,onBefore:t=null}){const s=e.scale*ys.pixelRatio,i=e.rotation;if(i!==this.#d&&(t?.(),this.#d=i,Mi(this.#l,{rotation:i})),s!==this.#h){t?.(),this.#h=s;const r={div:null,properties:null,ctx:Yn.#F(this.#i)};for(const o of this.#u)r.properties=this.#m.get(o),r.div=o,this.#_(r)}}cancel(){const e=new ii("TextLayer task cancelled.");this.#c?.cancel(e).catch(()=>{}),this.#c=null,this.#e.reject(e)}get textDivs(){return this.#u}get textContentItemsStr(){return this.#g}#C(e){if(this.#s)return;this.#r.ctx??=Yn.#F(this.#i);const t=this.#u,s=this.#g;for(const i of e){if(t.length>P6){Oe("Ignoring additional textDivs for performance reasons."),this.#s=!0;return}if(i.str===void 0){if(i.type==="beginMarkedContentProps"||i.type==="beginMarkedContent"){const r=this.#t;this.#t=document.createElement("span"),this.#t.classList.add("markedContent"),i.id&&this.#t.setAttribute("id",`${i.id}`),r.append(this.#t)}else i.type==="endMarkedContent"&&(this.#t=this.#t.parentNode);continue}s.push(i.str),this.#S(i)}}#S(e){const t=document.createElement("span"),s={angle:0,canvasWidth:0,hasText:e.str!=="",hasEOL:e.hasEOL,fontSize:0};this.#u.push(t);const i=ge.transform(this.#y,e.transform);let r=Math.atan2(i[1],i[0]);const o=this.#f[e.fontName];o.vertical&&(r+=Math.PI/2);let c=this.#n&&o.fontSubstitution||o.fontFamily;c=Yn.fontFamilyMap.get(c)||c;const u=Math.hypot(i[2],i[3]),h=u*Yn.#O(c,o,this.#i);let f,p;r===0?(f=i[4],p=i[5]-h):(f=i[4]+h*Math.sin(r),p=i[5]-h*Math.cos(r));const g="calc(var(--total-scale-factor) *",w=t.style;this.#t===this.#l?(w.left=`${(100*f/this.#a).toFixed(2)}%`,w.top=`${(100*p/this.#o).toFixed(2)}%`):(w.left=`${g}${f.toFixed(2)}px)`,w.top=`${g}${p.toFixed(2)}px)`),w.fontSize=`${g}${(Yn.#A*u).toFixed(2)}px)`,w.fontFamily=c,s.fontSize=u,t.setAttribute("role","presentation"),t.textContent=e.str,t.dir=e.dir,this.#n&&(t.dataset.fontName=o.fontSubstitutionLoadedName||e.fontName),r!==0&&(s.angle=r*(180/Math.PI));let A=!1;if(e.str.length>1)A=!0;else if(e.str!==" "&&e.transform[0]!==e.transform[3]){const x=Math.abs(e.transform[0]),S=Math.abs(e.transform[3]);x!==S&&Math.max(x,S)/Math.min(x,S)>1.5&&(A=!0)}if(A&&(s.canvasWidth=o.vertical?e.height:e.width),this.#m.set(t,s),this.#r.div=t,this.#r.properties=s,this.#_(this.#r),s.hasText&&this.#t.append(t),s.hasEOL){const x=document.createElement("br");x.setAttribute("role","presentation"),this.#t.append(x)}}#_(e){const{div:t,properties:s,ctx:i}=e,{style:r}=t;let o="";if(Yn.#A>1&&(o=`scale(${1/Yn.#A})`),s.canvasWidth!==0&&s.hasText){const{fontFamily:c}=r,{canvasWidth:u,fontSize:h}=s;Yn.#T(i,h*this.#h,c);const{width:f}=i.measureText(t.textContent);f>0&&(o=`scaleX(${u*this.#h/f}) ${o}`)}s.angle!==0&&(o=`rotate(${s.angle}deg) ${o}`),o.length>0&&(r.transform=o)}static cleanup(){if(!(this.#x.size>0)){this.#w.clear();for(const{canvas:e}of this.#v.values())e.remove();this.#v.clear()}}static#F(e=null){let t=this.#v.get(e||="");if(!t){const s=document.createElement("canvas");s.className="hiddenCanvasElement",s.lang=e,document.body.append(s),t=s.getContext("2d",{alpha:!1,willReadFrequently:!0}),this.#v.set(e,t),this.#E.set(t,{size:0,family:""})}return t}static#T(e,t,s){const i=this.#E.get(e);t===i.size&&s===i.family||(e.font=`${t}px ${s}`,i.size=t,i.family=s)}static#P(){if(this.#A!==null)return;const e=document.createElement("div");e.style.opacity=0,e.style.lineHeight=1,e.style.fontSize="1px",e.style.position="absolute",e.textContent="X",document.body.append(e),this.#A=e.getBoundingClientRect().height,e.remove()}static#O(e,t,s){const i=this.#w.get(e);if(i)return i;const r=this.#F(s);r.canvas.width=r.canvas.height=lb,this.#T(r,lb,e);const o=r.measureText(""),c=o.fontBoundingBoxAscent,u=Math.abs(o.fontBoundingBoxDescent);r.canvas.width=r.canvas.height=0;let h=.8;return c?h=c/(c+u):(qt.platform.isFirefox&&Oe("Enable the `dom.textMetrics.fontBoundingBox.enabled` preference in `about:config` to improve TextLayer rendering."),t.ascent?h=t.ascent:t.descent&&(h=1+t.descent)),this.#w.set(e,h),h}};const F6=100;function ag(n={}){typeof n=="string"||n instanceof URL?n={url:n}:(n instanceof ArrayBuffer||ArrayBuffer.isView(n))&&(n={data:n});const e=new lg,{docId:t}=e,s=n.url?j4(n.url):null,i=n.data?B4(n.data):null,r=n.httpHeaders||null,o=n.withCredentials===!0,c=n.password??null,u=n.range instanceof cg?n.range:null,h=Number.isInteger(n.rangeChunkSize)&&n.rangeChunkSize>0?n.rangeChunkSize:2**16;let f=n.worker instanceof Gt?n.worker:null;const p=n.verbosity,g=typeof n.docBaseUrl=="string"&&!yl(n.docBaseUrl)?n.docBaseUrl:null,w=Wc(n.cMapUrl),A=n.cMapPacked!==!1,x=n.CMapReaderFactory||(mn?G4:Kx),S=Wc(n.iccUrl),E=Wc(n.standardFontDataUrl),_=n.StandardFontDataFactory||(mn?q4:Xx),k=Wc(n.wasmUrl),T=n.WasmFactory||(mn?K4:Zx),P=n.stopAtErrors!==!0,N=Number.isInteger(n.maxImageSize)&&n.maxImageSize>-1?n.maxImageSize:-1,M=n.isEvalSupported!==!1,I=typeof n.isOffscreenCanvasSupported=="boolean"?n.isOffscreenCanvasSupported:!mn,$=typeof n.isImageDecoderSupported=="boolean"?n.isImageDecoderSupported:!mn&&(qt.platform.isFirefox||!globalThis.chrome),q=Number.isInteger(n.canvasMaxAreaInBytes)?n.canvasMaxAreaInBytes:-1,Z=typeof n.disableFontFace=="boolean"?n.disableFontFace:mn,ie=n.fontExtraProperties===!0,U=n.enableXfa===!0,ee=n.ownerDocument||globalThis.document,ue=n.disableRange===!0,Q=n.disableStream===!0,Y=n.disableAutoFetch===!0,W=n.pdfBug===!0,oe=n.CanvasFactory||(mn?W4:V4),J=n.FilterFactory||(mn?H4:U4),O=n.enableHWA===!0,K=n.useWasm!==!1,he=u?u.length:n.length??NaN,be=typeof n.useSystemFonts=="boolean"?n.useSystemFonts:!mn&&!Z,Ce=typeof n.useWorkerFetch=="boolean"?n.useWorkerFetch:!!(x===Kx&&_===Xx&&T===Zx&&w&&E&&k&&Ta(w,document.baseURI)&&Ta(E,document.baseURI)&&Ta(k,document.baseURI)),Pe=null;w4(p);const Ee={canvasFactory:new oe({ownerDocument:ee,enableHWA:O}),filterFactory:new J({docId:t,ownerDocument:ee}),cMapReaderFactory:Ce?null:new x({baseUrl:w,isCompressed:A}),standardFontDataFactory:Ce?null:new _({baseUrl:E}),wasmFactory:Ce?null:new T({baseUrl:k})};f||(f=Gt.create({verbosity:p,port:Fi.workerPort}),e._worker=f);const je={docId:t,apiVersion:"5.4.296",data:i,password:c,disableAutoFetch:Y,rangeChunkSize:h,length:he,docBaseUrl:g,enableXfa:U,evaluatorOptions:{maxImageSize:N,disableFontFace:Z,ignoreErrors:P,isEvalSupported:M,isOffscreenCanvasSupported:I,isImageDecoderSupported:$,canvasMaxAreaInBytes:q,fontExtraProperties:ie,useSystemFonts:be,useWasm:K,useWorkerFetch:Ce,cMapUrl:w,iccUrl:S,standardFontDataUrl:E,wasmUrl:k}},Le={ownerDocument:ee,pdfBug:W,styleElement:Pe,loadingParams:{disableAutoFetch:Y,enableXfa:U}};return f.promise.then(function(){if(e.destroyed)throw new Error("Loading aborted");if(f.destroyed)throw new Error("Worker was destroyed");const $e=f.messageHandler.sendWithPromise("GetDocRequest",je,i?[i.buffer]:null);let tn;if(u)tn=new d6(u,{disableRange:ue,disableStream:Q});else if(!i){if(!s)throw new Error("getDocument - no `url` parameter provided.");const hn=Ta(s)?g6:mn?C6:b6;tn=new hn({url:s,length:he,httpHeaders:r,withCredentials:o,rangeChunkSize:h,disableRange:ue,disableStream:Q})}return $e.then(hn=>{if(e.destroyed)throw new Error("Loading aborted");if(f.destroyed)throw new Error("Worker was destroyed");const Ue=new Pa(t,hn,f.port),Ze=new M6(Ue,e,tn,Le,Ee,O);e._transport=Ze,Ue.send("Ready",null)})}).catch(e._capability.reject),e}class lg{static#e=0;_capability=Promise.withResolvers();_transport=null;_worker=null;docId=`d${lg.#e++}`;destroyed=!1;onPassword=null;onProgress=null;get promise(){return this._capability.promise}async destroy(){this.destroyed=!0;try{this._worker?.port&&(this._worker._pendingDestroy=!0),await this._transport?.destroy()}catch(e){throw this._worker?.port&&delete this._worker._pendingDestroy,e}this._transport=null,this._worker?.destroy(),this._worker=null}async getData(){return this._transport.getData()}}let cg=class{#e=Promise.withResolvers();#t=[];#s=[];#n=[];#i=[];constructor(e,t,s=!1,i=null){this.length=e,this.initialData=t,this.progressiveDone=s,this.contentDispositionFilename=i}addRangeListener(e){this.#i.push(e)}addProgressListener(e){this.#n.push(e)}addProgressiveReadListener(e){this.#s.push(e)}addProgressiveDoneListener(e){this.#t.push(e)}onDataRange(e,t){for(const s of this.#i)s(e,t)}onDataProgress(e,t){this.#e.promise.then(()=>{for(const s of this.#n)s(e,t)})}onDataProgressiveRead(e){this.#e.promise.then(()=>{for(const t of this.#s)t(e)})}onDataProgressiveDone(){this.#e.promise.then(()=>{for(const e of this.#t)e()})}transportReady(){this.#e.resolve()}requestDataRange(e,t){nt("Abstract method PDFDataRangeTransport.requestDataRange")}abort(){}};class R6{constructor(e,t){this._pdfInfo=e,this._transport=t}get annotationStorage(){return this._transport.annotationStorage}get canvasFactory(){return this._transport.canvasFactory}get filterFactory(){return this._transport.filterFactory}get numPages(){return this._pdfInfo.numPages}get fingerprints(){return this._pdfInfo.fingerprints}get isPureXfa(){return Ve(this,"isPureXfa",!!this._transport._htmlForXfa)}get allXfaHtml(){return this._transport._htmlForXfa}getPage(e){return this._transport.getPage(e)}getPageIndex(e){return this._transport.getPageIndex(e)}getDestinations(){return this._transport.getDestinations()}getDestination(e){return this._transport.getDestination(e)}getPageLabels(){return this._transport.getPageLabels()}getPageLayout(){return this._transport.getPageLayout()}getPageMode(){return this._transport.getPageMode()}getViewerPreferences(){return this._transport.getViewerPreferences()}getOpenAction(){return this._transport.getOpenAction()}getAttachments(){return this._transport.getAttachments()}getAnnotationsByType(e,t){return this._transport.getAnnotationsByType(e,t)}getJSActions(){return this._transport.getDocJSActions()}getOutline(){return this._transport.getOutline()}getOptionalContentConfig({intent:e="display"}={}){const{renderingIntent:t}=this._transport.getRenderingIntent(e);return this._transport.getOptionalContentConfig(t)}getPermissions(){return this._transport.getPermissions()}getMetadata(){return this._transport.getMetadata()}getMarkInfo(){return this._transport.getMarkInfo()}getData(){return this._transport.getData()}saveDocument(){return this._transport.saveDocument()}getDownloadInfo(){return this._transport.downloadInfoCapability.promise}cleanup(e=!1){return this._transport.startCleanup(e||this.isPureXfa)}destroy(){return this.loadingTask.destroy()}cachedPageNumber(e){return this._transport.cachedPageNumber(e)}get loadingParams(){return this._transport.loadingParams}get loadingTask(){return this._transport.loadingTask}getFieldObjects(){return this._transport.getFieldObjects()}hasJSActions(){return this._transport.hasJSActions()}getCalculationOrderIds(){return this._transport.getCalculationOrderIds()}}class N6{#e=!1;constructor(e,t,s,i=!1){this._pageIndex=e,this._pageInfo=t,this._transport=s,this._stats=i?new $x:null,this._pdfBug=i,this.commonObjs=s.commonObjs,this.objs=new uE,this._intentStates=new Map,this.destroyed=!1,this.recordedBBoxes=null}get pageNumber(){return this._pageIndex+1}get rotate(){return this._pageInfo.rotate}get ref(){return this._pageInfo.ref}get userUnit(){return this._pageInfo.userUnit}get view(){return this._pageInfo.view}getViewport({scale:e,rotation:t=this.rotate,offsetX:s=0,offsetY:i=0,dontFlip:r=!1}={}){return new gl({viewBox:this.view,userUnit:this.userUnit,scale:e,rotation:t,offsetX:s,offsetY:i,dontFlip:r})}getAnnotations({intent:e="display"}={}){const{renderingIntent:t}=this._transport.getRenderingIntent(e);return this._transport.getAnnotations(this._pageIndex,t)}getJSActions(){return this._transport.getPageJSActions(this._pageIndex)}get filterFactory(){return this._transport.filterFactory}get isPureXfa(){return Ve(this,"isPureXfa",!!this._transport._htmlForXfa)}async getXfa(){return this._transport._htmlForXfa?.children[this._pageIndex]||null}render({canvasContext:e,canvas:t=e.canvas,viewport:s,intent:i="display",annotationMode:r=Ms.ENABLE,transform:o=null,background:c=null,optionalContentConfigPromise:u=null,annotationCanvasMap:h=null,pageColors:f=null,printAnnotationStorage:p=null,isEditing:g=!1,recordOperations:w=!1,operationsFilter:A=null}){this._stats?.time("Overall");const x=this._transport.getRenderingIntent(i,r,p,g),{renderingIntent:S,cacheKey:E}=x;this.#e=!1,u||=this._transport.getOptionalContentConfig(S);let _=this._intentStates.get(E);_||(_=Object.create(null),this._intentStates.set(E,_)),_.streamReaderCancelTimeout&&(clearTimeout(_.streamReaderCancelTimeout),_.streamReaderCancelTimeout=null);const k=!!(S&In.PRINT);_.displayReadyCapability||(_.displayReadyCapability=Promise.withResolvers(),_.operatorList={fnArray:[],argsArray:[],lastChunk:!1,separateAnnots:null},this._stats?.time("Page Request"),this._pumpOperatorList(x));const T=!!(this._pdfBug&&globalThis.StepperManager?.enabled),P=!this.recordedBBoxes&&(w||T),N=$=>{if(_.renderTasks.delete(M),P){const q=M.gfx?.dependencyTracker.take();q&&(M.stepper&&M.stepper.setOperatorBBoxes(q,M.gfx.dependencyTracker.takeDebugMetadata()),w&&(this.recordedBBoxes=q))}k&&(this.#e=!0),this.#t(),$?(M.capability.reject($),this._abortOperatorList({intentState:_,reason:$ instanceof Error?$:new Error($)})):M.capability.resolve(),this._stats&&(this._stats.timeEnd("Rendering"),this._stats.timeEnd("Overall"),globalThis.Stats?.enabled&&globalThis.Stats.add(this.pageNumber,this._stats))},M=new lo({callback:N,params:{canvas:t,canvasContext:e,dependencyTracker:P?new Z4(t,_.operatorList.length,T):null,viewport:s,transform:o,background:c},objs:this.objs,commonObjs:this.commonObjs,annotationCanvasMap:h,operatorList:_.operatorList,pageIndex:this._pageIndex,canvasFactory:this._transport.canvasFactory,filterFactory:this._transport.filterFactory,useRequestAnimationFrame:!k,pdfBug:this._pdfBug,pageColors:f,enableHWA:this._transport.enableHWA,operationsFilter:A});(_.renderTasks||=new Set).add(M);const I=M.task;return Promise.all([_.displayReadyCapability.promise,u]).then(([$,q])=>{if(this.destroyed){N();return}if(this._stats?.time("Rendering"),!(q.renderingIntent&S))throw new Error("Must use the same `intent`-argument when calling the `PDFPageProxy.render` and `PDFDocumentProxy.getOptionalContentConfig` methods.");M.initializeGraphics({transparency:$,optionalContentConfig:q}),M.operatorListChanged()}).catch(N),I}getOperatorList({intent:e="display",annotationMode:t=Ms.ENABLE,printAnnotationStorage:s=null,isEditing:i=!1}={}){function r(){c.operatorList.lastChunk&&(c.opListReadCapability.resolve(c.operatorList),c.renderTasks.delete(u))}const o=this._transport.getRenderingIntent(e,t,s,i,!0);let c=this._intentStates.get(o.cacheKey);c||(c=Object.create(null),this._intentStates.set(o.cacheKey,c));let u;return c.opListReadCapability||(u=Object.create(null),u.operatorListChanged=r,c.opListReadCapability=Promise.withResolvers(),(c.renderTasks||=new Set).add(u),c.operatorList={fnArray:[],argsArray:[],lastChunk:!1,separateAnnots:null},this._stats?.time("Page Request"),this._pumpOperatorList(o)),c.opListReadCapability.promise}streamTextContent({includeMarkedContent:e=!1,disableNormalization:t=!1}={}){return this._transport.messageHandler.sendWithStream("GetTextContent",{pageIndex:this._pageIndex,includeMarkedContent:e===!0,disableNormalization:t===!0},{highWaterMark:100,size(i){return i.items.length}})}getTextContent(e={}){if(this._transport._htmlForXfa)return this.getXfa().then(s=>Qa.textContent(s));const t=this.streamTextContent(e);return new Promise(function(s,i){function r(){o.read().then(function({value:u,done:h}){if(h){s(c);return}c.lang??=u.lang,Object.assign(c.styles,u.styles),c.items.push(...u.items),r()},i)}const o=t.getReader(),c={items:[],styles:Object.create(null),lang:null};r()})}getStructTree(){return this._transport.getStructTree(this._pageIndex)}_destroy(){this.destroyed=!0;const e=[];for(const t of this._intentStates.values())if(this._abortOperatorList({intentState:t,reason:new Error("Page was destroyed."),force:!0}),!t.opListReadCapability)for(const s of t.renderTasks)e.push(s.completed),s.cancel();return this.objs.clear(),this.#e=!1,Promise.all(e)}cleanup(e=!1){this.#e=!0;const t=this.#t();return e&&t&&(this._stats&&=new $x),t}#t(){if(!this.#e||this.destroyed)return!1;for(const{renderTasks:e,operatorList:t}of this._intentStates.values())if(e.size>0||!t.lastChunk)return!1;return this._intentStates.clear(),this.objs.clear(),this.#e=!1,!0}_startRenderPage(e,t){const s=this._intentStates.get(t);s&&(this._stats?.timeEnd("Page Request"),s.displayReadyCapability?.resolve(e))}_renderPageChunk(e,t){for(let s=0,i=e.length;s<i;s++)t.operatorList.fnArray.push(e.fnArray[s]),t.operatorList.argsArray.push(e.argsArray[s]);t.operatorList.lastChunk=e.lastChunk,t.operatorList.separateAnnots=e.separateAnnots;for(const s of t.renderTasks)s.operatorListChanged();e.lastChunk&&this.#t()}_pumpOperatorList({renderingIntent:e,cacheKey:t,annotationStorageSerializable:s,modifiedIds:i}){const{map:r,transfer:o}=s,u=this._transport.messageHandler.sendWithStream("GetOperatorList",{pageIndex:this._pageIndex,intent:e,cacheKey:t,annotationStorage:r,modifiedIds:i},o).getReader(),h=this._intentStates.get(t);h.streamReader=u;const f=()=>{u.read().then(({value:p,done:g})=>{if(g){h.streamReader=null;return}this._transport.destroyed||(this._renderPageChunk(p,h),f())},p=>{if(h.streamReader=null,!this._transport.destroyed){if(h.operatorList){h.operatorList.lastChunk=!0;for(const g of h.renderTasks)g.operatorListChanged();this.#t()}if(h.displayReadyCapability)h.displayReadyCapability.reject(p);else if(h.opListReadCapability)h.opListReadCapability.reject(p);else throw p}})};f()}_abortOperatorList({intentState:e,reason:t,force:s=!1}){if(e.streamReader){if(e.streamReaderCancelTimeout&&(clearTimeout(e.streamReaderCancelTimeout),e.streamReaderCancelTimeout=null),!s){if(e.renderTasks.size>0)return;if(t instanceof nh){let i=F6;t.extraDelay>0&&t.extraDelay<1e3&&(i+=t.extraDelay),e.streamReaderCancelTimeout=setTimeout(()=>{e.streamReaderCancelTimeout=null,this._abortOperatorList({intentState:e,reason:t,force:!0})},i);return}}if(e.streamReader.cancel(new ii(t.message)).catch(()=>{}),e.streamReader=null,!this._transport.destroyed){for(const[i,r]of this._intentStates)if(r===e){this._intentStates.delete(i);break}this.cleanup()}}}get stats(){return this._stats}}class Gt{#e=Promise.withResolvers();#t=null;#s=null;#n=null;static#i=0;static#r=!1;static#o=new WeakMap;static{mn&&(this.#r=!0,Fi.workerSrc||="./pdf.worker.mjs"),this._isSameOrigin=(e,t)=>{const s=URL.parse(e);if(!s?.origin||s.origin==="null")return!1;const i=new URL(t,s);return s.origin===i.origin},this._createCDNWrapper=e=>{const t=`await import("${e}");`;return URL.createObjectURL(new Blob([t],{type:"text/javascript"}))},this.fromPort=e=>{if(P4("`PDFWorker.fromPort` - please use `PDFWorker.create` instead."),!e?.port)throw new Error("PDFWorker.fromPort - invalid method signature.");return this.create(e)}}constructor({name:e=null,port:t=null,verbosity:s=x4()}={}){if(this.name=e,this.destroyed=!1,this.verbosity=s,t){if(Gt.#o.has(t))throw new Error("Cannot use more than one PDFWorker per port.");Gt.#o.set(t,this),this.#c(t)}else this.#l()}get promise(){return this.#e.promise}#a(){this.#e.resolve(),this.#t.send("configure",{verbosity:this.verbosity})}get port(){return this.#s}get messageHandler(){return this.#t}#c(e){this.#s=e,this.#t=new Pa("main","worker",e),this.#t.on("ready",()=>{}),this.#a()}#l(){if(Gt.#r||Gt.#h){this.#d();return}let{workerSrc:e}=Gt;try{Gt._isSameOrigin(window.location,e)||(e=Gt._createCDNWrapper(new URL(e,window.location).href));const t=new Worker(e,{type:"module"}),s=new Pa("main","worker",t),i=()=>{r.abort(),s.destroy(),t.terminate(),this.destroyed?this.#e.reject(new Error("Worker was destroyed")):this.#d()},r=new AbortController;t.addEventListener("error",()=>{this.#n||i()},{signal:r.signal}),s.on("test",c=>{if(r.abort(),this.destroyed||!c){i();return}this.#t=s,this.#s=t,this.#n=t,this.#a()}),s.on("ready",c=>{if(r.abort(),this.destroyed){i();return}try{o()}catch{this.#d()}});const o=()=>{const c=new Uint8Array;s.send("test",c,[c.buffer])};o();return}catch{th("The worker has been disabled.")}this.#d()}#d(){Gt.#r||(Oe("Setting up fake worker."),Gt.#r=!0),Gt._setupFakeWorkerGlobal.then(e=>{if(this.destroyed){this.#e.reject(new Error("Worker was destroyed"));return}const t=new $4;this.#s=t;const s=`fake${Gt.#i++}`,i=new Pa(s+"_worker",s,t);e.setup(i,t),this.#t=new Pa(s,s+"_worker",t),this.#a()}).catch(e=>{this.#e.reject(new Error(`Setting up fake worker failed: "${e.message}".`))})}destroy(){this.destroyed=!0,this.#n?.terminate(),this.#n=null,Gt.#o.delete(this.#s),this.#s=null,this.#t?.destroy(),this.#t=null}static create(e){const t=this.#o.get(e?.port);if(t){if(t._pendingDestroy)throw new Error("PDFWorker.create - the worker is being destroyed.\nPlease remember to await `PDFDocumentLoadingTask.destroy()`-calls.");return t}return new Gt(e)}static get workerSrc(){if(Fi.workerSrc)return Fi.workerSrc;throw new Error('No "GlobalWorkerOptions.workerSrc" specified.')}static get#h(){try{return globalThis.pdfjsWorker?.WorkerMessageHandler||null}catch{return null}}static get _setupFakeWorkerGlobal(){return Ve(this,"_setupFakeWorkerGlobal",(async()=>this.#h?this.#h:(await import(this.workerSrc)).WorkerMessageHandler)())}}class M6{#e=new Map;#t=new Map;#s=new Map;#n=new Map;#i=null;constructor(e,t,s,i,r,o){this.messageHandler=e,this.loadingTask=t,this.commonObjs=new uE,this.fontLoader=new I4({ownerDocument:i.ownerDocument,styleElement:i.styleElement}),this.loadingParams=i.loadingParams,this._params=i,this.canvasFactory=r.canvasFactory,this.filterFactory=r.filterFactory,this.cMapReaderFactory=r.cMapReaderFactory,this.standardFontDataFactory=r.standardFontDataFactory,this.wasmFactory=r.wasmFactory,this.destroyed=!1,this.destroyCapability=null,this._networkStream=s,this._fullReader=null,this._lastProgress=null,this.downloadInfoCapability=Promise.withResolvers(),this.enableHWA=o,this.setupMessageHandler()}#r(e,t=null){const s=this.#e.get(e);if(s)return s;const i=this.messageHandler.sendWithPromise(e,t);return this.#e.set(e,i),i}get annotationStorage(){return Ve(this,"annotationStorage",new sg)}getRenderingIntent(e,t=Ms.ENABLE,s=null,i=!1,r=!1){let o=In.DISPLAY,c=Tp;switch(e){case"any":o=In.ANY;break;case"display":break;case"print":o=In.PRINT;break;default:Oe(`getRenderingIntent - invalid intent: ${e}`)}const u=o&In.PRINT&&s instanceof YS?s:this.annotationStorage;switch(t){case Ms.DISABLE:o+=In.ANNOTATIONS_DISABLE;break;case Ms.ENABLE:break;case Ms.ENABLE_FORMS:o+=In.ANNOTATIONS_FORMS;break;case Ms.ENABLE_STORAGE:o+=In.ANNOTATIONS_STORAGE,c=u.serializable;break;default:Oe(`getRenderingIntent - invalid annotationMode: ${t}`)}i&&(o+=In.IS_EDITING),r&&(o+=In.OPLIST);const{ids:h,hash:f}=u.modifiedIds,p=[o,c.hash,f];return{renderingIntent:o,cacheKey:p.join("_"),annotationStorageSerializable:c,modifiedIds:h}}destroy(){if(this.destroyCapability)return this.destroyCapability.promise;this.destroyed=!0,this.destroyCapability=Promise.withResolvers(),this.#i?.reject(new Error("Worker was destroyed during onPassword callback"));const e=[];for(const s of this.#t.values())e.push(s._destroy());this.#t.clear(),this.#s.clear(),this.#n.clear(),this.hasOwnProperty("annotationStorage")&&this.annotationStorage.resetModified();const t=this.messageHandler.sendWithPromise("Terminate",null);return e.push(t),Promise.all(e).then(()=>{this.commonObjs.clear(),this.fontLoader.clear(),this.#e.clear(),this.filterFactory.destroy(),Ja.cleanup(),this._networkStream?.cancelAllRequests(new ii("Worker was terminated.")),this.messageHandler?.destroy(),this.messageHandler=null,this.destroyCapability.resolve()},this.destroyCapability.reject),this.destroyCapability.promise}setupMessageHandler(){const{messageHandler:e,loadingTask:t}=this;e.on("GetReader",(s,i)=>{qe(this._networkStream,"GetReader - no `IPDFStream` instance available."),this._fullReader=this._networkStream.getFullReader(),this._fullReader.onProgress=r=>{this._lastProgress={loaded:r.loaded,total:r.total}},i.onPull=()=>{this._fullReader.read().then(function({value:r,done:o}){if(o){i.close();return}qe(r instanceof ArrayBuffer,"GetReader - expected an ArrayBuffer."),i.enqueue(new Uint8Array(r),1,[r])}).catch(r=>{i.error(r)})},i.onCancel=r=>{this._fullReader.cancel(r),i.ready.catch(o=>{if(!this.destroyed)throw o})}}),e.on("ReaderHeadersReady",async s=>{await this._fullReader.headersReady;const{isStreamingSupported:i,isRangeSupported:r,contentLength:o}=this._fullReader;return(!i||!r)&&(this._lastProgress&&t.onProgress?.(this._lastProgress),this._fullReader.onProgress=c=>{t.onProgress?.({loaded:c.loaded,total:c.total})}),{isStreamingSupported:i,isRangeSupported:r,contentLength:o}}),e.on("GetRangeReader",(s,i)=>{qe(this._networkStream,"GetRangeReader - no `IPDFStream` instance available.");const r=this._networkStream.getRangeReader(s.begin,s.end);if(!r){i.close();return}i.onPull=()=>{r.read().then(function({value:o,done:c}){if(c){i.close();return}qe(o instanceof ArrayBuffer,"GetRangeReader - expected an ArrayBuffer."),i.enqueue(new Uint8Array(o),1,[o])}).catch(o=>{i.error(o)})},i.onCancel=o=>{r.cancel(o),i.ready.catch(c=>{if(!this.destroyed)throw c})}}),e.on("GetDoc",({pdfInfo:s})=>{this._numPages=s.numPages,this._htmlForXfa=s.htmlForXfa,delete s.htmlForXfa,t._capability.resolve(new R6(s,this))}),e.on("DocException",s=>{t._capability.reject(Cn(s))}),e.on("PasswordRequest",s=>{this.#i=Promise.withResolvers();try{if(!t.onPassword)throw Cn(s);const i=r=>{r instanceof Error?this.#i.reject(r):this.#i.resolve({password:r})};t.onPassword(i,s.code)}catch(i){this.#i.reject(i)}return this.#i.promise}),e.on("DataLoaded",s=>{t.onProgress?.({loaded:s.length,total:s.length}),this.downloadInfoCapability.resolve(s)}),e.on("StartRenderPage",s=>{if(this.destroyed)return;this.#t.get(s.pageIndex)._startRenderPage(s.transparency,s.cacheKey)}),e.on("commonobj",([s,i,r])=>{if(this.destroyed||this.commonObjs.has(s))return null;switch(i){case"Font":if("error"in r){const f=r.error;Oe(`Error during font loading: ${f}`),this.commonObjs.resolve(s,f);break}const o=new Je(r),c=this._params.pdfBug&&globalThis.FontInspector?.enabled?(f,p)=>globalThis.FontInspector.fontAdded(f,p):null,u=new O4(o,c,r.extra,r.charProcOperatorList);this.fontLoader.bind(u).catch(()=>e.sendWithPromise("FontFallback",{id:s})).finally(()=>{!u.fontExtraProperties&&u.data&&u.clearData(),this.commonObjs.resolve(s,u)});break;case"CopyLocalImage":const{imageRef:h}=r;qe(h,"The imageRef must be defined.");for(const f of this.#t.values())for(const[,p]of f.objs)if(p?.ref===h)return p.dataLen?(this.commonObjs.resolve(s,structuredClone(p)),p.dataLen):null;break;case"FontPath":case"Image":case"Pattern":this.commonObjs.resolve(s,r);break;default:throw new Error(`Got unknown common object type ${i}`)}return null}),e.on("obj",([s,i,r,o])=>{if(this.destroyed)return;const c=this.#t.get(i);if(!c.objs.has(s)){if(c._intentStates.size===0){o?.bitmap?.close();return}switch(r){case"Image":case"Pattern":c.objs.resolve(s,o);break;default:throw new Error(`Got unknown object type ${r}`)}}}),e.on("DocProgress",s=>{this.destroyed||t.onProgress?.({loaded:s.loaded,total:s.total})}),e.on("FetchBinaryData",async s=>{if(this.destroyed)throw new Error("Worker was destroyed.");const i=this[s.type];if(!i)throw new Error(`${s.type} not initialized, see the \`useWorkerFetch\` parameter.`);return i.fetch(s)})}getData(){return this.messageHandler.sendWithPromise("GetData",null)}saveDocument(){this.annotationStorage.size<=0&&Oe("saveDocument called while `annotationStorage` is empty, please use the getData-method instead.");const{map:e,transfer:t}=this.annotationStorage.serializable;return this.messageHandler.sendWithPromise("SaveDocument",{isPureXfa:!!this._htmlForXfa,numPages:this._numPages,annotationStorage:e,filename:this._fullReader?.filename??null},t).finally(()=>{this.annotationStorage.resetModified()})}getPage(e){if(!Number.isInteger(e)||e<=0||e>this._numPages)return Promise.reject(new Error("Invalid page request."));const t=e-1,s=this.#s.get(t);if(s)return s;const i=this.messageHandler.sendWithPromise("GetPage",{pageIndex:t}).then(r=>{if(this.destroyed)throw new Error("Transport destroyed");r.refStr&&this.#n.set(r.refStr,e);const o=new N6(t,r,this,this._params.pdfBug);return this.#t.set(t,o),o});return this.#s.set(t,i),i}getPageIndex(e){return Pp(e)?this.messageHandler.sendWithPromise("GetPageIndex",{num:e.num,gen:e.gen}):Promise.reject(new Error("Invalid pageIndex request."))}getAnnotations(e,t){return this.messageHandler.sendWithPromise("GetAnnotations",{pageIndex:e,intent:t})}getFieldObjects(){return this.#r("GetFieldObjects")}hasJSActions(){return this.#r("HasJSActions")}getCalculationOrderIds(){return this.messageHandler.sendWithPromise("GetCalculationOrderIds",null)}getDestinations(){return this.messageHandler.sendWithPromise("GetDestinations",null)}getDestination(e){return typeof e!="string"?Promise.reject(new Error("Invalid destination request.")):this.messageHandler.sendWithPromise("GetDestination",{id:e})}getPageLabels(){return this.messageHandler.sendWithPromise("GetPageLabels",null)}getPageLayout(){return this.messageHandler.sendWithPromise("GetPageLayout",null)}getPageMode(){return this.messageHandler.sendWithPromise("GetPageMode",null)}getViewerPreferences(){return this.messageHandler.sendWithPromise("GetViewerPreferences",null)}getOpenAction(){return this.messageHandler.sendWithPromise("GetOpenAction",null)}getAttachments(){return this.messageHandler.sendWithPromise("GetAttachments",null)}getAnnotationsByType(e,t){return this.messageHandler.sendWithPromise("GetAnnotationsByType",{types:e,pageIndexesToSkip:t})}getDocJSActions(){return this.#r("GetDocJSActions")}getPageJSActions(e){return this.messageHandler.sendWithPromise("GetPageJSActions",{pageIndex:e})}getStructTree(e){return this.messageHandler.sendWithPromise("GetStructTree",{pageIndex:e})}getOutline(){return this.messageHandler.sendWithPromise("GetOutline",null)}getOptionalContentConfig(e){return this.#r("GetOptionalContentConfig").then(t=>new h6(t,e))}getPermissions(){return this.messageHandler.sendWithPromise("GetPermissions",null)}getMetadata(){const e="GetMetadata",t=this.#e.get(e);if(t)return t;const s=this.messageHandler.sendWithPromise(e,null).then(i=>({info:i[0],metadata:i[1]?new c6(i[1]):null,contentDispositionFilename:this._fullReader?.filename??null,contentLength:this._fullReader?.contentLength??null}));return this.#e.set(e,s),s}getMarkInfo(){return this.messageHandler.sendWithPromise("GetMarkInfo",null)}async startCleanup(e=!1){if(!this.destroyed){await this.messageHandler.sendWithPromise("Cleanup",null);for(const t of this.#t.values())if(!t.cleanup())throw new Error(`startCleanup: Page ${t.pageNumber} is currently rendering.`);this.commonObjs.clear(),e||this.fontLoader.clear(),this.#e.clear(),this.filterFactory.destroy(!0),Ja.cleanup()}}cachedPageNumber(e){if(!Pp(e))return null;const t=e.gen===0?`${e.num}R`:`${e.num}R${e.gen}`;return this.#n.get(t)??null}}class D6{#e=null;onContinue=null;onError=null;constructor(e){this.#e=e}get promise(){return this.#e.capability.promise}cancel(e=0){this.#e.cancel(null,e)}get separateAnnots(){const{separateAnnots:e}=this.#e.operatorList;if(!e)return!1;const{annotationCanvasMap:t}=this.#e;return e.form||e.canvas&&t?.size>0}}class lo{#e=null;static#t=new WeakSet;constructor({callback:e,params:t,objs:s,commonObjs:i,annotationCanvasMap:r,operatorList:o,pageIndex:c,canvasFactory:u,filterFactory:h,useRequestAnimationFrame:f=!1,pdfBug:p=!1,pageColors:g=null,enableHWA:w=!1,operationsFilter:A=null}){this.callback=e,this.params=t,this.objs=s,this.commonObjs=i,this.annotationCanvasMap=r,this.operatorListIdx=null,this.operatorList=o,this._pageIndex=c,this.canvasFactory=u,this.filterFactory=h,this._pdfBug=p,this.pageColors=g,this.running=!1,this.graphicsReadyCallback=null,this.graphicsReady=!1,this._useRequestAnimationFrame=f===!0&&typeof window<"u",this.cancelled=!1,this.capability=Promise.withResolvers(),this.task=new D6(this),this._cancelBound=this.cancel.bind(this),this._continueBound=this._continue.bind(this),this._scheduleNextBound=this._scheduleNext.bind(this),this._nextBound=this._next.bind(this),this._canvas=t.canvas,this._canvasContext=t.canvas?null:t.canvasContext,this._enableHWA=w,this._dependencyTracker=t.dependencyTracker,this._operationsFilter=A}get completed(){return this.capability.promise.catch(function(){})}initializeGraphics({transparency:e=!1,optionalContentConfig:t}){if(this.cancelled)return;if(this._canvas){if(lo.#t.has(this._canvas))throw new Error("Cannot use the same canvas during multiple render() operations. Use different canvas or ensure previous operations were cancelled or completed.");lo.#t.add(this._canvas)}this._pdfBug&&globalThis.StepperManager?.enabled&&(this.stepper=globalThis.StepperManager.create(this._pageIndex),this.stepper.init(this.operatorList),this.stepper.nextBreakPoint=this.stepper.getNextBreakPoint());const{viewport:s,transform:i,background:r,dependencyTracker:o}=this.params,c=this._canvasContext||this._canvas.getContext("2d",{alpha:!1,willReadFrequently:!this._enableHWA});this.gfx=new ho(c,this.commonObjs,this.objs,this.canvasFactory,this.filterFactory,{optionalContentConfig:t},this.annotationCanvasMap,this.pageColors,o),this.gfx.beginDrawing({transform:i,viewport:s,transparency:e,background:r}),this.operatorListIdx=0,this.graphicsReady=!0,this.graphicsReadyCallback?.()}cancel(e=null,t=0){this.running=!1,this.cancelled=!0,this.gfx?.endDrawing(),this.#e&&(window.cancelAnimationFrame(this.#e),this.#e=null),lo.#t.delete(this._canvas),e||=new nh(`Rendering cancelled, page ${this._pageIndex+1}`,t),this.callback(e),this.task.onError?.(e)}operatorListChanged(){if(!this.graphicsReady){this.graphicsReadyCallback||=this._continueBound;return}this.gfx.dependencyTracker?.growOperationsCount(this.operatorList.fnArray.length),this.stepper?.updateOperatorList(this.operatorList),!this.running&&this._continue()}_continue(){this.running=!0,!this.cancelled&&(this.task.onContinue?this.task.onContinue(this._scheduleNextBound):this._scheduleNext())}_scheduleNext(){this._useRequestAnimationFrame?this.#e=window.requestAnimationFrame(()=>{this.#e=null,this._nextBound().catch(this._cancelBound)}):Promise.resolve().then(this._nextBound).catch(this._cancelBound)}async _next(){this.cancelled||(this.operatorListIdx=this.gfx.executeOperatorList(this.operatorList,this.operatorListIdx,this._continueBound,this.stepper,this._operationsFilter),this.operatorListIdx===this.operatorList.argsArray.length&&(this.running=!1,this.operatorList.lastChunk&&(this.gfx.endDrawing(),lo.#t.delete(this._canvas),this.callback())))}}const hE="5.4.296",dE="f56dc8601";class On{#e=null;#t=null;#s;#n=null;#i=!1;#r=!1;#o=null;#a;#c=null;#l=null;static#d=null;static get _keyboardManager(){return Ve(this,"_keyboardManager",new vl([[["Escape","mac+Escape"],On.prototype._hideDropdownFromKeyboard],[[" ","mac+ "],On.prototype._colorSelectFromKeyboard],[["ArrowDown","ArrowRight","mac+ArrowDown","mac+ArrowRight"],On.prototype._moveToNext],[["ArrowUp","ArrowLeft","mac+ArrowUp","mac+ArrowLeft"],On.prototype._moveToPrevious],[["Home","mac+Home"],On.prototype._moveToBeginning],[["End","mac+End"],On.prototype._moveToEnd]]))}constructor({editor:e=null,uiManager:t=null}){e?(this.#r=!1,this.#o=e):this.#r=!0,this.#l=e?._uiManager||t,this.#a=this.#l._eventBus,this.#s=e?.color?.toUpperCase()||this.#l?.highlightColors.values().next().value||"#FFFF98",On.#d||=Object.freeze({blue:"pdfjs-editor-colorpicker-blue",green:"pdfjs-editor-colorpicker-green",pink:"pdfjs-editor-colorpicker-pink",red:"pdfjs-editor-colorpicker-red",yellow:"pdfjs-editor-colorpicker-yellow"})}renderButton(){const e=this.#e=document.createElement("button");e.className="colorPicker",e.tabIndex="0",e.setAttribute("data-l10n-id","pdfjs-editor-colorpicker-button"),e.ariaHasPopup="true",this.#o&&(e.ariaControls=`${this.#o.id}_colorpicker_dropdown`);const t=this.#l._signal;e.addEventListener("click",this.#p.bind(this),{signal:t}),e.addEventListener("keydown",this.#g.bind(this),{signal:t});const s=this.#t=document.createElement("span");return s.className="swatch",s.ariaHidden="true",s.style.backgroundColor=this.#s,e.append(s),e}renderMainDropdown(){const e=this.#n=this.#h();return e.ariaOrientation="horizontal",e.ariaLabelledBy="highlightColorPickerLabel",e}#h(){const e=document.createElement("div"),t=this.#l._signal;e.addEventListener("contextmenu",$n,{signal:t}),e.className="dropdown",e.role="listbox",e.ariaMultiSelectable="false",e.ariaOrientation="vertical",e.setAttribute("data-l10n-id","pdfjs-editor-colorpicker-dropdown"),this.#o&&(e.id=`${this.#o.id}_colorpicker_dropdown`);for(const[s,i]of this.#l.highlightColors){const r=document.createElement("button");r.tabIndex="0",r.role="option",r.setAttribute("data-color",i),r.title=s,r.setAttribute("data-l10n-id",On.#d[s]);const o=document.createElement("span");r.append(o),o.className="swatch",o.style.backgroundColor=i,r.ariaSelected=i===this.#s,r.addEventListener("click",this.#f.bind(this,i),{signal:t}),e.append(r)}return e.addEventListener("keydown",this.#g.bind(this),{signal:t}),e}#f(e,t){t.stopPropagation(),this.#a.dispatch("switchannotationeditorparams",{source:this,type:Ge.HIGHLIGHT_COLOR,value:e}),this.updateColor(e)}_colorSelectFromKeyboard(e){if(e.target===this.#e){this.#p(e);return}const t=e.target.getAttribute("data-color");t&&this.#f(t,e)}_moveToNext(e){if(!this.#m){this.#p(e);return}if(e.target===this.#e){this.#n.firstChild?.focus();return}e.target.nextSibling?.focus()}_moveToPrevious(e){if(e.target===this.#n?.firstChild||e.target===this.#e){this.#m&&this._hideDropdownFromKeyboard();return}this.#m||this.#p(e),e.target.previousSibling?.focus()}_moveToBeginning(e){if(!this.#m){this.#p(e);return}this.#n.firstChild?.focus()}_moveToEnd(e){if(!this.#m){this.#p(e);return}this.#n.lastChild?.focus()}#g(e){On._keyboardManager.exec(this,e)}#p(e){if(this.#m){this.hideDropdown();return}if(this.#i=e.detail===0,this.#c||(this.#c=new AbortController,window.addEventListener("pointerdown",this.#u.bind(this),{signal:this.#l.combinedSignal(this.#c)})),this.#e.ariaExpanded="true",this.#n){this.#n.classList.remove("hidden");return}const t=this.#n=this.#h();this.#e.append(t)}#u(e){this.#n?.contains(e.target)||this.hideDropdown()}hideDropdown(){this.#n?.classList.add("hidden"),this.#e.ariaExpanded="false",this.#c?.abort(),this.#c=null}get#m(){return this.#n&&!this.#n.classList.contains("hidden")}_hideDropdownFromKeyboard(){if(!this.#r){if(!this.#m){this.#o?.unselect();return}this.hideDropdown(),this.#e.focus({preventScroll:!0,focusVisible:this.#i})}}updateColor(e){if(this.#t&&(this.#t.style.backgroundColor=e),!this.#n)return;const t=this.#l.highlightColors.values();for(const s of this.#n.children)s.ariaSelected=t.next().value===e.toUpperCase()}destroy(){this.#e?.remove(),this.#e=null,this.#t=null,this.#n?.remove(),this.#n=null}}class el{#e=null;#t=null;#s=null;static#n=null;constructor(e){this.#t=e,this.#s=e._uiManager,el.#n||=Object.freeze({freetext:"pdfjs-editor-color-picker-free-text-input",ink:"pdfjs-editor-color-picker-ink-input"})}renderButton(){if(this.#e)return this.#e;const{editorType:e,colorType:t,colorValue:s}=this.#t,i=this.#e=document.createElement("input");return i.type="color",i.value=s||"#000000",i.className="basicColorPicker",i.tabIndex=0,i.setAttribute("data-l10n-id",el.#n[e]),i.addEventListener("input",()=>{this.#s.updateParams(t,i.value)},{signal:this.#s._signal}),i}update(e){this.#e&&(this.#e.value=e)}destroy(){this.#e?.remove(),this.#e=null}hideDropdown(){}}function cb(n){return Math.floor(Math.max(0,Math.min(1,n))*255).toString(16).padStart(2,"0")}function _a(n){return Math.max(0,Math.min(255,255*n))}class ub{static CMYK_G([e,t,s,i]){return["G",1-Math.min(1,.3*e+.59*s+.11*t+i)]}static G_CMYK([e]){return["CMYK",0,0,0,1-e]}static G_RGB([e]){return["RGB",e,e,e]}static G_rgb([e]){return e=_a(e),[e,e,e]}static G_HTML([e]){const t=cb(e);return`#${t}${t}${t}`}static RGB_G([e,t,s]){return["G",.3*e+.59*t+.11*s]}static RGB_rgb(e){return e.map(_a)}static RGB_HTML(e){return`#${e.map(cb).join("")}`}static T_HTML(){return"#00000000"}static T_rgb(){return[null]}static CMYK_RGB([e,t,s,i]){return["RGB",1-Math.min(1,e+i),1-Math.min(1,s+i),1-Math.min(1,t+i)]}static CMYK_rgb([e,t,s,i]){return[_a(1-Math.min(1,e+i)),_a(1-Math.min(1,s+i)),_a(1-Math.min(1,t+i))]}static CMYK_HTML(e){const t=this.CMYK_RGB(e).slice(1);return this.RGB_HTML(t)}static RGB_CMYK([e,t,s]){const i=1-e,r=1-t,o=1-s,c=Math.min(i,r,o);return["CMYK",i,r,o,c]}}class L6{create(e,t,s=!1){if(e<=0||t<=0)throw new Error("Invalid SVG dimensions");const i=this._createSVG("svg:svg");return i.setAttribute("version","1.1"),s||(i.setAttribute("width",`${e}px`),i.setAttribute("height",`${t}px`)),i.setAttribute("preserveAspectRatio","none"),i.setAttribute("viewBox",`0 0 ${e} ${t}`),i}createElement(e){if(typeof e!="string")throw new Error("Invalid SVG element type");return this._createSVG(e)}_createSVG(e){nt("Abstract method `_createSVG` called.")}}class tl extends L6{_createSVG(e){return document.createElementNS(Ys,e)}}const I6=9,mr=new WeakSet,O6=new Date().getTimezoneOffset()*60*1e3;class hb{static create(e){switch(e.data.annotationType){case _t.LINK:return new ug(e);case _t.TEXT:return new B6(e);case _t.WIDGET:switch(e.data.fieldType){case"Tx":return new z6(e);case"Btn":return e.data.radioButton?new fE(e):e.data.checkBox?new V6(e):new U6(e);case"Ch":return new H6(e);case"Sig":return new $6(e)}return new xr(e);case _t.POPUP:return new Np(e);case _t.FREETEXT:return new pE(e);case _t.LINE:return new G6(e);case _t.SQUARE:return new q6(e);case _t.CIRCLE:return new K6(e);case _t.POLYLINE:return new mE(e);case _t.CARET:return new Z6(e);case _t.INK:return new hg(e);case _t.POLYGON:return new X6(e);case _t.HIGHLIGHT:return new gE(e);case _t.UNDERLINE:return new Y6(e);case _t.SQUIGGLY:return new Q6(e);case _t.STRIKEOUT:return new J6(e);case _t.STAMP:return new yE(e);case _t.FILEATTACHMENT:return new ez(e);default:return new wt(e)}}}class wt{#e=null;#t=!1;#s=null;constructor(e,{isRenderable:t=!1,ignoreBorder:s=!1,createQuadrilaterals:i=!1}={}){this.isRenderable=t,this.data=e.data,this.layer=e.layer,this.linkService=e.linkService,this.downloadManager=e.downloadManager,this.imageResourcesPath=e.imageResourcesPath,this.renderForms=e.renderForms,this.svgFactory=e.svgFactory,this.annotationStorage=e.annotationStorage,this.enableComment=e.enableComment,this.enableScripting=e.enableScripting,this.hasJSActions=e.hasJSActions,this._fieldObjects=e.fieldObjects,this.parent=e.parent,t&&(this.container=this._createContainer(s)),i&&this._createQuadrilaterals()}static _hasPopupData({contentsObj:e,richText:t}){return!!(e?.str||t?.str)}get _isEditable(){return this.data.isEditable}get hasPopupData(){return wt._hasPopupData(this.data)||this.enableComment&&!!this.commentText}get commentData(){const{data:e}=this,t=this.annotationStorage?.getEditor(e.id);return t?t.getData():e}get hasCommentButton(){return this.enableComment&&this.hasPopupElement}get commentButtonPosition(){const e=this.annotationStorage?.getEditor(this.data.id);if(e)return e.commentButtonPositionInPage;const{quadPoints:t,inkLists:s,rect:i}=this.data;let r=-1/0,o=-1/0;if(t?.length>=8){for(let c=0;c<t.length;c+=8)t[c+1]>o?(o=t[c+1],r=t[c+2]):t[c+1]===o&&(r=Math.max(r,t[c+2]));return[r,o]}if(s?.length>=1){for(const c of s)for(let u=0,h=c.length;u<h;u+=2)c[u+1]>o?(o=c[u+1],r=c[u]):c[u+1]===o&&(r=Math.max(r,c[u]));if(r!==1/0)return[r,o]}return i?[i[2],i[3]]:null}_normalizePoint(e){const{page:{view:t},viewport:{rawDims:{pageWidth:s,pageHeight:i,pageX:r,pageY:o}}}=this.parent;return e[1]=t[3]-e[1]+t[1],e[0]=100*(e[0]-r)/s,e[1]=100*(e[1]-o)/i,e}get commentText(){const{data:e}=this;return this.annotationStorage.getRawValue(`${Za}${e.id}`)?.popup?.contents||e.contentsObj?.str||""}set commentText(e){const{data:t}=this,s={deleted:!e,contents:e||""};this.annotationStorage.updateEditor(t.id,{popup:s})||this.annotationStorage.setValue(`${Za}${t.id}`,{id:t.id,annotationType:t.annotationType,pageIndex:this.parent.page._pageIndex,popup:s,popupRef:t.popupRef,modificationDate:new Date}),e||this.removePopup()}removePopup(){(this.#s?.popup||this.popup)?.remove(),this.#s=this.popup=null}updateEdited(e){if(!this.container)return;e.rect&&(this.#e||={rect:this.data.rect.slice(0)});const{rect:t,popup:s}=e;t&&this.#n(t);let i=this.#s?.popup||this.popup;!i&&s?.text&&(this._createPopup(s),i=this.#s.popup),i&&(i.updateEdited(e),s?.deleted&&(i.remove(),this.#s=null,this.popup=null))}resetEdited(){this.#e&&(this.#n(this.#e.rect),this.#s?.popup.resetEdited(),this.#e=null)}#n(e){const{container:{style:t},data:{rect:s,rotation:i},parent:{viewport:{rawDims:{pageWidth:r,pageHeight:o,pageX:c,pageY:u}}}}=this;s?.splice(0,4,...e),t.left=`${100*(e[0]-c)/r}%`,t.top=`${100*(o-e[3]+u)/o}%`,i===0?(t.width=`${100*(e[2]-e[0])/r}%`,t.height=`${100*(e[3]-e[1])/o}%`):this.setRotation(i)}_createContainer(e){const{data:t,parent:{page:s,viewport:i}}=this,r=document.createElement("section");r.setAttribute("data-annotation-id",t.id),!(this instanceof xr)&&!(this instanceof ug)&&(r.tabIndex=0);const{style:o}=r;if(o.zIndex=this.parent.zIndex,this.parent.zIndex+=2,t.alternativeText&&(r.title=t.alternativeText),t.noRotate&&r.classList.add("norotate"),!t.rect||this instanceof Np){const{rotation:x}=t;return!t.hasOwnCanvas&&x!==0&&this.setRotation(x,r),r}const{width:c,height:u}=this;if(!e&&t.borderStyle.width>0){o.borderWidth=`${t.borderStyle.width}px`;const x=t.borderStyle.horizontalCornerRadius,S=t.borderStyle.verticalCornerRadius;if(x>0||S>0){const _=`calc(${x}px * var(--total-scale-factor)) / calc(${S}px * var(--total-scale-factor))`;o.borderRadius=_}else if(this instanceof fE){const _=`calc(${c}px * var(--total-scale-factor)) / calc(${u}px * var(--total-scale-factor))`;o.borderRadius=_}switch(t.borderStyle.style){case Qr.SOLID:o.borderStyle="solid";break;case Qr.DASHED:o.borderStyle="dashed";break;case Qr.BEVELED:Oe("Unimplemented border style: beveled");break;case Qr.INSET:Oe("Unimplemented border style: inset");break;case Qr.UNDERLINE:o.borderBottomStyle="solid";break}const E=t.borderColor||null;E?(this.#t=!0,o.borderColor=ge.makeHexColor(E[0]|0,E[1]|0,E[2]|0)):o.borderWidth=0}const h=ge.normalizeRect([t.rect[0],s.view[3]-t.rect[1]+s.view[1],t.rect[2],s.view[3]-t.rect[3]+s.view[1]]),{pageWidth:f,pageHeight:p,pageX:g,pageY:w}=i.rawDims;o.left=`${100*(h[0]-g)/f}%`,o.top=`${100*(h[1]-w)/p}%`;const{rotation:A}=t;return t.hasOwnCanvas||A===0?(o.width=`${100*c/f}%`,o.height=`${100*u/p}%`):this.setRotation(A,r),r}setRotation(e,t=this.container){if(!this.data.rect)return;const{pageWidth:s,pageHeight:i}=this.parent.viewport.rawDims;let{width:r,height:o}=this;e%180!==0&&([r,o]=[o,r]),t.style.width=`${100*r/s}%`,t.style.height=`${100*o/i}%`,t.setAttribute("data-main-rotation",(360-e)%360)}get _commonActions(){const e=(t,s,i)=>{const r=i.detail[t],o=r[0],c=r.slice(1);i.target.style[s]=ub[`${o}_HTML`](c),this.annotationStorage.setValue(this.data.id,{[s]:ub[`${o}_rgb`](c)})};return Ve(this,"_commonActions",{display:t=>{const{display:s}=t.detail,i=s%2===1;this.container.style.visibility=i?"hidden":"visible",this.annotationStorage.setValue(this.data.id,{noView:i,noPrint:s===1||s===2})},print:t=>{this.annotationStorage.setValue(this.data.id,{noPrint:!t.detail.print})},hidden:t=>{const{hidden:s}=t.detail;this.container.style.visibility=s?"hidden":"visible",this.annotationStorage.setValue(this.data.id,{noPrint:s,noView:s})},focus:t=>{setTimeout(()=>t.target.focus({preventScroll:!1}),0)},userName:t=>{t.target.title=t.detail.userName},readonly:t=>{t.target.disabled=t.detail.readonly},required:t=>{this._setRequired(t.target,t.detail.required)},bgColor:t=>{e("bgColor","backgroundColor",t)},fillColor:t=>{e("fillColor","backgroundColor",t)},fgColor:t=>{e("fgColor","color",t)},textColor:t=>{e("textColor","color",t)},borderColor:t=>{e("borderColor","borderColor",t)},strokeColor:t=>{e("strokeColor","borderColor",t)},rotation:t=>{const s=t.detail.rotation;this.setRotation(s),this.annotationStorage.setValue(this.data.id,{rotation:s})}})}_dispatchEventFromSandbox(e,t){const s=this._commonActions;for(const i of Object.keys(t.detail))(e[i]||s[i])?.(t)}_setDefaultPropertiesFromJS(e){if(!this.enableScripting)return;const t=this.annotationStorage.getRawValue(this.data.id);if(!t)return;const s=this._commonActions;for(const[i,r]of Object.entries(t)){const o=s[i];if(o){const c={detail:{[i]:r},target:e};o(c),delete t[i]}}}_createQuadrilaterals(){if(!this.container)return;const{quadPoints:e}=this.data;if(!e)return;const[t,s,i,r]=this.data.rect.map(x=>Math.fround(x));if(e.length===8){const[x,S,E,_]=e.subarray(2,6);if(i===x&&r===S&&t===E&&s===_)return}const{style:o}=this.container;let c;if(this.#t){const{borderColor:x,borderWidth:S}=o;o.borderWidth=0,c=["url('data:image/svg+xml;utf8,",'<svg xmlns="http://www.w3.org/2000/svg"',' preserveAspectRatio="none" viewBox="0 0 1 1">',`<g fill="transparent" stroke="${x}" stroke-width="${S}">`],this.container.classList.add("hasBorder")}const u=i-t,h=r-s,{svgFactory:f}=this,p=f.createElement("svg");p.classList.add("quadrilateralsContainer"),p.setAttribute("width",0),p.setAttribute("height",0),p.role="none";const g=f.createElement("defs");p.append(g);const w=f.createElement("clipPath"),A=`clippath_${this.data.id}`;w.setAttribute("id",A),w.setAttribute("clipPathUnits","objectBoundingBox"),g.append(w);for(let x=2,S=e.length;x<S;x+=8){const E=e[x],_=e[x+1],k=e[x+2],T=e[x+3],P=f.createElement("rect"),N=(k-t)/u,M=(r-_)/h,I=(E-k)/u,$=(_-T)/h;P.setAttribute("x",N),P.setAttribute("y",M),P.setAttribute("width",I),P.setAttribute("height",$),w.append(P),c?.push(`<rect vector-effect="non-scaling-stroke" x="${N}" y="${M}" width="${I}" height="${$}"/>`)}this.#t&&(c.push("</g></svg>')"),o.backgroundImage=c.join("")),this.container.append(p),this.container.style.clipPath=`url(#${A})`}_createPopup(e=null){const{data:t}=this;let s,i;e?(s={str:e.text},i=e.date):(s=t.contentsObj,i=t.modificationDate);const r=this.#s=new Np({data:{color:t.color,titleObj:t.titleObj,modificationDate:i,contentsObj:s,richText:t.richText,parentRect:t.rect,borderStyle:0,id:`popup_${t.id}`,rotation:t.rotation,noRotate:!0},linkService:this.linkService,parent:this.parent,elements:[this]});this.parent._commentManager||this.parent.div.append(r.render())}get hasPopupElement(){return!!(this.#s||this.popup||this.data.popupRef)}get extraPopupElement(){return this.#s}render(){nt("Abstract method `AnnotationElement.render` called")}_getElementsByName(e,t=null){const s=[];if(this._fieldObjects){const i=this._fieldObjects[e];if(i)for(const{page:r,id:o,exportValues:c}of i){if(r===-1||o===t)continue;const u=typeof c=="string"?c:null,h=document.querySelector(`[data-element-id="${o}"]`);if(h&&!mr.has(h)){Oe(`_getElementsByName - element not allowed: ${o}`);continue}s.push({id:o,exportValue:u,domElement:h})}return s}for(const i of document.getElementsByName(e)){const{exportValue:r}=i,o=i.getAttribute("data-element-id");o!==t&&mr.has(i)&&s.push({id:o,exportValue:r,domElement:i})}return s}show(){this.container&&(this.container.hidden=!1),this.popup?.maybeShow()}hide(){this.container&&(this.container.hidden=!0),this.popup?.forceHide()}getElementsToTriggerPopup(){return this.container}addHighlightArea(){const e=this.getElementsToTriggerPopup();if(Array.isArray(e))for(const t of e)t.classList.add("highlightArea");else e.classList.add("highlightArea")}_editOnDoubleClick(){if(!this._isEditable)return;const{annotationEditorType:e,data:{id:t}}=this;this.container.addEventListener("dblclick",()=>{this.linkService.eventBus?.dispatch("switchannotationeditormode",{source:this,mode:e,editId:t,mustEnterInEditMode:!0})})}get width(){return this.data.rect[2]-this.data.rect[0]}get height(){return this.data.rect[3]-this.data.rect[1]}}class j6 extends wt{constructor(e){super(e,{isRenderable:!0,ignoreBorder:!0}),this.editor=e.editor}render(){return this.container.className="editorAnnotation",this.container}createOrUpdatePopup(){const{editor:e}=this;e.hasComment&&(this._createPopup(e.comment),this.extraPopupElement.popup.renderCommentButton())}get hasCommentButton(){return this.enableComment&&this.editor.hasComment}get commentButtonPosition(){return this.editor.commentButtonPositionInPage}get commentText(){return this.editor.comment.text}set commentText(e){this.editor.comment=e,e||this.removePopup()}get commentData(){return this.editor.getData()}remove(){this.container.remove(),this.container=null,this.removePopup()}}class ug extends wt{constructor(e,t=null){super(e,{isRenderable:!0,ignoreBorder:!!t?.ignoreBorder,createQuadrilaterals:!0}),this.isTooltipOnly=e.data.isTooltipOnly}render(){const{data:e,linkService:t}=this,s=document.createElement("a");s.setAttribute("data-element-id",e.id);let i=!1;return e.url?(t.addLinkAttributes(s,e.url,e.newWindow),i=!0):e.action?(this._bindNamedAction(s,e.action,e.overlaidText),i=!0):e.attachment?(this.#t(s,e.attachment,e.overlaidText,e.attachmentDest),i=!0):e.setOCGState?(this.#s(s,e.setOCGState,e.overlaidText),i=!0):e.dest?(this._bindLink(s,e.dest,e.overlaidText),i=!0):(e.actions&&(e.actions.Action||e.actions["Mouse Up"]||e.actions["Mouse Down"])&&this.enableScripting&&this.hasJSActions&&(this._bindJSAction(s,e),i=!0),e.resetForm?(this._bindResetFormAction(s,e.resetForm),i=!0):this.isTooltipOnly&&!i&&(this._bindLink(s,""),i=!0)),this.container.classList.add("linkAnnotation"),i&&this.container.append(s),this.container}#e(){this.container.setAttribute("data-internal-link","")}_bindLink(e,t,s=""){e.href=this.linkService.getDestinationHash(t),e.onclick=()=>(t&&this.linkService.goToDestination(t),!1),(t||t==="")&&this.#e(),s&&(e.title=s)}_bindNamedAction(e,t,s=""){e.href=this.linkService.getAnchorUrl(""),e.onclick=()=>(this.linkService.executeNamedAction(t),!1),s&&(e.title=s),this.#e()}#t(e,t,s="",i=null){e.href=this.linkService.getAnchorUrl(""),t.description?e.title=t.description:s&&(e.title=s),e.onclick=()=>(this.downloadManager?.openOrDownloadData(t.content,t.filename,i),!1),this.#e()}#s(e,t,s=""){e.href=this.linkService.getAnchorUrl(""),e.onclick=()=>(this.linkService.executeSetOCGState(t),!1),s&&(e.title=s),this.#e()}_bindJSAction(e,t){e.href=this.linkService.getAnchorUrl("");const s=new Map([["Action","onclick"],["Mouse Up","onmouseup"],["Mouse Down","onmousedown"]]);for(const i of Object.keys(t.actions)){const r=s.get(i);r&&(e[r]=()=>(this.linkService.eventBus?.dispatch("dispatcheventinsandbox",{source:this,detail:{id:t.id,name:i}}),!1))}t.overlaidText&&(e.title=t.overlaidText),e.onclick||(e.onclick=()=>!1),this.#e()}_bindResetFormAction(e,t){const s=e.onclick;if(s||(e.href=this.linkService.getAnchorUrl("")),this.#e(),!this._fieldObjects){Oe('_bindResetFormAction - "resetForm" action not supported, ensure that the `fieldObjects` parameter is provided.'),s||(e.onclick=()=>!1);return}e.onclick=()=>{s?.();const{fields:i,refs:r,include:o}=t,c=[];if(i.length!==0||r.length!==0){const f=new Set(r);for(const p of i){const g=this._fieldObjects[p]||[];for(const{id:w}of g)f.add(w)}for(const p of Object.values(this._fieldObjects))for(const g of p)f.has(g.id)===o&&c.push(g)}else for(const f of Object.values(this._fieldObjects))c.push(...f);const u=this.annotationStorage,h=[];for(const f of c){const{id:p}=f;switch(h.push(p),f.type){case"text":{const w=f.defaultValue||"";u.setValue(p,{value:w});break}case"checkbox":case"radiobutton":{const w=f.defaultValue===f.exportValues;u.setValue(p,{value:w});break}case"combobox":case"listbox":{const w=f.defaultValue||"";u.setValue(p,{value:w});break}default:continue}const g=document.querySelector(`[data-element-id="${p}"]`);if(g){if(!mr.has(g)){Oe(`_bindResetFormAction - element not allowed: ${p}`);continue}}else continue;g.dispatchEvent(new Event("resetform"))}return this.enableScripting&&this.linkService.eventBus?.dispatch("dispatcheventinsandbox",{source:this,detail:{id:"app",ids:h,name:"ResetForm"}}),!1}}}class B6 extends wt{constructor(e){super(e,{isRenderable:!0})}render(){this.container.classList.add("textAnnotation");const e=document.createElement("img");return e.src=this.imageResourcesPath+"annotation-"+this.data.name.toLowerCase()+".svg",e.setAttribute("data-l10n-id","pdfjs-text-annotation-type"),e.setAttribute("data-l10n-args",JSON.stringify({type:this.data.name})),!this.data.popupRef&&this.hasPopupData&&this._createPopup(),this.container.append(e),this.container}}class xr extends wt{render(){return this.container}showElementAndHideCanvas(e){this.data.hasOwnCanvas&&(e.previousSibling?.nodeName==="CANVAS"&&(e.previousSibling.hidden=!0),e.hidden=!1)}_getKeyModifier(e){return qt.platform.isMac?e.metaKey:e.ctrlKey}_setEventListener(e,t,s,i,r){s.includes("mouse")?e.addEventListener(s,o=>{this.linkService.eventBus?.dispatch("dispatcheventinsandbox",{source:this,detail:{id:this.data.id,name:i,value:r(o),shift:o.shiftKey,modifier:this._getKeyModifier(o)}})}):e.addEventListener(s,o=>{if(s==="blur"){if(!t.focused||!o.relatedTarget)return;t.focused=!1}else if(s==="focus"){if(t.focused)return;t.focused=!0}r&&this.linkService.eventBus?.dispatch("dispatcheventinsandbox",{source:this,detail:{id:this.data.id,name:i,value:r(o)}})})}_setEventListeners(e,t,s,i){for(const[r,o]of s)(o==="Action"||this.data.actions?.[o])&&((o==="Focus"||o==="Blur")&&(t||={focused:!1}),this._setEventListener(e,t,r,o,i),o==="Focus"&&!this.data.actions?.Blur?this._setEventListener(e,t,"blur","Blur",null):o==="Blur"&&!this.data.actions?.Focus&&this._setEventListener(e,t,"focus","Focus",null))}_setBackgroundColor(e){const t=this.data.backgroundColor||null;e.style.backgroundColor=t===null?"transparent":ge.makeHexColor(t[0],t[1],t[2])}_setTextStyle(e){const t=["left","center","right"],{fontColor:s}=this.data.defaultAppearanceData,i=this.data.defaultAppearanceData.fontSize||I6,r=e.style;let o;const c=2,u=h=>Math.round(10*h)/10;if(this.data.multiLine){const h=Math.abs(this.data.rect[3]-this.data.rect[1]-c),f=Math.round(h/(Ef*i))||1,p=h/f;o=Math.min(i,u(p/Ef))}else{const h=Math.abs(this.data.rect[3]-this.data.rect[1]-c);o=Math.min(i,u(h/Ef))}r.fontSize=`calc(${o}px * var(--total-scale-factor))`,r.color=ge.makeHexColor(s[0],s[1],s[2]),this.data.textAlignment!==null&&(r.textAlign=t[this.data.textAlignment])}_setRequired(e,t){t?e.setAttribute("required",!0):e.removeAttribute("required"),e.setAttribute("aria-required",t)}}class z6 extends xr{constructor(e){const t=e.renderForms||e.data.hasOwnCanvas||!e.data.hasAppearance&&!!e.data.fieldValue;super(e,{isRenderable:t})}setPropertyOnSiblings(e,t,s,i){const r=this.annotationStorage;for(const o of this._getElementsByName(e.name,e.id))o.domElement&&(o.domElement[t]=s),r.setValue(o.id,{[i]:s})}render(){const e=this.annotationStorage,t=this.data.id;this.container.classList.add("textWidgetAnnotation");let s=null;if(this.renderForms){const i=e.getValue(t,{value:this.data.fieldValue});let r=i.value||"";const o=e.getValue(t,{charLimit:this.data.maxLen}).charLimit;o&&r.length>o&&(r=r.slice(0,o));let c=i.formattedValue||this.data.textContent?.join(`
`)||null;c&&this.data.comb&&(c=c.replaceAll(/\s+/g,""));const u={userValue:r,formattedValue:c,lastCommittedValue:null,commitKey:1,focused:!1};this.data.multiLine?(s=document.createElement("textarea"),s.textContent=c??r,this.data.doNotScroll&&(s.style.overflowY="hidden")):(s=document.createElement("input"),s.type=this.data.password?"password":"text",s.setAttribute("value",c??r),this.data.doNotScroll&&(s.style.overflowX="hidden")),this.data.hasOwnCanvas&&(s.hidden=!0),mr.add(s),s.setAttribute("data-element-id",t),s.disabled=this.data.readOnly,s.name=this.data.fieldName,s.tabIndex=0;const{datetimeFormat:h,datetimeType:f,timeStep:p}=this.data,g=!!f&&this.enableScripting;h&&(s.title=h),this._setRequired(s,this.data.required),o&&(s.maxLength=o),s.addEventListener("input",A=>{e.setValue(t,{value:A.target.value}),this.setPropertyOnSiblings(s,"value",A.target.value,"value"),u.formattedValue=null}),s.addEventListener("resetform",A=>{const x=this.data.defaultFieldValue??"";s.value=u.userValue=x,u.formattedValue=null});let w=A=>{const{formattedValue:x}=u;x!=null&&(A.target.value=x),A.target.scrollLeft=0};if(this.enableScripting&&this.hasJSActions){s.addEventListener("focus",x=>{if(u.focused)return;const{target:S}=x;if(g&&(S.type=f,p&&(S.step=p)),u.userValue){const E=u.userValue;if(g)if(f==="time"){const _=new Date(E),k=[_.getHours(),_.getMinutes(),_.getSeconds()];S.value=k.map(T=>T.toString().padStart(2,"0")).join(":")}else S.value=new Date(E-O6).toISOString().split(f==="date"?"T":".",1)[0];else S.value=E}u.lastCommittedValue=S.value,u.commitKey=1,this.data.actions?.Focus||(u.focused=!0)}),s.addEventListener("updatefromsandbox",x=>{this.showElementAndHideCanvas(x.target);const S={value(E){u.userValue=E.detail.value??"",g||e.setValue(t,{value:u.userValue.toString()}),E.target.value=u.userValue},formattedValue(E){const{formattedValue:_}=E.detail;u.formattedValue=_,_!=null&&E.target!==document.activeElement&&(E.target.value=_);const k={formattedValue:_};g&&(k.value=_),e.setValue(t,k)},selRange(E){E.target.setSelectionRange(...E.detail.selRange)},charLimit:E=>{const{charLimit:_}=E.detail,{target:k}=E;if(_===0){k.removeAttribute("maxLength");return}k.setAttribute("maxLength",_);let T=u.userValue;!T||T.length<=_||(T=T.slice(0,_),k.value=u.userValue=T,e.setValue(t,{value:T}),this.linkService.eventBus?.dispatch("dispatcheventinsandbox",{source:this,detail:{id:t,name:"Keystroke",value:T,willCommit:!0,commitKey:1,selStart:k.selectionStart,selEnd:k.selectionEnd}}))}};this._dispatchEventFromSandbox(S,x)}),s.addEventListener("keydown",x=>{u.commitKey=1;let S=-1;if(x.key==="Escape"?S=0:x.key==="Enter"&&!this.data.multiLine?S=2:x.key==="Tab"&&(u.commitKey=3),S===-1)return;const{value:E}=x.target;u.lastCommittedValue!==E&&(u.lastCommittedValue=E,u.userValue=E,this.linkService.eventBus?.dispatch("dispatcheventinsandbox",{source:this,detail:{id:t,name:"Keystroke",value:E,willCommit:!0,commitKey:S,selStart:x.target.selectionStart,selEnd:x.target.selectionEnd}}))});const A=w;w=null,s.addEventListener("blur",x=>{if(!u.focused||!x.relatedTarget)return;this.data.actions?.Blur||(u.focused=!1);const{target:S}=x;let{value:E}=S;if(g){if(E&&f==="time"){const _=E.split(":").map(k=>parseInt(k,10));E=new Date(2e3,0,1,_[0],_[1],_[2]||0).valueOf(),S.step=""}else E.includes("T")||(E=`${E}T00:00`),E=new Date(E).valueOf();S.type="text"}u.userValue=E,u.lastCommittedValue!==E&&this.linkService.eventBus?.dispatch("dispatcheventinsandbox",{source:this,detail:{id:t,name:"Keystroke",value:E,willCommit:!0,commitKey:u.commitKey,selStart:x.target.selectionStart,selEnd:x.target.selectionEnd}}),A(x)}),this.data.actions?.Keystroke&&s.addEventListener("beforeinput",x=>{u.lastCommittedValue=null;const{data:S,target:E}=x,{value:_,selectionStart:k,selectionEnd:T}=E;let P=k,N=T;switch(x.inputType){case"deleteWordBackward":{const M=_.substring(0,k).match(/\w*[^\w]*$/);M&&(P-=M[0].length);break}case"deleteWordForward":{const M=_.substring(k).match(/^[^\w]*\w*/);M&&(N+=M[0].length);break}case"deleteContentBackward":k===T&&(P-=1);break;case"deleteContentForward":k===T&&(N+=1);break}x.preventDefault(),this.linkService.eventBus?.dispatch("dispatcheventinsandbox",{source:this,detail:{id:t,name:"Keystroke",value:_,change:S||"",willCommit:!1,selStart:P,selEnd:N}})}),this._setEventListeners(s,u,[["focus","Focus"],["blur","Blur"],["mousedown","Mouse Down"],["mouseenter","Mouse Enter"],["mouseleave","Mouse Exit"],["mouseup","Mouse Up"]],x=>x.target.value)}if(w&&s.addEventListener("blur",w),this.data.comb){const x=(this.data.rect[2]-this.data.rect[0])/o;s.classList.add("comb"),s.style.letterSpacing=`calc(${x}px * var(--total-scale-factor) - 1ch)`}}else s=document.createElement("div"),s.textContent=this.data.fieldValue,s.style.verticalAlign="middle",s.style.display="table-cell",this.data.hasOwnCanvas&&(s.hidden=!0);return this._setTextStyle(s),this._setBackgroundColor(s),this._setDefaultPropertiesFromJS(s),this.container.append(s),this.container}}class $6 extends xr{constructor(e){super(e,{isRenderable:!!e.data.hasOwnCanvas})}}class V6 extends xr{constructor(e){super(e,{isRenderable:e.renderForms})}render(){const e=this.annotationStorage,t=this.data,s=t.id;let i=e.getValue(s,{value:t.exportValue===t.fieldValue}).value;typeof i=="string"&&(i=i!=="Off",e.setValue(s,{value:i})),this.container.classList.add("buttonWidgetAnnotation","checkBox");const r=document.createElement("input");return mr.add(r),r.setAttribute("data-element-id",s),r.disabled=t.readOnly,this._setRequired(r,this.data.required),r.type="checkbox",r.name=t.fieldName,i&&r.setAttribute("checked",!0),r.setAttribute("exportValue",t.exportValue),r.tabIndex=0,r.addEventListener("change",o=>{const{name:c,checked:u}=o.target;for(const h of this._getElementsByName(c,s)){const f=u&&h.exportValue===t.exportValue;h.domElement&&(h.domElement.checked=f),e.setValue(h.id,{value:f})}e.setValue(s,{value:u})}),r.addEventListener("resetform",o=>{const c=t.defaultFieldValue||"Off";o.target.checked=c===t.exportValue}),this.enableScripting&&this.hasJSActions&&(r.addEventListener("updatefromsandbox",o=>{const c={value(u){u.target.checked=u.detail.value!=="Off",e.setValue(s,{value:u.target.checked})}};this._dispatchEventFromSandbox(c,o)}),this._setEventListeners(r,null,[["change","Validate"],["change","Action"],["focus","Focus"],["blur","Blur"],["mousedown","Mouse Down"],["mouseenter","Mouse Enter"],["mouseleave","Mouse Exit"],["mouseup","Mouse Up"]],o=>o.target.checked)),this._setBackgroundColor(r),this._setDefaultPropertiesFromJS(r),this.container.append(r),this.container}}class fE extends xr{constructor(e){super(e,{isRenderable:e.renderForms})}render(){this.container.classList.add("buttonWidgetAnnotation","radioButton");const e=this.annotationStorage,t=this.data,s=t.id;let i=e.getValue(s,{value:t.fieldValue===t.buttonValue}).value;if(typeof i=="string"&&(i=i!==t.buttonValue,e.setValue(s,{value:i})),i)for(const o of this._getElementsByName(t.fieldName,s))e.setValue(o.id,{value:!1});const r=document.createElement("input");if(mr.add(r),r.setAttribute("data-element-id",s),r.disabled=t.readOnly,this._setRequired(r,this.data.required),r.type="radio",r.name=t.fieldName,i&&r.setAttribute("checked",!0),r.tabIndex=0,r.addEventListener("change",o=>{const{name:c,checked:u}=o.target;for(const h of this._getElementsByName(c,s))e.setValue(h.id,{value:!1});e.setValue(s,{value:u})}),r.addEventListener("resetform",o=>{const c=t.defaultFieldValue;o.target.checked=c!=null&&c===t.buttonValue}),this.enableScripting&&this.hasJSActions){const o=t.buttonValue;r.addEventListener("updatefromsandbox",c=>{const u={value:h=>{const f=o===h.detail.value;for(const p of this._getElementsByName(h.target.name)){const g=f&&p.id===s;p.domElement&&(p.domElement.checked=g),e.setValue(p.id,{value:g})}}};this._dispatchEventFromSandbox(u,c)}),this._setEventListeners(r,null,[["change","Validate"],["change","Action"],["focus","Focus"],["blur","Blur"],["mousedown","Mouse Down"],["mouseenter","Mouse Enter"],["mouseleave","Mouse Exit"],["mouseup","Mouse Up"]],c=>c.target.checked)}return this._setBackgroundColor(r),this._setDefaultPropertiesFromJS(r),this.container.append(r),this.container}}class U6 extends ug{constructor(e){super(e,{ignoreBorder:e.data.hasAppearance})}render(){const e=super.render();e.classList.add("buttonWidgetAnnotation","pushButton");const t=e.lastChild;return this.enableScripting&&this.hasJSActions&&t&&(this._setDefaultPropertiesFromJS(t),t.addEventListener("updatefromsandbox",s=>{this._dispatchEventFromSandbox({},s)})),e}}class H6 extends xr{constructor(e){super(e,{isRenderable:e.renderForms})}render(){this.container.classList.add("choiceWidgetAnnotation");const e=this.annotationStorage,t=this.data.id,s=e.getValue(t,{value:this.data.fieldValue}),i=document.createElement("select");mr.add(i),i.setAttribute("data-element-id",t),i.disabled=this.data.readOnly,this._setRequired(i,this.data.required),i.name=this.data.fieldName,i.tabIndex=0;let r=this.data.combo&&this.data.options.length>0;this.data.combo||(i.size=this.data.options.length,this.data.multiSelect&&(i.multiple=!0)),i.addEventListener("resetform",f=>{const p=this.data.defaultFieldValue;for(const g of i.options)g.selected=g.value===p});for(const f of this.data.options){const p=document.createElement("option");p.textContent=f.displayValue,p.value=f.exportValue,s.value.includes(f.exportValue)&&(p.setAttribute("selected",!0),r=!1),i.append(p)}let o=null;if(r){const f=document.createElement("option");f.value=" ",f.setAttribute("hidden",!0),f.setAttribute("selected",!0),i.prepend(f),o=()=>{f.remove(),i.removeEventListener("input",o),o=null},i.addEventListener("input",o)}const c=f=>{const p=f?"value":"textContent",{options:g,multiple:w}=i;return w?Array.prototype.filter.call(g,A=>A.selected).map(A=>A[p]):g.selectedIndex===-1?null:g[g.selectedIndex][p]};let u=c(!1);const h=f=>{const p=f.target.options;return Array.prototype.map.call(p,g=>({displayValue:g.textContent,exportValue:g.value}))};return this.enableScripting&&this.hasJSActions?(i.addEventListener("updatefromsandbox",f=>{const p={value(g){o?.();const w=g.detail.value,A=new Set(Array.isArray(w)?w:[w]);for(const x of i.options)x.selected=A.has(x.value);e.setValue(t,{value:c(!0)}),u=c(!1)},multipleSelection(g){i.multiple=!0},remove(g){const w=i.options,A=g.detail.remove;w[A].selected=!1,i.remove(A),w.length>0&&Array.prototype.findIndex.call(w,S=>S.selected)===-1&&(w[0].selected=!0),e.setValue(t,{value:c(!0),items:h(g)}),u=c(!1)},clear(g){for(;i.length!==0;)i.remove(0);e.setValue(t,{value:null,items:[]}),u=c(!1)},insert(g){const{index:w,displayValue:A,exportValue:x}=g.detail.insert,S=i.children[w],E=document.createElement("option");E.textContent=A,E.value=x,S?S.before(E):i.append(E),e.setValue(t,{value:c(!0),items:h(g)}),u=c(!1)},items(g){const{items:w}=g.detail;for(;i.length!==0;)i.remove(0);for(const A of w){const{displayValue:x,exportValue:S}=A,E=document.createElement("option");E.textContent=x,E.value=S,i.append(E)}i.options.length>0&&(i.options[0].selected=!0),e.setValue(t,{value:c(!0),items:h(g)}),u=c(!1)},indices(g){const w=new Set(g.detail.indices);for(const A of g.target.options)A.selected=w.has(A.index);e.setValue(t,{value:c(!0)}),u=c(!1)},editable(g){g.target.disabled=!g.detail.editable}};this._dispatchEventFromSandbox(p,f)}),i.addEventListener("input",f=>{const p=c(!0),g=c(!1);e.setValue(t,{value:p}),f.preventDefault(),this.linkService.eventBus?.dispatch("dispatcheventinsandbox",{source:this,detail:{id:t,name:"Keystroke",value:u,change:g,changeEx:p,willCommit:!1,commitKey:1,keyDown:!1}})}),this._setEventListeners(i,null,[["focus","Focus"],["blur","Blur"],["mousedown","Mouse Down"],["mouseenter","Mouse Enter"],["mouseleave","Mouse Exit"],["mouseup","Mouse Up"],["input","Action"],["input","Validate"]],f=>f.target.value)):i.addEventListener("input",function(f){e.setValue(t,{value:c(!0)})}),this.data.combo&&this._setTextStyle(i),this._setBackgroundColor(i),this._setDefaultPropertiesFromJS(i),this.container.append(i),this.container}}class Np extends wt{constructor(e){const{data:t,elements:s,parent:i}=e,r=!!i._commentManager;if(super(e,{isRenderable:!r&&wt._hasPopupData(t)}),this.elements=s,r&&wt._hasPopupData(t)){const o=this.popup=this.#e();for(const c of s)c.popup=o}else this.popup=null}#e(){return new W6({container:this.container,color:this.data.color,titleObj:this.data.titleObj,modificationDate:this.data.modificationDate||this.data.creationDate,contentsObj:this.data.contentsObj,richText:this.data.richText,rect:this.data.rect,parentRect:this.data.parentRect||null,parent:this.parent,elements:this.elements,open:this.data.open,commentManager:this.parent._commentManager})}render(){const{container:e}=this;e.classList.add("popupAnnotation"),e.role="comment";const t=this.popup=this.#e(),s=[];for(const i of this.elements)i.popup=t,i.container.ariaHasPopup="dialog",s.push(i.data.id),i.addHighlightArea();return this.container.setAttribute("aria-controls",s.map(i=>`${Qm}${i}`).join(",")),this.container}}class W6{#e=null;#t=this.#H.bind(this);#s=this.#B.bind(this);#n=this.#M.bind(this);#i=this.#b.bind(this);#r=null;#o=null;#a=null;#c=null;#l=null;#d=null;#h=null;#f=!1;#g=null;#p=null;#u=null;#m=null;#y=null;#w=null;#v=null;#E=null;#A=null;#x=null;#C=!1;#S=null;#_=null;constructor({container:e,color:t,elements:s,titleObj:i,modificationDate:r,contentsObj:o,richText:c,parent:u,rect:h,parentRect:f,open:p,commentManager:g=null}){this.#o=e,this.#A=i,this.#a=o,this.#E=c,this.#d=u,this.#r=t,this.#v=h,this.#h=f,this.#l=s,this.#e=g,this.#S=s[0],this.#c=Tu.toDateObject(r),this.trigger=s.flatMap(w=>w.getElementsToTriggerPopup()),g?this.renderCommentButton():(this.#F(),this.#o.hidden=!0,p&&this.#b())}#F(){if(this.#p)return;this.#p=new AbortController;const{signal:e}=this.#p;for(const t of this.trigger)t.addEventListener("click",this.#i,{signal:e}),t.addEventListener("pointerenter",this.#n,{signal:e}),t.addEventListener("pointerleave",this.#s,{signal:e}),t.classList.add("popupTriggerArea");for(const t of this.#l)t.container?.addEventListener("keydown",this.#t,{signal:e})}#T(){const e=this.#l.find(t=>t.hasCommentButton);e&&(this.#y=e._normalizePoint(e.commentButtonPosition))}renderCommentButton(){if(this.#m||(this.#y||this.#T(),!this.#y))return;const{signal:e}=this.#p=new AbortController,t=!!this.#S.extraPopupElement,s=()=>{this.#e.toggleCommentPopup(this,!0,void 0,!t)},i=()=>{this.#e.toggleCommentPopup(this,!1,!0,!t)},r=()=>{this.#e.toggleCommentPopup(this,!1,!1)};if(t){this.#m=this.#S.container;for(const o of this.trigger)o.ariaHasPopup="dialog",o.ariaControls="commentPopup",o.addEventListener("keydown",this.#t,{signal:e}),o.addEventListener("click",s,{signal:e}),o.addEventListener("pointerenter",i,{signal:e}),o.addEventListener("pointerleave",r,{signal:e}),o.classList.add("popupTriggerArea")}else{const o=this.#m=document.createElement("button");o.className="annotationCommentButton";const c=this.#S.container;o.style.zIndex=c.style.zIndex+1,o.tabIndex=0,o.ariaHasPopup="dialog",o.ariaControls="commentPopup",o.setAttribute("data-l10n-id","pdfjs-show-comment-button"),this.#O(),this.#P(),o.addEventListener("keydown",this.#t,{signal:e}),o.addEventListener("click",s,{signal:e}),o.addEventListener("pointerenter",i,{signal:e}),o.addEventListener("pointerleave",r,{signal:e}),c.after(o)}}#P(){if(this.#S.extraPopupElement&&!this.#S.editor)return;this.renderCommentButton();const[e,t]=this.#y,{style:s}=this.#m;s.left=`calc(${e}%)`,s.top=`calc(${t}% - var(--comment-button-dim))`}#O(){this.#S.extraPopupElement||(this.renderCommentButton(),this.#m.style.backgroundColor=this.commentButtonColor||"")}get commentButtonColor(){const{color:e,opacity:t}=this.#S.commentData;return e?this.#d._commentManager.makeCommentColor(e,t):null}focusCommentButton(){setTimeout(()=>{this.#m?.focus()},0)}getData(){const{richText:e,color:t,opacity:s,creationDate:i,modificationDate:r}=this.#S.commentData;return{contentsObj:{str:this.comment},richText:e,color:t,opacity:s,creationDate:i,modificationDate:r}}get elementBeforePopup(){return this.#m}get comment(){return this.#_||=this.#S.commentText,this.#_}set comment(e){e!==this.comment&&(this.#S.commentText=this.#_=e)}get parentBoundingClientRect(){return this.#S.layer.getBoundingClientRect()}setCommentButtonStates({selected:e,hasPopup:t}){this.#m&&(this.#m.classList.toggle("selected",e),this.#m.ariaExpanded=t)}setSelectedCommentButton(e){this.#m.classList.toggle("selected",e)}get commentPopupPosition(){if(this.#w)return this.#w;const{x:e,y:t,height:s}=this.#m.getBoundingClientRect(),{x:i,y:r,width:o,height:c}=this.#S.layer.getBoundingClientRect();return[(e-i)/o,(t+s-r)/c]}set commentPopupPosition(e){this.#w=e}hasDefaultPopupPosition(){return this.#w===null}get commentButtonPosition(){return this.#y}get commentButtonWidth(){return this.#m.getBoundingClientRect().width/this.parentBoundingClientRect.width}editComment(e){const[t,s]=this.#w||this.commentButtonPosition.map(h=>h/100),i=this.parentBoundingClientRect,{x:r,y:o,width:c,height:u}=i;this.#e.showDialog(null,this,r+t*c,o+s*u,{...e,parentDimensions:i})}render(){if(this.#g)return;const e=this.#g=document.createElement("div");if(e.className="popup",this.#r){const s=e.style.outlineColor=ge.makeHexColor(...this.#r);e.style.backgroundColor=`color-mix(in srgb, ${s} 30%, white)`}const t=document.createElement("span");if(t.className="header",this.#A?.str){const s=document.createElement("span");s.className="title",t.append(s),{dir:s.dir,str:s.textContent}=this.#A}if(e.append(t),this.#c){const s=document.createElement("time");s.className="popupDate",s.setAttribute("data-l10n-id","pdfjs-annotation-date-time-string"),s.setAttribute("data-l10n-args",JSON.stringify({dateObj:this.#c.valueOf()})),s.dateTime=this.#c.toISOString(),t.append(s)}eg({html:this.#N||this.#a.str,dir:this.#a?.dir,className:"popupContent"},e),this.#o.append(e)}get#N(){const e=this.#E,t=this.#a;return e?.str&&(!t?.str||t.str===e.str)&&this.#E.html||null}get#D(){return this.#N?.attributes?.style?.fontSize||0}get#j(){return this.#N?.attributes?.style?.color||null}#L(e){const t=[],s={str:e,html:{name:"div",attributes:{dir:"auto"},children:[{name:"p",children:t}]}},i={style:{color:this.#j,fontSize:this.#D?`calc(${this.#D}px * var(--total-scale-factor))`:""}};for(const r of e.split(`
`))t.push({name:"span",value:r,attributes:i});return s}#H(e){e.altKey||e.shiftKey||e.ctrlKey||e.metaKey||(e.key==="Enter"||e.key==="Escape"&&this.#f)&&this.#b()}updateEdited({rect:e,popup:t,deleted:s}){if(this.#e){s?(this.remove(),this.#_=null):t&&(t.deleted?this.remove():(this.#O(),this.#_=t.text)),e&&(this.#y=null,this.#T(),this.#P());return}if(s||t?.deleted){this.remove();return}this.#F(),this.#x||={contentsObj:this.#a,richText:this.#E},e&&(this.#u=null),t&&t.text&&(this.#E=this.#L(t.text),this.#c=Tu.toDateObject(t.date),this.#a=null),this.#g?.remove(),this.#g=null}resetEdited(){this.#x&&({contentsObj:this.#a,richText:this.#E}=this.#x,this.#x=null,this.#g?.remove(),this.#g=null,this.#u=null)}remove(){if(this.#p?.abort(),this.#p=null,this.#g?.remove(),this.#g=null,this.#C=!1,this.#f=!1,this.#m?.remove(),this.#m=null,this.trigger)for(const e of this.trigger)e.classList.remove("popupTriggerArea")}#k(){if(this.#u!==null)return;const{page:{view:e},viewport:{rawDims:{pageWidth:t,pageHeight:s,pageX:i,pageY:r}}}=this.#d;let o=!!this.#h,c=o?this.#h:this.#v;for(const A of this.#l)if(!c||ge.intersect(A.data.rect,c)!==null){c=A.data.rect,o=!0;break}const u=ge.normalizeRect([c[0],e[3]-c[1]+e[1],c[2],e[3]-c[3]+e[1]]),f=o?c[2]-c[0]+5:0,p=u[0]+f,g=u[1];this.#u=[100*(p-i)/t,100*(g-r)/s];const{style:w}=this.#o;w.left=`${this.#u[0]}%`,w.top=`${this.#u[1]}%`}#b(){if(this.#e){this.#e.toggleCommentPopup(this,!1);return}this.#f=!this.#f,this.#f?(this.#M(),this.#o.addEventListener("click",this.#i),this.#o.addEventListener("keydown",this.#t)):(this.#B(),this.#o.removeEventListener("click",this.#i),this.#o.removeEventListener("keydown",this.#t))}#M(){this.#g||this.render(),this.isVisible?this.#f&&this.#o.classList.add("focused"):(this.#k(),this.#o.hidden=!1,this.#o.style.zIndex=parseInt(this.#o.style.zIndex)+1e3)}#B(){this.#o.classList.remove("focused"),!(this.#f||!this.isVisible)&&(this.#o.hidden=!0,this.#o.style.zIndex=parseInt(this.#o.style.zIndex)-1e3)}forceHide(){this.#C=this.isVisible,this.#C&&(this.#o.hidden=!0)}maybeShow(){this.#e||(this.#F(),this.#C&&(this.#g||this.#M(),this.#C=!1,this.#o.hidden=!1))}get isVisible(){return this.#e?!1:this.#o.hidden===!1}}class pE extends wt{constructor(e){super(e,{isRenderable:!0,ignoreBorder:!0}),this.textContent=e.data.textContent,this.textPosition=e.data.textPosition,this.annotationEditorType=Ie.FREETEXT}render(){if(this.container.classList.add("freeTextAnnotation"),this.textContent){const e=document.createElement("div");e.classList.add("annotationTextContent"),e.setAttribute("role","comment");for(const t of this.textContent){const s=document.createElement("span");s.textContent=t,e.append(s)}this.container.append(e)}return!this.data.popupRef&&this.hasPopupData&&this._createPopup(),this._editOnDoubleClick(),this.container}}class G6 extends wt{#e=null;constructor(e){super(e,{isRenderable:!0,ignoreBorder:!0})}render(){this.container.classList.add("lineAnnotation");const{data:e,width:t,height:s}=this,i=this.svgFactory.create(t,s,!0),r=this.#e=this.svgFactory.createElement("svg:line");return r.setAttribute("x1",e.rect[2]-e.lineCoordinates[0]),r.setAttribute("y1",e.rect[3]-e.lineCoordinates[1]),r.setAttribute("x2",e.rect[2]-e.lineCoordinates[2]),r.setAttribute("y2",e.rect[3]-e.lineCoordinates[3]),r.setAttribute("stroke-width",e.borderStyle.width||1),r.setAttribute("stroke","transparent"),r.setAttribute("fill","transparent"),i.append(r),this.container.append(i),!e.popupRef&&this.hasPopupData&&this._createPopup(),this.container}getElementsToTriggerPopup(){return this.#e}addHighlightArea(){this.container.classList.add("highlightArea")}}class q6 extends wt{#e=null;constructor(e){super(e,{isRenderable:!0,ignoreBorder:!0})}render(){this.container.classList.add("squareAnnotation");const{data:e,width:t,height:s}=this,i=this.svgFactory.create(t,s,!0),r=e.borderStyle.width,o=this.#e=this.svgFactory.createElement("svg:rect");return o.setAttribute("x",r/2),o.setAttribute("y",r/2),o.setAttribute("width",t-r),o.setAttribute("height",s-r),o.setAttribute("stroke-width",r||1),o.setAttribute("stroke","transparent"),o.setAttribute("fill","transparent"),i.append(o),this.container.append(i),!e.popupRef&&this.hasPopupData&&this._createPopup(),this.container}getElementsToTriggerPopup(){return this.#e}addHighlightArea(){this.container.classList.add("highlightArea")}}class K6 extends wt{#e=null;constructor(e){super(e,{isRenderable:!0,ignoreBorder:!0})}render(){this.container.classList.add("circleAnnotation");const{data:e,width:t,height:s}=this,i=this.svgFactory.create(t,s,!0),r=e.borderStyle.width,o=this.#e=this.svgFactory.createElement("svg:ellipse");return o.setAttribute("cx",t/2),o.setAttribute("cy",s/2),o.setAttribute("rx",t/2-r/2),o.setAttribute("ry",s/2-r/2),o.setAttribute("stroke-width",r||1),o.setAttribute("stroke","transparent"),o.setAttribute("fill","transparent"),i.append(o),this.container.append(i),!e.popupRef&&this.hasPopupData&&this._createPopup(),this.container}getElementsToTriggerPopup(){return this.#e}addHighlightArea(){this.container.classList.add("highlightArea")}}class mE extends wt{#e=null;constructor(e){super(e,{isRenderable:!0,ignoreBorder:!0}),this.containerClassName="polylineAnnotation",this.svgElementName="svg:polyline"}render(){this.container.classList.add(this.containerClassName);const{data:{rect:e,vertices:t,borderStyle:s,popupRef:i},width:r,height:o}=this;if(!t)return this.container;const c=this.svgFactory.create(r,o,!0);let u=[];for(let f=0,p=t.length;f<p;f+=2){const g=t[f]-e[0],w=e[3]-t[f+1];u.push(`${g},${w}`)}u=u.join(" ");const h=this.#e=this.svgFactory.createElement(this.svgElementName);return h.setAttribute("points",u),h.setAttribute("stroke-width",s.width||1),h.setAttribute("stroke","transparent"),h.setAttribute("fill","transparent"),c.append(h),this.container.append(c),!i&&this.hasPopupData&&this._createPopup(),this.container}getElementsToTriggerPopup(){return this.#e}addHighlightArea(){this.container.classList.add("highlightArea")}}class X6 extends mE{constructor(e){super(e),this.containerClassName="polygonAnnotation",this.svgElementName="svg:polygon"}}class Z6 extends wt{constructor(e){super(e,{isRenderable:!0,ignoreBorder:!0})}render(){return this.container.classList.add("caretAnnotation"),!this.data.popupRef&&this.hasPopupData&&this._createPopup(),this.container}}class hg extends wt{#e=null;#t=[];constructor(e){super(e,{isRenderable:!0,ignoreBorder:!0}),this.containerClassName="inkAnnotation",this.svgElementName="svg:polyline",this.annotationEditorType=this.data.it==="InkHighlight"?Ie.HIGHLIGHT:Ie.INK}#s(e,t){switch(e){case 90:return{transform:`rotate(90) translate(${-t[0]},${t[1]}) scale(1,-1)`,width:t[3]-t[1],height:t[2]-t[0]};case 180:return{transform:`rotate(180) translate(${-t[2]},${t[1]}) scale(1,-1)`,width:t[2]-t[0],height:t[3]-t[1]};case 270:return{transform:`rotate(270) translate(${-t[2]},${t[3]}) scale(1,-1)`,width:t[3]-t[1],height:t[2]-t[0]};default:return{transform:`translate(${-t[0]},${t[3]}) scale(1,-1)`,width:t[2]-t[0],height:t[3]-t[1]}}}render(){this.container.classList.add(this.containerClassName);const{data:{rect:e,rotation:t,inkLists:s,borderStyle:i,popupRef:r}}=this,{transform:o,width:c,height:u}=this.#s(t,e),h=this.svgFactory.create(c,u,!0),f=this.#e=this.svgFactory.createElement("svg:g");h.append(f),f.setAttribute("stroke-width",i.width||1),f.setAttribute("stroke-linecap","round"),f.setAttribute("stroke-linejoin","round"),f.setAttribute("stroke-miterlimit",10),f.setAttribute("stroke","transparent"),f.setAttribute("fill","transparent"),f.setAttribute("transform",o);for(let p=0,g=s.length;p<g;p++){const w=this.svgFactory.createElement(this.svgElementName);this.#t.push(w),w.setAttribute("points",s[p].join(",")),f.append(w)}return!r&&this.hasPopupData&&this._createPopup(),this.container.append(h),this._editOnDoubleClick(),this.container}updateEdited(e){super.updateEdited(e);const{thickness:t,points:s,rect:i}=e,r=this.#e;if(t>=0&&r.setAttribute("stroke-width",t||1),s)for(let o=0,c=this.#t.length;o<c;o++)this.#t[o].setAttribute("points",s[o].join(","));if(i){const{transform:o,width:c,height:u}=this.#s(this.data.rotation,i);r.parentElement.setAttribute("viewBox",`0 0 ${c} ${u}`),r.setAttribute("transform",o)}}getElementsToTriggerPopup(){return this.#t}addHighlightArea(){this.container.classList.add("highlightArea")}}class gE extends wt{constructor(e){super(e,{isRenderable:!0,ignoreBorder:!0,createQuadrilaterals:!0}),this.annotationEditorType=Ie.HIGHLIGHT}render(){const{data:{overlaidText:e,popupRef:t}}=this;if(!t&&this.hasPopupData&&this._createPopup(),this.container.classList.add("highlightAnnotation"),this._editOnDoubleClick(),e){const s=document.createElement("mark");s.classList.add("overlaidText"),s.textContent=e,this.container.append(s)}return this.container}}class Y6 extends wt{constructor(e){super(e,{isRenderable:!0,ignoreBorder:!0,createQuadrilaterals:!0})}render(){const{data:{overlaidText:e,popupRef:t}}=this;if(!t&&this.hasPopupData&&this._createPopup(),this.container.classList.add("underlineAnnotation"),e){const s=document.createElement("u");s.classList.add("overlaidText"),s.textContent=e,this.container.append(s)}return this.container}}class Q6 extends wt{constructor(e){super(e,{isRenderable:!0,ignoreBorder:!0,createQuadrilaterals:!0})}render(){const{data:{overlaidText:e,popupRef:t}}=this;if(!t&&this.hasPopupData&&this._createPopup(),this.container.classList.add("squigglyAnnotation"),e){const s=document.createElement("u");s.classList.add("overlaidText"),s.textContent=e,this.container.append(s)}return this.container}}class J6 extends wt{constructor(e){super(e,{isRenderable:!0,ignoreBorder:!0,createQuadrilaterals:!0})}render(){const{data:{overlaidText:e,popupRef:t}}=this;if(!t&&this.hasPopupData&&this._createPopup(),this.container.classList.add("strikeoutAnnotation"),e){const s=document.createElement("s");s.classList.add("overlaidText"),s.textContent=e,this.container.append(s)}return this.container}}class yE extends wt{constructor(e){super(e,{isRenderable:!0,ignoreBorder:!0}),this.annotationEditorType=Ie.STAMP}render(){return this.container.classList.add("stampAnnotation"),this.container.setAttribute("role","img"),!this.data.popupRef&&this.hasPopupData&&this._createPopup(),this._editOnDoubleClick(),this.container}}class ez extends wt{#e=null;constructor(e){super(e,{isRenderable:!0});const{file:t}=this.data;this.filename=t.filename,this.content=t.content,this.linkService.eventBus?.dispatch("fileattachmentannotation",{source:this,...t})}render(){this.container.classList.add("fileAttachmentAnnotation");const{container:e,data:t}=this;let s;t.hasAppearance||t.fillAlpha===0?s=document.createElement("div"):(s=document.createElement("img"),s.src=`${this.imageResourcesPath}annotation-${/paperclip/i.test(t.name)?"paperclip":"pushpin"}.svg`,t.fillAlpha&&t.fillAlpha<1&&(s.style=`filter: opacity(${Math.round(t.fillAlpha*100)}%);`)),s.addEventListener("dblclick",this.#t.bind(this)),this.#e=s;const{isMac:i}=qt.platform;return e.addEventListener("keydown",r=>{r.key==="Enter"&&(i?r.metaKey:r.ctrlKey)&&this.#t()}),!t.popupRef&&this.hasPopupData?this._createPopup():s.classList.add("popupTriggerArea"),e.append(s),e}getElementsToTriggerPopup(){return this.#e}addHighlightArea(){this.container.classList.add("highlightArea")}#t(){this.downloadManager?.openOrDownloadData(this.content,this.filename)}}let dg=class vE{#e=null;#t=null;#s=null;#n=new Map;#i=null;#r=null;constructor({div:e,accessibilityManager:t,annotationCanvasMap:s,annotationEditorUIManager:i,page:r,viewport:o,structTreeLayer:c,commentManager:u,linkService:h,annotationStorage:f}){this.div=e,this.#e=t,this.#t=s,this.#i=c||null,this.#r=h||null,this.#s=f||new sg,this.page=r,this.viewport=o,this.zIndex=0,this._annotationEditorUIManager=i,this._commentManager=u||null}hasEditableAnnotations(){return this.#n.size>0}async#o(e,t,s){const i=e.firstChild||e,r=i.id=`${Qm}${t}`,o=await this.#i?.getAriaAttributes(r);if(o)for(const[c,u]of o)i.setAttribute(c,u);s?s.at(-1).container.after(e):(this.div.append(e),this.#e?.moveElementInDOM(this.div,e,i,!1))}async render(e){const{annotations:t}=e,s=this.div;Mi(s,this.viewport);const i=new Map,r={data:null,layer:s,linkService:this.#r,downloadManager:e.downloadManager,imageResourcesPath:e.imageResourcesPath||"",renderForms:e.renderForms!==!1,svgFactory:new tl,annotationStorage:this.#s,enableComment:e.enableComment===!0,enableScripting:e.enableScripting===!0,hasJSActions:e.hasJSActions,fieldObjects:e.fieldObjects,parent:this,elements:null};for(const o of t){if(o.noHTML)continue;const c=o.annotationType===_t.POPUP;if(c){const f=i.get(o.id);if(!f)continue;r.elements=f}else if(o.rect[2]===o.rect[0]||o.rect[3]===o.rect[1])continue;r.data=o;const u=hb.create(r);if(!u.isRenderable)continue;if(!c&&o.popupRef){const f=i.get(o.popupRef);f?f.push(u):i.set(o.popupRef,[u])}const h=u.render();o.hidden&&(h.style.visibility="hidden"),await this.#o(h,o.id,r.elements),u.extraPopupElement?.popup?.renderCommentButton(),u._isEditable&&(this.#n.set(u.data.id,u),this._annotationEditorUIManager?.renderAnnotationElement(u))}this.#a()}async addLinkAnnotations(e){const t={data:null,layer:this.div,linkService:this.#r,svgFactory:new tl,parent:this};for(const s of e){s.borderStyle||=vE._defaultBorderStyle,t.data=s;const i=hb.create(t);if(!i.isRenderable)continue;const r=i.render();await this.#o(r,s.id,null)}}update({viewport:e}){const t=this.div;this.viewport=e,Mi(t,{rotation:e.rotation}),this.#a(),t.hidden=!1}#a(){if(!this.#t)return;const e=this.div;for(const[t,s]of this.#t){const i=e.querySelector(`[data-annotation-id="${t}"]`);if(!i)continue;s.className="annotationContent";const{firstChild:r}=i;r?r.nodeName==="CANVAS"?r.replaceWith(s):r.classList.contains("annotationContent")?r.after(s):r.before(s):i.append(s);const o=this.#n.get(t);o&&(o._hasNoCanvas?(this._annotationEditorUIManager?.setMissingCanvas(t,i.id,s),o._hasNoCanvas=!1):o.canvas=s)}this.#t.clear()}getEditableAnnotations(){return Array.from(this.#n.values())}getEditableAnnotation(e){return this.#n.get(e)}addFakeAnnotation(e){const{div:t}=this,{id:s,rotation:i}=e,r=new j6({data:{id:s,rect:e.getPDFRect(),rotation:i},editor:e,layer:t,parent:this,enableComment:!!this._commentManager,linkService:this.#r,annotationStorage:this.#s}),o=r.render();return t.append(o),this.#e?.moveElementInDOM(t,o,o,!1),r.createOrUpdatePopup(),r}static get _defaultBorderStyle(){return Ve(this,"_defaultBorderStyle",Object.freeze({width:1,rawWidth:1,style:Qr.SOLID,dashArray:[3],horizontalCornerRadius:0,verticalCornerRadius:0}))}};const Yc=/\r\n?|\n/g;class Ht extends _e{#e="";#t=`${this.id}-editor`;#s=null;#n;_colorPicker=null;static _freeTextDefaultContent="";static _internalPadding=0;static _defaultColor=null;static _defaultFontSize=10;static get _keyboardManager(){const e=Ht.prototype,t=r=>r.isEmpty(),s=ri.TRANSLATE_SMALL,i=ri.TRANSLATE_BIG;return Ve(this,"_keyboardManager",new vl([[["ctrl+s","mac+meta+s","ctrl+p","mac+meta+p"],e.commitOrRemove,{bubbles:!0}],[["ctrl+Enter","mac+meta+Enter","Escape","mac+Escape"],e.commitOrRemove],[["ArrowLeft","mac+ArrowLeft"],e._translateEmpty,{args:[-s,0],checker:t}],[["ctrl+ArrowLeft","mac+shift+ArrowLeft"],e._translateEmpty,{args:[-i,0],checker:t}],[["ArrowRight","mac+ArrowRight"],e._translateEmpty,{args:[s,0],checker:t}],[["ctrl+ArrowRight","mac+shift+ArrowRight"],e._translateEmpty,{args:[i,0],checker:t}],[["ArrowUp","mac+ArrowUp"],e._translateEmpty,{args:[0,-s],checker:t}],[["ctrl+ArrowUp","mac+shift+ArrowUp"],e._translateEmpty,{args:[0,-i],checker:t}],[["ArrowDown","mac+ArrowDown"],e._translateEmpty,{args:[0,s],checker:t}],[["ctrl+ArrowDown","mac+shift+ArrowDown"],e._translateEmpty,{args:[0,i],checker:t}]]))}static _type="freetext";static _editorType=Ie.FREETEXT;constructor(e){super({...e,name:"freeTextEditor"}),this.color=e.color||Ht._defaultColor||_e._defaultLineColor,this.#n=e.fontSize||Ht._defaultFontSize,this.annotationElementId||this._uiManager.a11yAlert("pdfjs-editor-freetext-added-alert")}static initialize(e,t){_e.initialize(e,t);const s=getComputedStyle(document.documentElement);this._internalPadding=parseFloat(s.getPropertyValue("--freetext-padding"))}static updateDefaultParams(e,t){switch(e){case Ge.FREETEXT_SIZE:Ht._defaultFontSize=t;break;case Ge.FREETEXT_COLOR:Ht._defaultColor=t;break}}updateParams(e,t){switch(e){case Ge.FREETEXT_SIZE:this.#i(t);break;case Ge.FREETEXT_COLOR:this.#r(t);break}}static get defaultPropertiesToUpdate(){return[[Ge.FREETEXT_SIZE,Ht._defaultFontSize],[Ge.FREETEXT_COLOR,Ht._defaultColor||_e._defaultLineColor]]}get propertiesToUpdate(){return[[Ge.FREETEXT_SIZE,this.#n],[Ge.FREETEXT_COLOR,this.color]]}get toolbarButtons(){return this._colorPicker||=new el(this),[["colorPicker",this._colorPicker]]}get colorType(){return Ge.FREETEXT_COLOR}#i(e){const t=i=>{this.editorDiv.style.fontSize=`calc(${i}px * var(--total-scale-factor))`,this.translate(0,-(i-this.#n)*this.parentScale),this.#n=i,this.#a()},s=this.#n;this.addCommands({cmd:t.bind(this,e),undo:t.bind(this,s),post:this._uiManager.updateUI.bind(this._uiManager,this),mustExec:!0,type:Ge.FREETEXT_SIZE,overwriteIfSameType:!0,keepUndo:!0})}onUpdatedColor(){this.editorDiv.style.color=this.color,this._colorPicker?.update(this.color),super.onUpdatedColor()}#r(e){const t=i=>{this.color=i,this.onUpdatedColor()},s=this.color;this.addCommands({cmd:t.bind(this,e),undo:t.bind(this,s),post:this._uiManager.updateUI.bind(this._uiManager,this),mustExec:!0,type:Ge.FREETEXT_COLOR,overwriteIfSameType:!0,keepUndo:!0})}_translateEmpty(e,t){this._uiManager.translateSelectedEditors(e,t,!0)}getInitialTranslation(){const e=this.parentScale;return[-Ht._internalPadding*e,-(Ht._internalPadding+this.#n)*e]}rebuild(){this.parent&&(super.rebuild(),this.div!==null&&(this.isAttachedToDOM||this.parent.add(this)))}enableEditMode(){if(!super.enableEditMode())return!1;this.overlayDiv.classList.remove("enabled"),this.editorDiv.contentEditable=!0,this._isDraggable=!1,this.div.removeAttribute("aria-activedescendant"),this.#s=new AbortController;const e=this._uiManager.combinedSignal(this.#s);return this.editorDiv.addEventListener("keydown",this.editorDivKeydown.bind(this),{signal:e}),this.editorDiv.addEventListener("focus",this.editorDivFocus.bind(this),{signal:e}),this.editorDiv.addEventListener("blur",this.editorDivBlur.bind(this),{signal:e}),this.editorDiv.addEventListener("input",this.editorDivInput.bind(this),{signal:e}),this.editorDiv.addEventListener("paste",this.editorDivPaste.bind(this),{signal:e}),!0}disableEditMode(){return super.disableEditMode()?(this.overlayDiv.classList.add("enabled"),this.editorDiv.contentEditable=!1,this.div.setAttribute("aria-activedescendant",this.#t),this._isDraggable=!0,this.#s?.abort(),this.#s=null,this.div.focus({preventScroll:!0}),this.isEditing=!1,this.parent.div.classList.add("freetextEditing"),!0):!1}focusin(e){this._focusEventsAllowed&&(super.focusin(e),e.target!==this.editorDiv&&this.editorDiv.focus())}onceAdded(e){this.width||(this.enableEditMode(),e&&this.editorDiv.focus(),this._initialOptions?.isCentered&&this.center(),this._initialOptions=null)}isEmpty(){return!this.editorDiv||this.editorDiv.innerText.trim()===""}remove(){this.isEditing=!1,this.parent&&(this.parent.setEditingState(!0),this.parent.div.classList.add("freetextEditing")),super.remove()}#o(){const e=[];this.editorDiv.normalize();let t=null;for(const s of this.editorDiv.childNodes)t?.nodeType===Node.TEXT_NODE&&s.nodeName==="BR"||(e.push(Ht.#c(s)),t=s);return e.join(`
`)}#a(){const[e,t]=this.parentDimensions;let s;if(this.isAttachedToDOM)s=this.div.getBoundingClientRect();else{const{currentLayer:i,div:r}=this,o=r.style.display,c=r.classList.contains("hidden");r.classList.remove("hidden"),r.style.display="hidden",i.div.append(this.div),s=r.getBoundingClientRect(),r.remove(),r.style.display=o,r.classList.toggle("hidden",c)}this.rotation%180===this.parentRotation%180?(this.width=s.width/e,this.height=s.height/t):(this.width=s.height/e,this.height=s.width/t),this.fixAndSetPosition()}commit(){if(!this.isInEditMode())return;super.commit(),this.disableEditMode();const e=this.#e,t=this.#e=this.#o().trimEnd();if(e===t)return;const s=i=>{if(this.#e=i,!i){this.remove();return}this.#l(),this._uiManager.rebuild(this),this.#a()};this.addCommands({cmd:()=>{s(t)},undo:()=>{s(e)},mustExec:!1}),this.#a()}shouldGetKeyboardEvents(){return this.isInEditMode()}enterInEditMode(){this.enableEditMode(),this.editorDiv.focus()}keydown(e){e.target===this.div&&e.key==="Enter"&&(this.enterInEditMode(),e.preventDefault())}editorDivKeydown(e){Ht._keyboardManager.exec(this,e)}editorDivFocus(e){this.isEditing=!0}editorDivBlur(e){this.isEditing=!1}editorDivInput(e){this.parent.div.classList.toggle("freetextEditing",this.isEmpty())}disableEditing(){this.editorDiv.setAttribute("role","comment"),this.editorDiv.removeAttribute("aria-multiline")}enableEditing(){this.editorDiv.setAttribute("role","textbox"),this.editorDiv.setAttribute("aria-multiline",!0)}get canChangeContent(){return!0}render(){if(this.div)return this.div;let e,t;(this._isCopy||this.annotationElementId)&&(e=this.x,t=this.y),super.render(),this.editorDiv=document.createElement("div"),this.editorDiv.className="internal",this.editorDiv.setAttribute("id",this.#t),this.editorDiv.setAttribute("data-l10n-id","pdfjs-free-text2"),this.editorDiv.setAttribute("data-l10n-attrs","default-content"),this.enableEditing(),this.editorDiv.contentEditable=!0;const{style:s}=this.editorDiv;if(s.fontSize=`calc(${this.#n}px * var(--total-scale-factor))`,s.color=this.color,this.div.append(this.editorDiv),this.overlayDiv=document.createElement("div"),this.overlayDiv.classList.add("overlay","enabled"),this.div.append(this.overlayDiv),this._isCopy||this.annotationElementId){const[i,r]=this.parentDimensions;if(this.annotationElementId){const{position:o}=this._initialData;let[c,u]=this.getInitialTranslation();[c,u]=this.pageTranslationToScreen(c,u);const[h,f]=this.pageDimensions,[p,g]=this.pageTranslation;let w,A;switch(this.rotation){case 0:w=e+(o[0]-p)/h,A=t+this.height-(o[1]-g)/f;break;case 90:w=e+(o[0]-p)/h,A=t-(o[1]-g)/f,[c,u]=[u,-c];break;case 180:w=e-this.width+(o[0]-p)/h,A=t-(o[1]-g)/f,[c,u]=[-c,-u];break;case 270:w=e+(o[0]-p-this.height*f)/h,A=t+(o[1]-g-this.width*h)/f,[c,u]=[-u,c];break}this.setAt(w*i,A*r,c,u)}else this._moveAfterPaste(e,t);this.#l(),this._isDraggable=!0,this.editorDiv.contentEditable=!1}else this._isDraggable=!1,this.editorDiv.contentEditable=!0;return this.div}static#c(e){return(e.nodeType===Node.TEXT_NODE?e.nodeValue:e.innerText).replaceAll(Yc,"")}editorDivPaste(e){const t=e.clipboardData||window.clipboardData,{types:s}=t;if(s.length===1&&s[0]==="text/plain")return;e.preventDefault();const i=Ht.#h(t.getData("text")||"").replaceAll(Yc,`
`);if(!i)return;const r=window.getSelection();if(!r.rangeCount)return;this.editorDiv.normalize(),r.deleteFromDocument();const o=r.getRangeAt(0);if(!i.includes(`
`)){o.insertNode(document.createTextNode(i)),this.editorDiv.normalize(),r.collapseToStart();return}const{startContainer:c,startOffset:u}=o,h=[],f=[];if(c.nodeType===Node.TEXT_NODE){const w=c.parentElement;if(f.push(c.nodeValue.slice(u).replaceAll(Yc,"")),w!==this.editorDiv){let A=h;for(const x of this.editorDiv.childNodes){if(x===w){A=f;continue}A.push(Ht.#c(x))}}h.push(c.nodeValue.slice(0,u).replaceAll(Yc,""))}else if(c===this.editorDiv){let w=h,A=0;for(const x of this.editorDiv.childNodes)A++===u&&(w=f),w.push(Ht.#c(x))}this.#e=`${h.join(`
`)}${i}${f.join(`
`)}`,this.#l();const p=new Range;let g=Math.sumPrecise(h.map(w=>w.length));for(const{firstChild:w}of this.editorDiv.childNodes)if(w.nodeType===Node.TEXT_NODE){const A=w.nodeValue.length;if(g<=A){p.setStart(w,g),p.setEnd(w,g);break}g-=A}r.removeAllRanges(),r.addRange(p)}#l(){if(this.editorDiv.replaceChildren(),!!this.#e)for(const e of this.#e.split(`
`)){const t=document.createElement("div");t.append(e?document.createTextNode(e):document.createElement("br")),this.editorDiv.append(t)}}#d(){return this.#e.replaceAll(""," ")}static#h(e){return e.replaceAll(" ","")}get contentDiv(){return this.editorDiv}getPDFRect(){const e=Ht._internalPadding*this.parentScale;return this.getRect(e,e)}static async deserialize(e,t,s){let i=null;if(e instanceof pE){const{data:{defaultAppearanceData:{fontSize:o,fontColor:c},rect:u,rotation:h,id:f,popupRef:p,richText:g,contentsObj:w,creationDate:A,modificationDate:x},textContent:S,textPosition:E,parent:{page:{pageNumber:_}}}=e;if(!S||S.length===0)return null;i=e={annotationType:Ie.FREETEXT,color:Array.from(c),fontSize:o,value:S.join(`
`),position:E,pageIndex:_-1,rect:u.slice(0),rotation:h,annotationElementId:f,id:f,deleted:!1,popupRef:p,comment:w?.str||null,richText:g,creationDate:A,modificationDate:x}}const r=await super.deserialize(e,t,s);return r.#n=e.fontSize,r.color=ge.makeHexColor(...e.color),r.#e=Ht.#h(e.value),r._initialData=i,e.comment&&r.setCommentData(e),r}serialize(e=!1){if(this.isEmpty())return null;if(this.deleted)return this.serializeDeleted();const t=_e._colorManager.convert(this.isAttachedToDOM?getComputedStyle(this.editorDiv).color:this.color),s=Object.assign(super.serialize(e),{color:t,fontSize:this.#n,value:this.#d()});return this.addComment(s),e?(s.isCopy=!0,s):this.annotationElementId&&!this.#f(s)?null:(s.id=this.annotationElementId,s)}#f(e){const{value:t,fontSize:s,color:i,pageIndex:r}=this._initialData;return this.hasEditedComment||this._hasBeenMoved||e.value!==t||e.fontSize!==s||e.color.some((o,c)=>o!==i[c])||e.pageIndex!==r}renderAnnotationElement(e){const t=super.renderAnnotationElement(e);if(!t)return null;const{style:s}=t;s.fontSize=`calc(${this.#n}px * var(--total-scale-factor))`,s.color=this.color,t.replaceChildren();for(const i of this.#e.split(`
`)){const r=document.createElement("div");r.append(i?document.createTextNode(i):document.createElement("br")),t.append(r)}return e.updateEdited({rect:this.getPDFRect(),popup:this._uiManager.hasCommentManager()||this.hasEditedComment?this.comment:{text:this.#e}}),t}resetAnnotationElement(e){super.resetAnnotationElement(e),e.resetEdited()}}class me{static PRECISION=1e-4;toSVGPath(){nt("Abstract method `toSVGPath` must be implemented.")}get box(){nt("Abstract getter `box` must be implemented.")}serialize(e,t){nt("Abstract method `serialize` must be implemented.")}static _rescale(e,t,s,i,r,o){o||=new Float32Array(e.length);for(let c=0,u=e.length;c<u;c+=2)o[c]=t+e[c]*i,o[c+1]=s+e[c+1]*r;return o}static _rescaleAndSwap(e,t,s,i,r,o){o||=new Float32Array(e.length);for(let c=0,u=e.length;c<u;c+=2)o[c]=t+e[c+1]*i,o[c+1]=s+e[c]*r;return o}static _translate(e,t,s,i){i||=new Float32Array(e.length);for(let r=0,o=e.length;r<o;r+=2)i[r]=t+e[r],i[r+1]=s+e[r+1];return i}static svgRound(e){return Math.round(e*1e4)}static _normalizePoint(e,t,s,i,r){switch(r){case 90:return[1-t/s,e/i];case 180:return[1-e/s,1-t/i];case 270:return[t/s,1-e/i];default:return[e/s,t/i]}}static _normalizePagePoint(e,t,s){switch(s){case 90:return[1-t,e];case 180:return[1-e,1-t];case 270:return[t,1-e];default:return[e,t]}}static createBezierPoints(e,t,s,i,r,o){return[(e+5*s)/6,(t+5*i)/6,(5*s+r)/6,(5*i+o)/6,(s+r)/2,(i+o)/2]}}class rr{#e;#t=[];#s;#n;#i=[];#r=new Float32Array(18);#o;#a;#c;#l;#d;#h;#f=[];static#g=8;static#p=2;static#u=rr.#g+rr.#p;constructor({x:e,y:t},s,i,r,o,c=0){this.#e=s,this.#h=r*i,this.#n=o,this.#r.set([NaN,NaN,NaN,NaN,e,t],6),this.#s=c,this.#l=rr.#g*i,this.#c=rr.#u*i,this.#d=i,this.#f.push(e,t)}isEmpty(){return isNaN(this.#r[8])}#m(){const e=this.#r.subarray(4,6),t=this.#r.subarray(16,18),[s,i,r,o]=this.#e;return[(this.#o+(e[0]-t[0])/2-s)/r,(this.#a+(e[1]-t[1])/2-i)/o,(this.#o+(t[0]-e[0])/2-s)/r,(this.#a+(t[1]-e[1])/2-i)/o]}add({x:e,y:t}){this.#o=e,this.#a=t;const[s,i,r,o]=this.#e;let[c,u,h,f]=this.#r.subarray(8,12);const p=e-h,g=t-f,w=Math.hypot(p,g);if(w<this.#c)return!1;const A=w-this.#l,x=A/w,S=x*p,E=x*g;let _=c,k=u;c=h,u=f,h+=S,f+=E,this.#f?.push(e,t);const T=-E/A,P=S/A,N=T*this.#h,M=P*this.#h;return this.#r.set(this.#r.subarray(2,8),0),this.#r.set([h+N,f+M],4),this.#r.set(this.#r.subarray(14,18),12),this.#r.set([h-N,f-M],16),isNaN(this.#r[6])?(this.#i.length===0&&(this.#r.set([c+N,u+M],2),this.#i.push(NaN,NaN,NaN,NaN,(c+N-s)/r,(u+M-i)/o),this.#r.set([c-N,u-M],14),this.#t.push(NaN,NaN,NaN,NaN,(c-N-s)/r,(u-M-i)/o)),this.#r.set([_,k,c,u,h,f],6),!this.isEmpty()):(this.#r.set([_,k,c,u,h,f],6),Math.abs(Math.atan2(k-u,_-c)-Math.atan2(E,S))<Math.PI/2?([c,u,h,f]=this.#r.subarray(2,6),this.#i.push(NaN,NaN,NaN,NaN,((c+h)/2-s)/r,((u+f)/2-i)/o),[c,u,_,k]=this.#r.subarray(14,18),this.#t.push(NaN,NaN,NaN,NaN,((_+c)/2-s)/r,((k+u)/2-i)/o),!0):([_,k,c,u,h,f]=this.#r.subarray(0,6),this.#i.push(((_+5*c)/6-s)/r,((k+5*u)/6-i)/o,((5*c+h)/6-s)/r,((5*u+f)/6-i)/o,((c+h)/2-s)/r,((u+f)/2-i)/o),[h,f,c,u,_,k]=this.#r.subarray(12,18),this.#t.push(((_+5*c)/6-s)/r,((k+5*u)/6-i)/o,((5*c+h)/6-s)/r,((5*u+f)/6-i)/o,((c+h)/2-s)/r,((u+f)/2-i)/o),!0))}toSVGPath(){if(this.isEmpty())return"";const e=this.#i,t=this.#t;if(isNaN(this.#r[6])&&!this.isEmpty())return this.#y();const s=[];s.push(`M${e[4]} ${e[5]}`);for(let i=6;i<e.length;i+=6)isNaN(e[i])?s.push(`L${e[i+4]} ${e[i+5]}`):s.push(`C${e[i]} ${e[i+1]} ${e[i+2]} ${e[i+3]} ${e[i+4]} ${e[i+5]}`);this.#v(s);for(let i=t.length-6;i>=6;i-=6)isNaN(t[i])?s.push(`L${t[i+4]} ${t[i+5]}`):s.push(`C${t[i]} ${t[i+1]} ${t[i+2]} ${t[i+3]} ${t[i+4]} ${t[i+5]}`);return this.#w(s),s.join(" ")}#y(){const[e,t,s,i]=this.#e,[r,o,c,u]=this.#m();return`M${(this.#r[2]-e)/s} ${(this.#r[3]-t)/i} L${(this.#r[4]-e)/s} ${(this.#r[5]-t)/i} L${r} ${o} L${c} ${u} L${(this.#r[16]-e)/s} ${(this.#r[17]-t)/i} L${(this.#r[14]-e)/s} ${(this.#r[15]-t)/i} Z`}#w(e){const t=this.#t;e.push(`L${t[4]} ${t[5]} Z`)}#v(e){const[t,s,i,r]=this.#e,o=this.#r.subarray(4,6),c=this.#r.subarray(16,18),[u,h,f,p]=this.#m();e.push(`L${(o[0]-t)/i} ${(o[1]-s)/r} L${u} ${h} L${f} ${p} L${(c[0]-t)/i} ${(c[1]-s)/r}`)}newFreeDrawOutline(e,t,s,i,r,o){return new wE(e,t,s,i,r,o)}getOutlines(){const e=this.#i,t=this.#t,s=this.#r,[i,r,o,c]=this.#e,u=new Float32Array((this.#f?.length??0)+2);for(let p=0,g=u.length-2;p<g;p+=2)u[p]=(this.#f[p]-i)/o,u[p+1]=(this.#f[p+1]-r)/c;if(u[u.length-2]=(this.#o-i)/o,u[u.length-1]=(this.#a-r)/c,isNaN(s[6])&&!this.isEmpty())return this.#E(u);const h=new Float32Array(this.#i.length+24+this.#t.length);let f=e.length;for(let p=0;p<f;p+=2){if(isNaN(e[p])){h[p]=h[p+1]=NaN;continue}h[p]=e[p],h[p+1]=e[p+1]}f=this.#x(h,f);for(let p=t.length-6;p>=6;p-=6)for(let g=0;g<6;g+=2){if(isNaN(t[p+g])){h[f]=h[f+1]=NaN,f+=2;continue}h[f]=t[p+g],h[f+1]=t[p+g+1],f+=2}return this.#A(h,f),this.newFreeDrawOutline(h,u,this.#e,this.#d,this.#s,this.#n)}#E(e){const t=this.#r,[s,i,r,o]=this.#e,[c,u,h,f]=this.#m(),p=new Float32Array(36);return p.set([NaN,NaN,NaN,NaN,(t[2]-s)/r,(t[3]-i)/o,NaN,NaN,NaN,NaN,(t[4]-s)/r,(t[5]-i)/o,NaN,NaN,NaN,NaN,c,u,NaN,NaN,NaN,NaN,h,f,NaN,NaN,NaN,NaN,(t[16]-s)/r,(t[17]-i)/o,NaN,NaN,NaN,NaN,(t[14]-s)/r,(t[15]-i)/o],0),this.newFreeDrawOutline(p,e,this.#e,this.#d,this.#s,this.#n)}#A(e,t){const s=this.#t;return e.set([NaN,NaN,NaN,NaN,s[4],s[5]],t),t+=6}#x(e,t){const s=this.#r.subarray(4,6),i=this.#r.subarray(16,18),[r,o,c,u]=this.#e,[h,f,p,g]=this.#m();return e.set([NaN,NaN,NaN,NaN,(s[0]-r)/c,(s[1]-o)/u,NaN,NaN,NaN,NaN,h,f,NaN,NaN,NaN,NaN,p,g,NaN,NaN,NaN,NaN,(i[0]-r)/c,(i[1]-o)/u],t),t+=24}}class wE extends me{#e;#t=new Float32Array(4);#s;#n;#i;#r;#o;constructor(e,t,s,i,r,o){super(),this.#o=e,this.#i=t,this.#e=s,this.#r=i,this.#s=r,this.#n=o,this.firstPoint=[NaN,NaN],this.lastPoint=[NaN,NaN],this.#a(o);const[c,u,h,f]=this.#t;for(let p=0,g=e.length;p<g;p+=2)e[p]=(e[p]-c)/h,e[p+1]=(e[p+1]-u)/f;for(let p=0,g=t.length;p<g;p+=2)t[p]=(t[p]-c)/h,t[p+1]=(t[p+1]-u)/f}toSVGPath(){const e=[`M${this.#o[4]} ${this.#o[5]}`];for(let t=6,s=this.#o.length;t<s;t+=6){if(isNaN(this.#o[t])){e.push(`L${this.#o[t+4]} ${this.#o[t+5]}`);continue}e.push(`C${this.#o[t]} ${this.#o[t+1]} ${this.#o[t+2]} ${this.#o[t+3]} ${this.#o[t+4]} ${this.#o[t+5]}`)}return e.push("Z"),e.join(" ")}serialize([e,t,s,i],r){const o=s-e,c=i-t;let u,h;switch(r){case 0:u=me._rescale(this.#o,e,i,o,-c),h=me._rescale(this.#i,e,i,o,-c);break;case 90:u=me._rescaleAndSwap(this.#o,e,t,o,c),h=me._rescaleAndSwap(this.#i,e,t,o,c);break;case 180:u=me._rescale(this.#o,s,t,-o,c),h=me._rescale(this.#i,s,t,-o,c);break;case 270:u=me._rescaleAndSwap(this.#o,s,i,-o,-c),h=me._rescaleAndSwap(this.#i,s,i,-o,-c);break}return{outline:Array.from(u),points:[Array.from(h)]}}#a(e){const t=this.#o;let s=t[4],i=t[5];const r=[s,i,s,i];let o=s,c=i,u=s,h=i;const f=e?Math.max:Math.min,p=new Float32Array(4);for(let w=6,A=t.length;w<A;w+=6){const x=t[w+4],S=t[w+5];isNaN(t[w])?(ge.pointBoundingBox(x,S,r),c>S?(o=x,c=S):c===S&&(o=f(o,x)),h<S?(u=x,h=S):h===S&&(u=f(u,x))):(p[0]=p[1]=1/0,p[2]=p[3]=-1/0,ge.bezierBoundingBox(s,i,...t.slice(w,w+6),p),ge.rectBoundingBox(p[0],p[1],p[2],p[3],r),c>p[1]?(o=p[0],c=p[1]):c===p[1]&&(o=f(o,p[0])),h<p[3]?(u=p[2],h=p[3]):h===p[3]&&(u=f(u,p[2]))),s=x,i=S}const g=this.#t;g[0]=r[0]-this.#s,g[1]=r[1]-this.#s,g[2]=r[2]-r[0]+2*this.#s,g[3]=r[3]-r[1]+2*this.#s,this.firstPoint=[o,c],this.lastPoint=[u,h]}get box(){return this.#t}newOutliner(e,t,s,i,r,o=0){return new rr(e,t,s,i,r,o)}getNewOutline(e,t){const[s,i,r,o]=this.#t,[c,u,h,f]=this.#e,p=r*h,g=o*f,w=s*h+c,A=i*f+u,x=this.newOutliner({x:this.#i[0]*p+w,y:this.#i[1]*g+A},this.#e,this.#r,e,this.#n,t??this.#s);for(let S=2;S<this.#i.length;S+=2)x.add({x:this.#i[S]*p+w,y:this.#i[S+1]*g+A});return x.getOutlines()}}class Mp{#e;#t;#s;#n=[];#i=[];constructor(e,t=0,s=0,i=!0){const r=[1/0,1/0,-1/0,-1/0],o=10**-4;for(const{x,y:S,width:E,height:_}of e){const k=Math.floor((x-t)/o)*o,T=Math.ceil((x+E+t)/o)*o,P=Math.floor((S-t)/o)*o,N=Math.ceil((S+_+t)/o)*o,M=[k,P,N,!0],I=[T,P,N,!1];this.#n.push(M,I),ge.rectBoundingBox(k,P,T,N,r)}const c=r[2]-r[0]+2*s,u=r[3]-r[1]+2*s,h=r[0]-s,f=r[1]-s;let p=i?-1/0:1/0,g=1/0;const w=this.#n.at(i?-1:-2),A=[w[0],w[2]];for(const x of this.#n){const[S,E,_,k]=x;!k&&i?E<g?(g=E,p=S):E===g&&(p=Math.max(p,S)):k&&!i&&(E<g?(g=E,p=S):E===g&&(p=Math.min(p,S))),x[0]=(S-h)/c,x[1]=(E-f)/u,x[2]=(_-f)/u}this.#e=new Float32Array([h,f,c,u]),this.#t=[p,g],this.#s=A}getOutlines(){this.#n.sort((t,s)=>t[0]-s[0]||t[1]-s[1]||t[2]-s[2]);const e=[];for(const t of this.#n)t[3]?(e.push(...this.#l(t)),this.#a(t)):(this.#c(t),e.push(...this.#l(t)));return this.#r(e)}#r(e){const t=[],s=new Set;for(const o of e){const[c,u,h]=o;t.push([c,u,o],[c,h,o])}t.sort((o,c)=>o[1]-c[1]||o[0]-c[0]);for(let o=0,c=t.length;o<c;o+=2){const u=t[o][2],h=t[o+1][2];u.push(h),h.push(u),s.add(u),s.add(h)}const i=[];let r;for(;s.size>0;){const o=s.values().next().value;let[c,u,h,f,p]=o;s.delete(o);let g=c,w=u;for(r=[c,h],i.push(r);;){let A;if(s.has(f))A=f;else if(s.has(p))A=p;else break;s.delete(A),[c,u,h,f,p]=A,g!==c&&(r.push(g,w,c,w===u?u:h),g=c),w=w===u?h:u}r.push(g,w)}return new tz(i,this.#e,this.#t,this.#s)}#o(e){const t=this.#i;let s=0,i=t.length-1;for(;s<=i;){const r=s+i>>1,o=t[r][0];if(o===e)return r;o<e?s=r+1:i=r-1}return i+1}#a([,e,t]){const s=this.#o(e);this.#i.splice(s,0,[e,t])}#c([,e,t]){const s=this.#o(e);for(let i=s;i<this.#i.length;i++){const[r,o]=this.#i[i];if(r!==e)break;if(r===e&&o===t){this.#i.splice(i,1);return}}for(let i=s-1;i>=0;i--){const[r,o]=this.#i[i];if(r!==e)break;if(r===e&&o===t){this.#i.splice(i,1);return}}}#l(e){const[t,s,i]=e,r=[[t,s,i]],o=this.#o(i);for(let c=0;c<o;c++){const[u,h]=this.#i[c];for(let f=0,p=r.length;f<p;f++){const[,g,w]=r[f];if(!(h<=g||w<=u)){if(g>=u){if(w>h)r[f][1]=h;else{if(p===1)return[];r.splice(f,1),f--,p--}continue}r[f][2]=u,w>h&&r.push([t,h,w])}}}return r}}class tz extends me{#e;#t;constructor(e,t,s,i){super(),this.#t=e,this.#e=t,this.firstPoint=s,this.lastPoint=i}toSVGPath(){const e=[];for(const t of this.#t){let[s,i]=t;e.push(`M${s} ${i}`);for(let r=2;r<t.length;r+=2){const o=t[r],c=t[r+1];o===s?(e.push(`V${c}`),i=c):c===i&&(e.push(`H${o}`),s=o)}e.push("Z")}return e.join(" ")}serialize([e,t,s,i],r){const o=[],c=s-e,u=i-t;for(const h of this.#t){const f=new Array(h.length);for(let p=0;p<h.length;p+=2)f[p]=e+h[p]*c,f[p+1]=i-h[p+1]*u;o.push(f)}return o}get box(){return this.#e}get classNamesForOutlining(){return["highlightOutline"]}}class Dp extends rr{newFreeDrawOutline(e,t,s,i,r,o){return new nz(e,t,s,i,r,o)}}class nz extends wE{newOutliner(e,t,s,i,r,o=0){return new Dp(e,t,s,i,r,o)}}class Ct extends _e{#e=null;#t=0;#s;#n=null;#i=null;#r=null;#o=null;#a=0;#c=null;#l=null;#d=null;#h=!1;#f=null;#g=null;#p=null;#u="";#m;#y="";static _defaultColor=null;static _defaultOpacity=1;static _defaultThickness=12;static _type="highlight";static _editorType=Ie.HIGHLIGHT;static _freeHighlightId=-1;static _freeHighlight=null;static _freeHighlightClipId="";static get _keyboardManager(){const e=Ct.prototype;return Ve(this,"_keyboardManager",new vl([[["ArrowLeft","mac+ArrowLeft"],e._moveCaret,{args:[0]}],[["ArrowRight","mac+ArrowRight"],e._moveCaret,{args:[1]}],[["ArrowUp","mac+ArrowUp"],e._moveCaret,{args:[2]}],[["ArrowDown","mac+ArrowDown"],e._moveCaret,{args:[3]}]]))}constructor(e){super({...e,name:"highlightEditor"}),this.color=e.color||Ct._defaultColor,this.#m=e.thickness||Ct._defaultThickness,this.opacity=e.opacity||Ct._defaultOpacity,this.#s=e.boxes||null,this.#y=e.methodOfCreation||"",this.#u=e.text||"",this._isDraggable=!1,this.defaultL10nId="pdfjs-editor-highlight-editor",e.highlightId>-1?(this.#h=!0,this.#v(e),this.#S()):this.#s&&(this.#e=e.anchorNode,this.#t=e.anchorOffset,this.#o=e.focusNode,this.#a=e.focusOffset,this.#w(),this.#S(),this.rotate(this.rotation)),this.annotationElementId||this._uiManager.a11yAlert("pdfjs-editor-highlight-added-alert")}get telemetryInitialData(){return{action:"added",type:this.#h?"free_highlight":"highlight",color:this._uiManager.getNonHCMColorName(this.color),thickness:this.#m,methodOfCreation:this.#y}}get telemetryFinalData(){return{type:"highlight",color:this._uiManager.getNonHCMColorName(this.color)}}static computeTelemetryFinalData(e){return{numberOfColors:e.get("color").size}}#w(){const e=new Mp(this.#s,.001);this.#l=e.getOutlines(),[this.x,this.y,this.width,this.height]=this.#l.box;const t=new Mp(this.#s,.0025,.001,this._uiManager.direction==="ltr");this.#r=t.getOutlines();const{firstPoint:s}=this.#l;this.#f=[(s[0]-this.x)/this.width,(s[1]-this.y)/this.height];const{lastPoint:i}=this.#r;this.#g=[(i[0]-this.x)/this.width,(i[1]-this.y)/this.height]}#v({highlightOutlines:e,highlightId:t,clipPathId:s}){this.#l=e;const i=1.5;if(this.#r=e.getNewOutline(this.#m/2+i,.0025),t>=0)this.#d=t,this.#n=s,this.parent.drawLayer.finalizeDraw(t,{bbox:e.box,path:{d:e.toSVGPath()}}),this.#p=this.parent.drawLayer.drawOutline({rootClass:{highlightOutline:!0,free:!0},bbox:this.#r.box,path:{d:this.#r.toSVGPath()}},!0);else if(this.parent){const p=this.parent.viewport.rotation;this.parent.drawLayer.updateProperties(this.#d,{bbox:Ct.#_(this.#l.box,(p-this.rotation+360)%360),path:{d:e.toSVGPath()}}),this.parent.drawLayer.updateProperties(this.#p,{bbox:Ct.#_(this.#r.box,p),path:{d:this.#r.toSVGPath()}})}const[r,o,c,u]=e.box;switch(this.rotation){case 0:this.x=r,this.y=o,this.width=c,this.height=u;break;case 90:{const[p,g]=this.parentDimensions;this.x=o,this.y=1-r,this.width=c*g/p,this.height=u*p/g;break}case 180:this.x=1-r,this.y=1-o,this.width=c,this.height=u;break;case 270:{const[p,g]=this.parentDimensions;this.x=1-o,this.y=r,this.width=c*g/p,this.height=u*p/g;break}}const{firstPoint:h}=e;this.#f=[(h[0]-r)/c,(h[1]-o)/u];const{lastPoint:f}=this.#r;this.#g=[(f[0]-r)/c,(f[1]-o)/u]}static initialize(e,t){_e.initialize(e,t),Ct._defaultColor||=t.highlightColors?.values().next().value||"#fff066"}static updateDefaultParams(e,t){switch(e){case Ge.HIGHLIGHT_COLOR:Ct._defaultColor=t;break;case Ge.HIGHLIGHT_THICKNESS:Ct._defaultThickness=t;break}}translateInPage(e,t){}get toolbarPosition(){return this.#g}get commentButtonPosition(){return this.#f}updateParams(e,t){switch(e){case Ge.HIGHLIGHT_COLOR:this.#E(t);break;case Ge.HIGHLIGHT_THICKNESS:this.#A(t);break}}static get defaultPropertiesToUpdate(){return[[Ge.HIGHLIGHT_COLOR,Ct._defaultColor],[Ge.HIGHLIGHT_THICKNESS,Ct._defaultThickness]]}get propertiesToUpdate(){return[[Ge.HIGHLIGHT_COLOR,this.color||Ct._defaultColor],[Ge.HIGHLIGHT_THICKNESS,this.#m||Ct._defaultThickness],[Ge.HIGHLIGHT_FREE,this.#h]]}onUpdatedColor(){this.parent?.drawLayer.updateProperties(this.#d,{root:{fill:this.color,"fill-opacity":this.opacity}}),this.#i?.updateColor(this.color),super.onUpdatedColor()}#E(e){const t=(r,o)=>{this.color=r,this.opacity=o,this.onUpdatedColor()},s=this.color,i=this.opacity;this.addCommands({cmd:t.bind(this,e,Ct._defaultOpacity),undo:t.bind(this,s,i),post:this._uiManager.updateUI.bind(this._uiManager,this),mustExec:!0,type:Ge.HIGHLIGHT_COLOR,overwriteIfSameType:!0,keepUndo:!0}),this._reportTelemetry({action:"color_changed",color:this._uiManager.getNonHCMColorName(e)},!0)}#A(e){const t=this.#m,s=i=>{this.#m=i,this.#x(i)};this.addCommands({cmd:s.bind(this,e),undo:s.bind(this,t),post:this._uiManager.updateUI.bind(this._uiManager,this),mustExec:!0,type:Ge.INK_THICKNESS,overwriteIfSameType:!0,keepUndo:!0}),this._reportTelemetry({action:"thickness_changed",thickness:e},!0)}get toolbarButtons(){return this._uiManager.highlightColors?[["colorPicker",this.#i=new On({editor:this})]]:super.toolbarButtons}disableEditing(){super.disableEditing(),this.div.classList.toggle("disabled",!0)}enableEditing(){super.enableEditing(),this.div.classList.toggle("disabled",!1)}fixAndSetPosition(){return super.fixAndSetPosition(this.#P())}getBaseTranslation(){return[0,0]}getRect(e,t){return super.getRect(e,t,this.#P())}onceAdded(e){this.annotationElementId||this.parent.addUndoableEditor(this),e&&this.div.focus()}remove(){this.#C(),this._reportTelemetry({action:"deleted"}),super.remove()}rebuild(){this.parent&&(super.rebuild(),this.div!==null&&(this.#S(),this.isAttachedToDOM||this.parent.add(this)))}setParent(e){let t=!1;this.parent&&!e?this.#C():e&&(this.#S(e),t=!this.parent&&this.div?.classList.contains("selectedEditor")),super.setParent(e),this.show(this._isVisible),t&&this.select()}#x(e){this.#h&&(this.#v({highlightOutlines:this.#l.getNewOutline(e/2)}),this.fixAndSetPosition(),this.setDims(this.width,this.height))}#C(){this.#d===null||!this.parent||(this.parent.drawLayer.remove(this.#d),this.#d=null,this.parent.drawLayer.remove(this.#p),this.#p=null)}#S(e=this.parent){this.#d===null&&({id:this.#d,clipPathId:this.#n}=e.drawLayer.draw({bbox:this.#l.box,root:{viewBox:"0 0 1 1",fill:this.color,"fill-opacity":this.opacity},rootClass:{highlight:!0,free:this.#h},path:{d:this.#l.toSVGPath()}},!1,!0),this.#p=e.drawLayer.drawOutline({rootClass:{highlightOutline:!0,free:this.#h},bbox:this.#r.box,path:{d:this.#r.toSVGPath()}},this.#h),this.#c&&(this.#c.style.clipPath=this.#n))}static#_([e,t,s,i],r){switch(r){case 90:return[1-t-i,e,i,s];case 180:return[1-e-s,1-t-i,s,i];case 270:return[t,1-e-s,i,s]}return[e,t,s,i]}rotate(e){const{drawLayer:t}=this.parent;let s;this.#h?(e=(e-this.rotation+360)%360,s=Ct.#_(this.#l.box,e)):s=Ct.#_([this.x,this.y,this.width,this.height],e),t.updateProperties(this.#d,{bbox:s,root:{"data-main-rotation":e}}),t.updateProperties(this.#p,{bbox:Ct.#_(this.#r.box,e),root:{"data-main-rotation":e}})}render(){if(this.div)return this.div;const e=super.render();this.#u&&(e.setAttribute("aria-label",this.#u),e.setAttribute("role","mark")),this.#h?e.classList.add("free"):this.div.addEventListener("keydown",this.#F.bind(this),{signal:this._uiManager._signal});const t=this.#c=document.createElement("div");return e.append(t),t.setAttribute("aria-hidden","true"),t.className="internal",t.style.clipPath=this.#n,this.setDims(this.width,this.height),XS(this,this.#c,["pointerover","pointerleave"]),this.enableEditing(),e}pointerover(){this.isSelected||this.parent?.drawLayer.updateProperties(this.#p,{rootClass:{hovered:!0}})}pointerleave(){this.isSelected||this.parent?.drawLayer.updateProperties(this.#p,{rootClass:{hovered:!1}})}#F(e){Ct._keyboardManager.exec(this,e)}_moveCaret(e){switch(this.parent.unselect(this),e){case 0:case 2:this.#T(!0);break;case 1:case 3:this.#T(!1);break}}#T(e){if(!this.#e)return;const t=window.getSelection();e?t.setPosition(this.#e,this.#t):t.setPosition(this.#o,this.#a)}select(){super.select(),this.#p&&this.parent?.drawLayer.updateProperties(this.#p,{rootClass:{hovered:!1,selected:!0}})}unselect(){super.unselect(),this.#p&&(this.parent?.drawLayer.updateProperties(this.#p,{rootClass:{selected:!1}}),this.#h||this.#T(!1))}get _mustFixPosition(){return!this.#h}show(e=this._isVisible){super.show(e),this.parent&&(this.parent.drawLayer.updateProperties(this.#d,{rootClass:{hidden:!e}}),this.parent.drawLayer.updateProperties(this.#p,{rootClass:{hidden:!e}}))}#P(){return this.#h?this.rotation:0}#O(){if(this.#h)return null;const[e,t]=this.pageDimensions,[s,i]=this.pageTranslation,r=this.#s,o=new Float32Array(r.length*8);let c=0;for(const{x:u,y:h,width:f,height:p}of r){const g=u*e+s,w=(1-h)*t+i;o[c]=o[c+4]=g,o[c+1]=o[c+3]=w,o[c+2]=o[c+6]=g+f*e,o[c+5]=o[c+7]=w-p*t,c+=8}return o}#N(e){return this.#l.serialize(e,this.#P())}static startHighlighting(e,t,{target:s,x:i,y:r}){const{x:o,y:c,width:u,height:h}=s.getBoundingClientRect(),f=new AbortController,p=e.combinedSignal(f),g=w=>{f.abort(),this.#j(e,w)};window.addEventListener("blur",g,{signal:p}),window.addEventListener("pointerup",g,{signal:p}),window.addEventListener("pointerdown",yt,{capture:!0,passive:!1,signal:p}),window.addEventListener("contextmenu",$n,{signal:p}),s.addEventListener("pointermove",this.#D.bind(this,e),{signal:p}),this._freeHighlight=new Dp({x:i,y:r},[o,c,u,h],e.scale,this._defaultThickness/2,t,.001),{id:this._freeHighlightId,clipPathId:this._freeHighlightClipId}=e.drawLayer.draw({bbox:[0,0,1,1],root:{viewBox:"0 0 1 1",fill:this._defaultColor,"fill-opacity":this._defaultOpacity},rootClass:{highlight:!0,free:!0},path:{d:this._freeHighlight.toSVGPath()}},!0,!0)}static#D(e,t){this._freeHighlight.add(t)&&e.drawLayer.updateProperties(this._freeHighlightId,{path:{d:this._freeHighlight.toSVGPath()}})}static#j(e,t){this._freeHighlight.isEmpty()?e.drawLayer.remove(this._freeHighlightId):e.createAndAddNewEditor(t,!1,{highlightId:this._freeHighlightId,highlightOutlines:this._freeHighlight.getOutlines(),clipPathId:this._freeHighlightClipId,methodOfCreation:"main_toolbar"}),this._freeHighlightId=-1,this._freeHighlight=null,this._freeHighlightClipId=""}static async deserialize(e,t,s){let i=null;if(e instanceof gE){const{data:{quadPoints:A,rect:x,rotation:S,id:E,color:_,opacity:k,popupRef:T,richText:P,contentsObj:N,creationDate:M,modificationDate:I},parent:{page:{pageNumber:$}}}=e;i=e={annotationType:Ie.HIGHLIGHT,color:Array.from(_),opacity:k,quadPoints:A,boxes:null,pageIndex:$-1,rect:x.slice(0),rotation:S,annotationElementId:E,id:E,deleted:!1,popupRef:T,richText:P,comment:N?.str||null,creationDate:M,modificationDate:I}}else if(e instanceof hg){const{data:{inkLists:A,rect:x,rotation:S,id:E,color:_,borderStyle:{rawWidth:k},popupRef:T,richText:P,contentsObj:N,creationDate:M,modificationDate:I},parent:{page:{pageNumber:$}}}=e;i=e={annotationType:Ie.HIGHLIGHT,color:Array.from(_),thickness:k,inkLists:A,boxes:null,pageIndex:$-1,rect:x.slice(0),rotation:S,annotationElementId:E,id:E,deleted:!1,popupRef:T,richText:P,comment:N?.str||null,creationDate:M,modificationDate:I}}const{color:r,quadPoints:o,inkLists:c,opacity:u}=e,h=await super.deserialize(e,t,s);h.color=ge.makeHexColor(...r),h.opacity=u||1,c&&(h.#m=e.thickness),h._initialData=i,e.comment&&h.setCommentData(e);const[f,p]=h.pageDimensions,[g,w]=h.pageTranslation;if(o){const A=h.#s=[];for(let x=0;x<o.length;x+=8)A.push({x:(o[x]-g)/f,y:1-(o[x+1]-w)/p,width:(o[x+2]-o[x])/f,height:(o[x+1]-o[x+5])/p});h.#w(),h.#S(),h.rotate(h.rotation)}else if(c){h.#h=!0;const A=c[0],x={x:A[0]-g,y:p-(A[1]-w)},S=new Dp(x,[0,0,f,p],1,h.#m/2,!0,.001);for(let k=0,T=A.length;k<T;k+=2)x.x=A[k]-g,x.y=p-(A[k+1]-w),S.add(x);const{id:E,clipPathId:_}=t.drawLayer.draw({bbox:[0,0,1,1],root:{viewBox:"0 0 1 1",fill:h.color,"fill-opacity":h._defaultOpacity},rootClass:{highlight:!0,free:!0},path:{d:S.toSVGPath()}},!0,!0);h.#v({highlightOutlines:S.getOutlines(),highlightId:E,clipPathId:_}),h.#S(),h.rotate(h.parentRotation)}return h}serialize(e=!1){if(this.isEmpty()||e)return null;if(this.deleted)return this.serializeDeleted();const t=_e._colorManager.convert(this._uiManager.getNonHCMColor(this.color)),s=super.serialize(e);return Object.assign(s,{color:t,opacity:this.opacity,thickness:this.#m,quadPoints:this.#O(),outlines:this.#N(s.rect)}),this.addComment(s),this.annotationElementId&&!this.#L(s)?null:(s.id=this.annotationElementId,s)}#L(e){const{color:t}=this._initialData;return this.hasEditedComment||e.color.some((s,i)=>s!==t[i])}renderAnnotationElement(e){return this.deleted?(e.hide(),null):(e.updateEdited({rect:this.getPDFRect(),popup:this.comment}),null)}static canCreateNewEmptyEditor(){return!1}}class xE{#e=Object.create(null);updateProperty(e,t){this[e]=t,this.updateSVGProperty(e,t)}updateProperties(e){if(e)for(const[t,s]of Object.entries(e))t.startsWith("_")||this.updateProperty(t,s)}updateSVGProperty(e,t){this.#e[e]=t}toSVGProperties(){const e=this.#e;return this.#e=Object.create(null),{root:e}}reset(){this.#e=Object.create(null)}updateAll(e=this){this.updateProperties(e)}clone(){nt("Not implemented")}}class Fe extends _e{#e=null;#t;_colorPicker=null;_drawId=null;static _currentDrawId=-1;static _currentParent=null;static#s=null;static#n=null;static#i=null;static#r=NaN;static#o=null;static#a=null;static#c=NaN;static _INNER_MARGIN=3;constructor(e){super(e),this.#t=e.mustBeCommitted||!1,this._addOutlines(e)}onUpdatedColor(){this._colorPicker?.update(this.color),super.onUpdatedColor()}_addOutlines(e){e.drawOutlines&&(this.#l(e),this.#f())}#l({drawOutlines:e,drawId:t,drawingOptions:s}){this.#e=e,this._drawingOptions||=s,this.annotationElementId||this._uiManager.a11yAlert(`pdfjs-editor-${this.editorType}-added-alert`),t>=0?(this._drawId=t,this.parent.drawLayer.finalizeDraw(t,e.defaultProperties)):this._drawId=this.#d(e,this.parent),this.#u(e.box)}#d(e,t){const{id:s}=t.drawLayer.draw(Fe._mergeSVGProperties(this._drawingOptions.toSVGProperties(),e.defaultSVGProperties),!1,!1);return s}static _mergeSVGProperties(e,t){const s=new Set(Object.keys(e));for(const[i,r]of Object.entries(t))s.has(i)?Object.assign(e[i],r):e[i]=r;return e}static getDefaultDrawingOptions(e){nt("Not implemented")}static get typesMap(){nt("Not implemented")}static get isDrawer(){return!0}static get supportMultipleDrawings(){return!1}static updateDefaultParams(e,t){const s=this.typesMap.get(e);s&&this._defaultDrawingOptions.updateProperty(s,t),this._currentParent&&(Fe.#s.updateProperty(s,t),this._currentParent.drawLayer.updateProperties(this._currentDrawId,this._defaultDrawingOptions.toSVGProperties()))}updateParams(e,t){const s=this.constructor.typesMap.get(e);s&&this._updateProperty(e,s,t)}static get defaultPropertiesToUpdate(){const e=[],t=this._defaultDrawingOptions;for(const[s,i]of this.typesMap)e.push([s,t[i]]);return e}get propertiesToUpdate(){const e=[],{_drawingOptions:t}=this;for(const[s,i]of this.constructor.typesMap)e.push([s,t[i]]);return e}_updateProperty(e,t,s){const i=this._drawingOptions,r=i[t],o=c=>{i.updateProperty(t,c);const u=this.#e.updateProperty(t,c);u&&this.#u(u),this.parent?.drawLayer.updateProperties(this._drawId,i.toSVGProperties()),e===this.colorType&&this.onUpdatedColor()};this.addCommands({cmd:o.bind(this,s),undo:o.bind(this,r),post:this._uiManager.updateUI.bind(this._uiManager,this),mustExec:!0,type:e,overwriteIfSameType:!0,keepUndo:!0})}_onResizing(){this.parent?.drawLayer.updateProperties(this._drawId,Fe._mergeSVGProperties(this.#e.getPathResizingSVGProperties(this.#p()),{bbox:this.#m()}))}_onResized(){this.parent?.drawLayer.updateProperties(this._drawId,Fe._mergeSVGProperties(this.#e.getPathResizedSVGProperties(this.#p()),{bbox:this.#m()}))}_onTranslating(e,t){this.parent?.drawLayer.updateProperties(this._drawId,{bbox:this.#m()})}_onTranslated(){this.parent?.drawLayer.updateProperties(this._drawId,Fe._mergeSVGProperties(this.#e.getPathTranslatedSVGProperties(this.#p(),this.parentDimensions),{bbox:this.#m()}))}_onStartDragging(){this.parent?.drawLayer.updateProperties(this._drawId,{rootClass:{moving:!0}})}_onStopDragging(){this.parent?.drawLayer.updateProperties(this._drawId,{rootClass:{moving:!1}})}commit(){super.commit(),this.disableEditMode(),this.disableEditing()}disableEditing(){super.disableEditing(),this.div.classList.toggle("disabled",!0)}enableEditing(){super.enableEditing(),this.div.classList.toggle("disabled",!1)}getBaseTranslation(){return[0,0]}get isResizable(){return!0}onceAdded(e){this.annotationElementId||this.parent.addUndoableEditor(this),this._isDraggable=!0,this.#t&&(this.#t=!1,this.commit(),this.parent.setSelected(this),e&&this.isOnScreen&&this.div.focus())}remove(){this.#h(),super.remove()}rebuild(){this.parent&&(super.rebuild(),this.div!==null&&(this.#f(),this.#u(this.#e.box),this.isAttachedToDOM||this.parent.add(this)))}setParent(e){let t=!1;this.parent&&!e?(this._uiManager.removeShouldRescale(this),this.#h()):e&&(this._uiManager.addShouldRescale(this),this.#f(e),t=!this.parent&&this.div?.classList.contains("selectedEditor")),super.setParent(e),t&&this.select()}#h(){this._drawId===null||!this.parent||(this.parent.drawLayer.remove(this._drawId),this._drawId=null,this._drawingOptions.reset())}#f(e=this.parent){if(!(this._drawId!==null&&this.parent===e)){if(this._drawId!==null){this.parent.drawLayer.updateParent(this._drawId,e.drawLayer);return}this._drawingOptions.updateAll(),this._drawId=this.#d(this.#e,e)}}#g([e,t,s,i]){const{parentDimensions:[r,o],rotation:c}=this;switch(c){case 90:return[t,1-e,s*(o/r),i*(r/o)];case 180:return[1-e,1-t,s,i];case 270:return[1-t,e,s*(o/r),i*(r/o)];default:return[e,t,s,i]}}#p(){const{x:e,y:t,width:s,height:i,parentDimensions:[r,o],rotation:c}=this;switch(c){case 90:return[1-t,e,s*(r/o),i*(o/r)];case 180:return[1-e,1-t,s,i];case 270:return[t,1-e,s*(r/o),i*(o/r)];default:return[e,t,s,i]}}#u(e){[this.x,this.y,this.width,this.height]=this.#g(e),this.div&&(this.fixAndSetPosition(),this.setDims()),this._onResized()}#m(){const{x:e,y:t,width:s,height:i,rotation:r,parentRotation:o,parentDimensions:[c,u]}=this;switch((r*4+o)/90){case 1:return[1-t-i,e,i,s];case 2:return[1-e-s,1-t-i,s,i];case 3:return[t,1-e-s,i,s];case 4:return[e,t-s*(c/u),i*(u/c),s*(c/u)];case 5:return[1-t,e,s*(c/u),i*(u/c)];case 6:return[1-e-i*(u/c),1-t,i*(u/c),s*(c/u)];case 7:return[t-s*(c/u),1-e-i*(u/c),s*(c/u),i*(u/c)];case 8:return[e-s,t-i,s,i];case 9:return[1-t,e-s,i,s];case 10:return[1-e,1-t,s,i];case 11:return[t-i,1-e,i,s];case 12:return[e-i*(u/c),t,i*(u/c),s*(c/u)];case 13:return[1-t-s*(c/u),e-i*(u/c),s*(c/u),i*(u/c)];case 14:return[1-e,1-t-s*(c/u),i*(u/c),s*(c/u)];case 15:return[t,1-e,s*(c/u),i*(u/c)];default:return[e,t,s,i]}}rotate(){this.parent&&this.parent.drawLayer.updateProperties(this._drawId,Fe._mergeSVGProperties({bbox:this.#m()},this.#e.updateRotation((this.parentRotation-this.rotation+360)%360)))}onScaleChanging(){this.parent&&this.#u(this.#e.updateParentDimensions(this.parentDimensions,this.parent.scale))}static onScaleChangingWhenDrawing(){}render(){if(this.div)return this.div;let e,t;this._isCopy&&(e=this.x,t=this.y);const s=super.render();s.classList.add("draw");const i=document.createElement("div");return s.append(i),i.setAttribute("aria-hidden","true"),i.className="internal",this.setDims(),this._uiManager.addShouldRescale(this),this.disableEditing(),this._isCopy&&this._moveAfterPaste(e,t),s}static createDrawerInstance(e,t,s,i,r){nt("Not implemented")}static startDrawing(e,t,s,i){const{target:r,offsetX:o,offsetY:c,pointerId:u,pointerType:h}=i;if(Fe.#o&&Fe.#o!==h)return;const{viewport:{rotation:f}}=e,{width:p,height:g}=r.getBoundingClientRect(),w=Fe.#n=new AbortController,A=e.combinedSignal(w);if(Fe.#r||=u,Fe.#o??=h,window.addEventListener("pointerup",x=>{Fe.#r===x.pointerId?this._endDraw(x):Fe.#a?.delete(x.pointerId)},{signal:A}),window.addEventListener("pointercancel",x=>{Fe.#r===x.pointerId?this._currentParent.endDrawingSession():Fe.#a?.delete(x.pointerId)},{signal:A}),window.addEventListener("pointerdown",x=>{Fe.#o===x.pointerType&&((Fe.#a||=new Set).add(x.pointerId),Fe.#s.isCancellable()&&(Fe.#s.removeLastElement(),Fe.#s.isEmpty()?this._currentParent.endDrawingSession(!0):this._endDraw(null)))},{capture:!0,passive:!1,signal:A}),window.addEventListener("contextmenu",$n,{signal:A}),r.addEventListener("pointermove",this._drawMove.bind(this),{signal:A}),r.addEventListener("touchmove",x=>{x.timeStamp===Fe.#c&&yt(x)},{signal:A}),e.toggleDrawing(),t._editorUndoBar?.hide(),Fe.#s){e.drawLayer.updateProperties(this._currentDrawId,Fe.#s.startNew(o,c,p,g,f));return}t.updateUIForDefaultProperties(this),Fe.#s=this.createDrawerInstance(o,c,p,g,f),Fe.#i=this.getDefaultDrawingOptions(),this._currentParent=e,{id:this._currentDrawId}=e.drawLayer.draw(this._mergeSVGProperties(Fe.#i.toSVGProperties(),Fe.#s.defaultSVGProperties),!0,!1)}static _drawMove(e){if(Fe.#c=-1,!Fe.#s)return;const{offsetX:t,offsetY:s,pointerId:i}=e;if(Fe.#r===i){if(Fe.#a?.size>=1){this._endDraw(e);return}this._currentParent.drawLayer.updateProperties(this._currentDrawId,Fe.#s.add(t,s)),Fe.#c=e.timeStamp,yt(e)}}static _cleanup(e){e&&(this._currentDrawId=-1,this._currentParent=null,Fe.#s=null,Fe.#i=null,Fe.#o=null,Fe.#c=NaN),Fe.#n&&(Fe.#n.abort(),Fe.#n=null,Fe.#r=NaN,Fe.#a=null)}static _endDraw(e){const t=this._currentParent;if(t){if(t.toggleDrawing(!0),this._cleanup(!1),e?.target===t.div&&t.drawLayer.updateProperties(this._currentDrawId,Fe.#s.end(e.offsetX,e.offsetY)),this.supportMultipleDrawings){const s=Fe.#s,i=this._currentDrawId,r=s.getLastElement();t.addCommands({cmd:()=>{t.drawLayer.updateProperties(i,s.setLastElement(r))},undo:()=>{t.drawLayer.updateProperties(i,s.removeLastElement())},mustExec:!1,type:Ge.DRAW_STEP});return}this.endDrawing(!1)}}static endDrawing(e){const t=this._currentParent;if(!t)return null;if(t.toggleDrawing(!0),t.cleanUndoStack(Ge.DRAW_STEP),!Fe.#s.isEmpty()){const{pageDimensions:[s,i],scale:r}=t,o=t.createAndAddNewEditor({offsetX:0,offsetY:0},!1,{drawId:this._currentDrawId,drawOutlines:Fe.#s.getOutlines(s*r,i*r,r,this._INNER_MARGIN),drawingOptions:Fe.#i,mustBeCommitted:!e});return this._cleanup(!0),o}return t.drawLayer.remove(this._currentDrawId),this._cleanup(!0),null}createDrawingOptions(e){}static deserializeDraw(e,t,s,i,r,o){nt("Not implemented")}static async deserialize(e,t,s){const{rawDims:{pageWidth:i,pageHeight:r,pageX:o,pageY:c}}=t.viewport,u=this.deserializeDraw(o,c,i,r,this._INNER_MARGIN,e),h=await super.deserialize(e,t,s);return h.createDrawingOptions(e),h.#l({drawOutlines:u}),h.#f(),h.onScaleChanging(),h.rotate(),h}serializeDraw(e){const[t,s]=this.pageTranslation,[i,r]=this.pageDimensions;return this.#e.serialize([t,s,i,r],e)}renderAnnotationElement(e){return e.updateEdited({rect:this.getPDFRect()}),null}static canCreateNewEmptyEditor(){return!1}}class sz{#e=new Float64Array(6);#t;#s;#n;#i;#r;#o="";#a=0;#c=new bl;#l;#d;constructor(e,t,s,i,r,o){this.#l=s,this.#d=i,this.#n=r,this.#i=o,[e,t]=this.#h(e,t);const c=this.#t=[NaN,NaN,NaN,NaN,e,t];this.#r=[e,t],this.#s=[{line:c,points:this.#r}],this.#e.set(c,0)}updateProperty(e,t){e==="stroke-width"&&(this.#i=t)}#h(e,t){return me._normalizePoint(e,t,this.#l,this.#d,this.#n)}isEmpty(){return!this.#s||this.#s.length===0}isCancellable(){return this.#r.length<=10}add(e,t){[e,t]=this.#h(e,t);const[s,i,r,o]=this.#e.subarray(2,6),c=e-r,u=t-o;return Math.hypot(this.#l*c,this.#d*u)<=2?null:(this.#r.push(e,t),isNaN(s)?(this.#e.set([r,o,e,t],2),this.#t.push(NaN,NaN,NaN,NaN,e,t),{path:{d:this.toSVGPath()}}):(isNaN(this.#e[0])&&this.#t.splice(6,6),this.#e.set([s,i,r,o,e,t],0),this.#t.push(...me.createBezierPoints(s,i,r,o,e,t)),{path:{d:this.toSVGPath()}}))}end(e,t){const s=this.add(e,t);return s||(this.#r.length===2?{path:{d:this.toSVGPath()}}:null)}startNew(e,t,s,i,r){this.#l=s,this.#d=i,this.#n=r,[e,t]=this.#h(e,t);const o=this.#t=[NaN,NaN,NaN,NaN,e,t];this.#r=[e,t];const c=this.#s.at(-1);return c&&(c.line=new Float32Array(c.line),c.points=new Float32Array(c.points)),this.#s.push({line:o,points:this.#r}),this.#e.set(o,0),this.#a=0,this.toSVGPath(),null}getLastElement(){return this.#s.at(-1)}setLastElement(e){return this.#s?(this.#s.push(e),this.#t=e.line,this.#r=e.points,this.#a=0,{path:{d:this.toSVGPath()}}):this.#c.setLastElement(e)}removeLastElement(){if(!this.#s)return this.#c.removeLastElement();this.#s.pop(),this.#o="";for(let e=0,t=this.#s.length;e<t;e++){const{line:s,points:i}=this.#s[e];this.#t=s,this.#r=i,this.#a=0,this.toSVGPath()}return{path:{d:this.#o}}}toSVGPath(){const e=me.svgRound(this.#t[4]),t=me.svgRound(this.#t[5]);if(this.#r.length===2)return this.#o=`${this.#o} M ${e} ${t} Z`,this.#o;if(this.#r.length<=6){const i=this.#o.lastIndexOf("M");this.#o=`${this.#o.slice(0,i)} M ${e} ${t}`,this.#a=6}if(this.#r.length===4){const i=me.svgRound(this.#t[10]),r=me.svgRound(this.#t[11]);return this.#o=`${this.#o} L ${i} ${r}`,this.#a=12,this.#o}const s=[];this.#a===0&&(s.push(`M ${e} ${t}`),this.#a=6);for(let i=this.#a,r=this.#t.length;i<r;i+=6){const[o,c,u,h,f,p]=this.#t.slice(i,i+6).map(me.svgRound);s.push(`C${o} ${c} ${u} ${h} ${f} ${p}`)}return this.#o+=s.join(" "),this.#a=this.#t.length,this.#o}getOutlines(e,t,s,i){const r=this.#s.at(-1);return r.line=new Float32Array(r.line),r.points=new Float32Array(r.points),this.#c.build(this.#s,e,t,s,this.#n,this.#i,i),this.#e=null,this.#t=null,this.#s=null,this.#o=null,this.#c}get defaultSVGProperties(){return{root:{viewBox:"0 0 10000 10000"},rootClass:{draw:!0},bbox:[0,0,1,1]}}}class bl extends me{#e;#t=0;#s;#n;#i;#r;#o;#a;#c;build(e,t,s,i,r,o,c){this.#i=t,this.#r=s,this.#o=i,this.#a=r,this.#c=o,this.#s=c??0,this.#n=e,this.#h()}get thickness(){return this.#c}setLastElement(e){return this.#n.push(e),{path:{d:this.toSVGPath()}}}removeLastElement(){return this.#n.pop(),{path:{d:this.toSVGPath()}}}toSVGPath(){const e=[];for(const{line:t}of this.#n){if(e.push(`M${me.svgRound(t[4])} ${me.svgRound(t[5])}`),t.length===6){e.push("Z");continue}if(t.length===12&&isNaN(t[6])){e.push(`L${me.svgRound(t[10])} ${me.svgRound(t[11])}`);continue}for(let s=6,i=t.length;s<i;s+=6){const[r,o,c,u,h,f]=t.subarray(s,s+6).map(me.svgRound);e.push(`C${r} ${o} ${c} ${u} ${h} ${f}`)}}return e.join("")}serialize([e,t,s,i],r){const o=[],c=[],[u,h,f,p]=this.#d();let g,w,A,x,S,E,_,k,T;switch(this.#a){case 0:T=me._rescale,g=e,w=t+i,A=s,x=-i,S=e+u*s,E=t+(1-h-p)*i,_=e+(u+f)*s,k=t+(1-h)*i;break;case 90:T=me._rescaleAndSwap,g=e,w=t,A=s,x=i,S=e+h*s,E=t+u*i,_=e+(h+p)*s,k=t+(u+f)*i;break;case 180:T=me._rescale,g=e+s,w=t,A=-s,x=i,S=e+(1-u-f)*s,E=t+h*i,_=e+(1-u)*s,k=t+(h+p)*i;break;case 270:T=me._rescaleAndSwap,g=e+s,w=t+i,A=-s,x=-i,S=e+(1-h-p)*s,E=t+(1-u-f)*i,_=e+(1-h)*s,k=t+(1-u)*i;break}for(const{line:P,points:N}of this.#n)o.push(T(P,g,w,A,x,r?new Array(P.length):null)),c.push(T(N,g,w,A,x,r?new Array(N.length):null));return{lines:o,points:c,rect:[S,E,_,k]}}static deserialize(e,t,s,i,r,{paths:{lines:o,points:c},rotation:u,thickness:h}){const f=[];let p,g,w,A,x;switch(u){case 0:x=me._rescale,p=-e/s,g=t/i+1,w=1/s,A=-1/i;break;case 90:x=me._rescaleAndSwap,p=-t/i,g=-e/s,w=1/i,A=1/s;break;case 180:x=me._rescale,p=e/s+1,g=-t/i,w=-1/s,A=1/i;break;case 270:x=me._rescaleAndSwap,p=t/i+1,g=e/s+1,w=-1/i,A=-1/s;break}if(!o){o=[];for(const E of c){const _=E.length;if(_===2){o.push(new Float32Array([NaN,NaN,NaN,NaN,E[0],E[1]]));continue}if(_===4){o.push(new Float32Array([NaN,NaN,NaN,NaN,E[0],E[1],NaN,NaN,NaN,NaN,E[2],E[3]]));continue}const k=new Float32Array(3*(_-2));o.push(k);let[T,P,N,M]=E.subarray(0,4);k.set([NaN,NaN,NaN,NaN,T,P],0);for(let I=4;I<_;I+=2){const $=E[I],q=E[I+1];k.set(me.createBezierPoints(T,P,N,M,$,q),(I-2)*3),[T,P,N,M]=[N,M,$,q]}}}for(let E=0,_=o.length;E<_;E++)f.push({line:x(o[E].map(k=>k??NaN),p,g,w,A),points:x(c[E].map(k=>k??NaN),p,g,w,A)});const S=new this.prototype.constructor;return S.build(f,s,i,1,u,h,r),S}#l(e=this.#c){const t=this.#s+e/2*this.#o;return this.#a%180===0?[t/this.#i,t/this.#r]:[t/this.#r,t/this.#i]}#d(){const[e,t,s,i]=this.#e,[r,o]=this.#l(0);return[e+r,t+o,s-2*r,i-2*o]}#h(){const e=this.#e=new Float32Array([1/0,1/0,-1/0,-1/0]);for(const{line:i}of this.#n){if(i.length<=12){for(let c=4,u=i.length;c<u;c+=6)ge.pointBoundingBox(i[c],i[c+1],e);continue}let r=i[4],o=i[5];for(let c=6,u=i.length;c<u;c+=6){const[h,f,p,g,w,A]=i.subarray(c,c+6);ge.bezierBoundingBox(r,o,h,f,p,g,w,A,e),r=w,o=A}}const[t,s]=this.#l();e[0]=an(e[0]-t,0,1),e[1]=an(e[1]-s,0,1),e[2]=an(e[2]+t,0,1),e[3]=an(e[3]+s,0,1),e[2]-=e[0],e[3]-=e[1]}get box(){return this.#e}updateProperty(e,t){return e==="stroke-width"?this.#f(t):null}#f(e){const[t,s]=this.#l();this.#c=e;const[i,r]=this.#l(),[o,c]=[i-t,r-s],u=this.#e;return u[0]-=o,u[1]-=c,u[2]+=2*o,u[3]+=2*c,u}updateParentDimensions([e,t],s){const[i,r]=this.#l();this.#i=e,this.#r=t,this.#o=s;const[o,c]=this.#l(),u=o-i,h=c-r,f=this.#e;return f[0]-=u,f[1]-=h,f[2]+=2*u,f[3]+=2*h,f}updateRotation(e){return this.#t=e,{path:{transform:this.rotationTransform}}}get viewBox(){return this.#e.map(me.svgRound).join(" ")}get defaultProperties(){const[e,t]=this.#e;return{root:{viewBox:this.viewBox},path:{"transform-origin":`${me.svgRound(e)} ${me.svgRound(t)}`}}}get rotationTransform(){const[,,e,t]=this.#e;let s=0,i=0,r=0,o=0,c=0,u=0;switch(this.#t){case 90:i=t/e,r=-e/t,c=e;break;case 180:s=-1,o=-1,c=e,u=t;break;case 270:i=-t/e,r=e/t,u=t;break;default:return""}return`matrix(${s} ${i} ${r} ${o} ${me.svgRound(c)} ${me.svgRound(u)})`}getPathResizingSVGProperties([e,t,s,i]){const[r,o]=this.#l(),[c,u,h,f]=this.#e;if(Math.abs(h-r)<=me.PRECISION||Math.abs(f-o)<=me.PRECISION){const x=e+s/2-(c+h/2),S=t+i/2-(u+f/2);return{path:{"transform-origin":`${me.svgRound(e)} ${me.svgRound(t)}`,transform:`${this.rotationTransform} translate(${x} ${S})`}}}const p=(s-2*r)/(h-2*r),g=(i-2*o)/(f-2*o),w=h/s,A=f/i;return{path:{"transform-origin":`${me.svgRound(c)} ${me.svgRound(u)}`,transform:`${this.rotationTransform} scale(${w} ${A}) translate(${me.svgRound(r)} ${me.svgRound(o)}) scale(${p} ${g}) translate(${me.svgRound(-r)} ${me.svgRound(-o)})`}}}getPathResizedSVGProperties([e,t,s,i]){const[r,o]=this.#l(),c=this.#e,[u,h,f,p]=c;if(c[0]=e,c[1]=t,c[2]=s,c[3]=i,Math.abs(f-r)<=me.PRECISION||Math.abs(p-o)<=me.PRECISION){const S=e+s/2-(u+f/2),E=t+i/2-(h+p/2);for(const{line:_,points:k}of this.#n)me._translate(_,S,E,_),me._translate(k,S,E,k);return{root:{viewBox:this.viewBox},path:{"transform-origin":`${me.svgRound(e)} ${me.svgRound(t)}`,transform:this.rotationTransform||null,d:this.toSVGPath()}}}const g=(s-2*r)/(f-2*r),w=(i-2*o)/(p-2*o),A=-g*(u+r)+e+r,x=-w*(h+o)+t+o;if(g!==1||w!==1||A!==0||x!==0)for(const{line:S,points:E}of this.#n)me._rescale(S,A,x,g,w,S),me._rescale(E,A,x,g,w,E);return{root:{viewBox:this.viewBox},path:{"transform-origin":`${me.svgRound(e)} ${me.svgRound(t)}`,transform:this.rotationTransform||null,d:this.toSVGPath()}}}getPathTranslatedSVGProperties([e,t],s){const[i,r]=s,o=this.#e,c=e-o[0],u=t-o[1];if(this.#i===i&&this.#r===r)for(const{line:h,points:f}of this.#n)me._translate(h,c,u,h),me._translate(f,c,u,f);else{const h=this.#i/i,f=this.#r/r;this.#i=i,this.#r=r;for(const{line:p,points:g}of this.#n)me._rescale(p,c,u,h,f,p),me._rescale(g,c,u,h,f,g);o[2]*=h,o[3]*=f}return o[0]=e,o[1]=t,{root:{viewBox:this.viewBox},path:{d:this.toSVGPath(),"transform-origin":`${me.svgRound(e)} ${me.svgRound(t)}`}}}get defaultSVGProperties(){const e=this.#e;return{root:{viewBox:this.viewBox},rootClass:{draw:!0},path:{d:this.toSVGPath(),"transform-origin":`${me.svgRound(e[0])} ${me.svgRound(e[1])}`,transform:this.rotationTransform||null},bbox:e}}}class rh extends xE{constructor(e){super(),this._viewParameters=e,super.updateProperties({fill:"none",stroke:_e._defaultLineColor,"stroke-opacity":1,"stroke-width":1,"stroke-linecap":"round","stroke-linejoin":"round","stroke-miterlimit":10})}updateSVGProperty(e,t){e==="stroke-width"&&(t??=this["stroke-width"],t*=this._viewParameters.realScale),super.updateSVGProperty(e,t)}clone(){const e=new rh(this._viewParameters);return e.updateAll(this),e}}class fg extends Fe{static _type="ink";static _editorType=Ie.INK;static _defaultDrawingOptions=null;constructor(e){super({...e,name:"inkEditor"}),this._willKeepAspectRatio=!0,this.defaultL10nId="pdfjs-editor-ink-editor"}static initialize(e,t){_e.initialize(e,t),this._defaultDrawingOptions=new rh(t.viewParameters)}static getDefaultDrawingOptions(e){const t=this._defaultDrawingOptions.clone();return t.updateProperties(e),t}static get supportMultipleDrawings(){return!0}static get typesMap(){return Ve(this,"typesMap",new Map([[Ge.INK_THICKNESS,"stroke-width"],[Ge.INK_COLOR,"stroke"],[Ge.INK_OPACITY,"stroke-opacity"]]))}static createDrawerInstance(e,t,s,i,r){return new sz(e,t,s,i,r,this._defaultDrawingOptions["stroke-width"])}static deserializeDraw(e,t,s,i,r,o){return bl.deserialize(e,t,s,i,r,o)}static async deserialize(e,t,s){let i=null;if(e instanceof hg){const{data:{inkLists:o,rect:c,rotation:u,id:h,color:f,opacity:p,borderStyle:{rawWidth:g},popupRef:w,richText:A,contentsObj:x,creationDate:S,modificationDate:E},parent:{page:{pageNumber:_}}}=e;i=e={annotationType:Ie.INK,color:Array.from(f),thickness:g,opacity:p,paths:{points:o},boxes:null,pageIndex:_-1,rect:c.slice(0),rotation:u,annotationElementId:h,id:h,deleted:!1,popupRef:w,richText:A,comment:x?.str||null,creationDate:S,modificationDate:E}}const r=await super.deserialize(e,t,s);return r._initialData=i,e.comment&&r.setCommentData(e),r}get toolbarButtons(){return this._colorPicker||=new el(this),[["colorPicker",this._colorPicker]]}get colorType(){return Ge.INK_COLOR}get color(){return this._drawingOptions.stroke}get opacity(){return this._drawingOptions["stroke-opacity"]}onScaleChanging(){if(!this.parent)return;super.onScaleChanging();const{_drawId:e,_drawingOptions:t,parent:s}=this;t.updateSVGProperty("stroke-width"),s.drawLayer.updateProperties(e,t.toSVGProperties())}static onScaleChangingWhenDrawing(){const e=this._currentParent;e&&(super.onScaleChangingWhenDrawing(),this._defaultDrawingOptions.updateSVGProperty("stroke-width"),e.drawLayer.updateProperties(this._currentDrawId,this._defaultDrawingOptions.toSVGProperties()))}createDrawingOptions({color:e,thickness:t,opacity:s}){this._drawingOptions=fg.getDefaultDrawingOptions({stroke:ge.makeHexColor(...e),"stroke-width":t,"stroke-opacity":s})}serialize(e=!1){if(this.isEmpty())return null;if(this.deleted)return this.serializeDeleted();const{lines:t,points:s}=this.serializeDraw(e),{_drawingOptions:{stroke:i,"stroke-opacity":r,"stroke-width":o}}=this,c=Object.assign(super.serialize(e),{color:_e._colorManager.convert(i),opacity:r,thickness:o,paths:{lines:t,points:s}});return this.addComment(c),e?(c.isCopy=!0,c):this.annotationElementId&&!this.#e(c)?null:(c.id=this.annotationElementId,c)}#e(e){const{color:t,thickness:s,opacity:i,pageIndex:r}=this._initialData;return this.hasEditedComment||this._hasBeenMoved||this._hasBeenResized||e.color.some((o,c)=>o!==t[c])||e.thickness!==s||e.opacity!==i||e.pageIndex!==r}renderAnnotationElement(e){if(this.deleted)return e.hide(),null;const{points:t,rect:s}=this.serializeDraw(!1);return e.updateEdited({rect:s,thickness:this._drawingOptions["stroke-width"],points:t,popup:this.comment}),null}}class Lp extends bl{toSVGPath(){let e=super.toSVGPath();return e.endsWith("Z")||(e+="Z"),e}}const Qc=8,Ca=3;class Ji{static#e={maxDim:512,sigmaSFactor:.02,sigmaR:25,kernelSize:16};static#t(e,t,s,i){return s-=e,i-=t,s===0?i>0?0:4:s===1?i+6:2-i}static#s=new Int32Array([0,1,-1,1,-1,0,-1,-1,0,-1,1,-1,1,0,1,1]);static#n(e,t,s,i,r,o,c){const u=this.#t(s,i,r,o);for(let h=0;h<8;h++){const f=(-h+u-c+16)%8,p=this.#s[2*f],g=this.#s[2*f+1];if(e[(s+p)*t+(i+g)]!==0)return f}return-1}static#i(e,t,s,i,r,o,c){const u=this.#t(s,i,r,o);for(let h=0;h<8;h++){const f=(h+u+c+16)%8,p=this.#s[2*f],g=this.#s[2*f+1];if(e[(s+p)*t+(i+g)]!==0)return f}return-1}static#r(e,t,s,i){const r=e.length,o=new Int32Array(r);for(let f=0;f<r;f++)o[f]=e[f]<=i?1:0;for(let f=1;f<s-1;f++)o[f*t]=o[f*t+t-1]=0;for(let f=0;f<t;f++)o[f]=o[t*s-1-f]=0;let c=1,u;const h=[];for(let f=1;f<s-1;f++){u=1;for(let p=1;p<t-1;p++){const g=f*t+p,w=o[g];if(w===0)continue;let A=f,x=p;if(w===1&&o[g-1]===0)c+=1,x-=1;else if(w>=1&&o[g+1]===0)c+=1,x+=1,w>1&&(u=w);else{w!==1&&(u=Math.abs(w));continue}const S=[p,f],E=x===p+1,_={isHole:E,points:S,id:c,parent:0};h.push(_);let k;for(const Z of h)if(Z.id===u){k=Z;break}k?k.isHole?_.parent=E?k.parent:u:_.parent=E?u:k.parent:_.parent=E?u:0;const T=this.#n(o,t,f,p,A,x,0);if(T===-1){o[g]=-c,o[g]!==1&&(u=Math.abs(o[g]));continue}let P=this.#s[2*T],N=this.#s[2*T+1];const M=f+P,I=p+N;A=M,x=I;let $=f,q=p;for(;;){const Z=this.#i(o,t,$,q,A,x,1);P=this.#s[2*Z],N=this.#s[2*Z+1];const ie=$+P,U=q+N;S.push(U,ie);const ee=$*t+q;if(o[ee+1]===0?o[ee]=-c:o[ee]===1&&(o[ee]=c),ie===f&&U===p&&$===M&&q===I){o[g]!==1&&(u=Math.abs(o[g]));break}else A=$,x=q,$=ie,q=U}}}return h}static#o(e,t,s,i){if(s-t<=4){for(let M=t;M<s-2;M+=2)i.push(e[M],e[M+1]);return}const r=e[t],o=e[t+1],c=e[s-4]-r,u=e[s-3]-o,h=Math.hypot(c,u),f=c/h,p=u/h,g=f*o-p*r,w=u/c,A=1/h,x=Math.atan(w),S=Math.cos(x),E=Math.sin(x),_=A*(Math.abs(S)+Math.abs(E)),k=A*(1-_+_**2),T=Math.max(Math.atan(Math.abs(E+S)*k),Math.atan(Math.abs(E-S)*k));let P=0,N=t;for(let M=t+2;M<s-2;M+=2){const I=Math.abs(g-f*e[M+1]+p*e[M]);I>P&&(N=M,P=I)}P>(h*T)**2?(this.#o(e,t,N+2,i),this.#o(e,N,s,i)):i.push(r,o)}static#a(e){const t=[],s=e.length;return this.#o(e,0,s,t),t.push(e[s-2],e[s-1]),t.length<=4?null:t}static#c(e,t,s,i,r,o){const c=new Float32Array(o**2),u=-2*i**2,h=o>>1;for(let x=0;x<o;x++){const S=(x-h)**2;for(let E=0;E<o;E++)c[x*o+E]=Math.exp((S+(E-h)**2)/u)}const f=new Float32Array(256),p=-2*r**2;for(let x=0;x<256;x++)f[x]=Math.exp(x**2/p);const g=e.length,w=new Uint8Array(g),A=new Uint32Array(256);for(let x=0;x<s;x++)for(let S=0;S<t;S++){const E=x*t+S,_=e[E];let k=0,T=0;for(let N=0;N<o;N++){const M=x+N-h;if(!(M<0||M>=s))for(let I=0;I<o;I++){const $=S+I-h;if($<0||$>=t)continue;const q=e[M*t+$],Z=c[N*o+I]*f[Math.abs(q-_)];k+=q*Z,T+=Z}}const P=w[E]=Math.round(k/T);A[P]++}return[w,A]}static#l(e){const t=new Uint32Array(256);for(const s of e)t[s]++;return t}static#d(e){const t=e.length,s=new Uint8ClampedArray(t>>2);let i=-1/0,r=1/0;for(let c=0,u=s.length;c<u;c++){const h=s[c]=e[c<<2];i=Math.max(i,h),r=Math.min(r,h)}const o=255/(i-r);for(let c=0,u=s.length;c<u;c++)s[c]=(s[c]-r)*o;return s}static#h(e){let t,s=-1/0,i=-1/0;const r=e.findIndex(u=>u!==0);let o=r,c=r;for(t=r;t<256;t++){const u=e[t];u>s&&(t-o>i&&(i=t-o,c=t-1),s=u,o=t)}for(t=c-1;t>=0&&!(e[t]>e[t+1]);t--);return t}static#f(e){const t=e,{width:s,height:i}=e,{maxDim:r}=this.#e;let o=s,c=i;if(s>r||i>r){let g=s,w=i,A=Math.log2(Math.max(s,i)/r);const x=Math.floor(A);A=A===x?x-1:x;for(let E=0;E<A;E++){o=Math.ceil(g/2),c=Math.ceil(w/2);const _=new OffscreenCanvas(o,c);_.getContext("2d").drawImage(e,0,0,g,w,0,0,o,c),g=o,w=c,e!==t&&e.close(),e=_.transferToImageBitmap()}const S=Math.min(r/o,r/c);o=Math.round(o*S),c=Math.round(c*S)}const h=new OffscreenCanvas(o,c).getContext("2d",{willReadFrequently:!0});h.fillStyle="white",h.fillRect(0,0,o,c),h.filter="grayscale(1)",h.drawImage(e,0,0,e.width,e.height,0,0,o,c);const f=h.getImageData(0,0,o,c).data;return[this.#d(f),o,c]}static extractContoursFromText(e,{fontFamily:t,fontStyle:s,fontWeight:i},r,o,c,u){let h=new OffscreenCanvas(1,1),f=h.getContext("2d",{alpha:!1});const p=200,g=f.font=`${s} ${i} ${p}px ${t}`,{actualBoundingBoxLeft:w,actualBoundingBoxRight:A,actualBoundingBoxAscent:x,actualBoundingBoxDescent:S,fontBoundingBoxAscent:E,fontBoundingBoxDescent:_,width:k}=f.measureText(e),T=1.5,P=Math.ceil(Math.max(Math.abs(w)+Math.abs(A)||0,k)*T),N=Math.ceil(Math.max(Math.abs(x)+Math.abs(S)||p,Math.abs(E)+Math.abs(_)||p)*T);h=new OffscreenCanvas(P,N),f=h.getContext("2d",{alpha:!0,willReadFrequently:!0}),f.font=g,f.filter="grayscale(1)",f.fillStyle="white",f.fillRect(0,0,P,N),f.fillStyle="black",f.fillText(e,P*(T-1)/2,N*(3-T)/2);const M=this.#d(f.getImageData(0,0,P,N).data),I=this.#l(M),$=this.#h(I),q=this.#r(M,P,N,$);return this.processDrawnLines({lines:{curves:q,width:P,height:N},pageWidth:r,pageHeight:o,rotation:c,innerMargin:u,mustSmooth:!0,areContours:!0})}static process(e,t,s,i,r){const[o,c,u]=this.#f(e),[h,f]=this.#c(o,c,u,Math.hypot(c,u)*this.#e.sigmaSFactor,this.#e.sigmaR,this.#e.kernelSize),p=this.#h(f),g=this.#r(h,c,u,p);return this.processDrawnLines({lines:{curves:g,width:c,height:u},pageWidth:t,pageHeight:s,rotation:i,innerMargin:r,mustSmooth:!0,areContours:!0})}static processDrawnLines({lines:e,pageWidth:t,pageHeight:s,rotation:i,innerMargin:r,mustSmooth:o,areContours:c}){i%180!==0&&([t,s]=[s,t]);const{curves:u,width:h,height:f}=e,p=e.thickness??0,g=[],w=Math.min(t/h,s/f),A=w/t,x=w/s,S=[];for(const{points:_}of u){const k=o?this.#a(_):_;if(!k)continue;S.push(k);const T=k.length,P=new Float32Array(T),N=new Float32Array(3*(T===2?2:T-2));if(g.push({line:N,points:P}),T===2){P[0]=k[0]*A,P[1]=k[1]*x,N.set([NaN,NaN,NaN,NaN,P[0],P[1]],0);continue}let[M,I,$,q]=k;M*=A,I*=x,$*=A,q*=x,P.set([M,I,$,q],0),N.set([NaN,NaN,NaN,NaN,M,I],0);for(let Z=4;Z<T;Z+=2){const ie=P[Z]=k[Z]*A,U=P[Z+1]=k[Z+1]*x;N.set(me.createBezierPoints(M,I,$,q,ie,U),(Z-2)*3),[M,I,$,q]=[$,q,ie,U]}}if(g.length===0)return null;const E=c?new Lp:new bl;return E.build(g,t,s,1,i,c?0:p,r),{outline:E,newCurves:S,areContours:c,thickness:p,width:h,height:f}}static async compressSignature({outlines:e,areContours:t,thickness:s,width:i,height:r}){let o=1/0,c=-1/0,u=0;for(const k of e){u+=k.length;for(let T=2,P=k.length;T<P;T++){const N=k[T]-k[T-2];o=Math.min(o,N),c=Math.max(c,N)}}let h;o>=-128&&c<=127?h=Int8Array:o>=-32768&&c<=32767?h=Int16Array:h=Int32Array;const f=e.length,p=Qc+Ca*f,g=new Uint32Array(p);let w=0;g[w++]=p*Uint32Array.BYTES_PER_ELEMENT+(u-2*f)*h.BYTES_PER_ELEMENT,g[w++]=0,g[w++]=i,g[w++]=r,g[w++]=t?0:1,g[w++]=Math.max(0,Math.floor(s??0)),g[w++]=f,g[w++]=h.BYTES_PER_ELEMENT;for(const k of e)g[w++]=k.length-2,g[w++]=k[0],g[w++]=k[1];const A=new CompressionStream("deflate-raw"),x=A.writable.getWriter();await x.ready,x.write(g);const S=h.prototype.constructor;for(const k of e){const T=new S(k.length-2);for(let P=2,N=k.length;P<N;P++)T[P-2]=k[P]-k[P-2];x.write(T)}x.close();const E=await new Response(A.readable).arrayBuffer(),_=new Uint8Array(E);return VS(_)}static async decompressSignature(e){try{const t=T4(e),{readable:s,writable:i}=new DecompressionStream("deflate-raw"),r=i.getWriter();await r.ready,r.write(t).then(async()=>{await r.ready,await r.close()}).catch(()=>{});let o=null,c=0;for await(const k of s)o||=new Uint8Array(new Uint32Array(k.buffer,0,4)[0]),o.set(k,c),c+=k.length;const u=new Uint32Array(o.buffer,0,o.length>>2),h=u[1];if(h!==0)throw new Error(`Invalid version: ${h}`);const f=u[2],p=u[3],g=u[4]===0,w=u[5],A=u[6],x=u[7],S=[],E=(Qc+Ca*A)*Uint32Array.BYTES_PER_ELEMENT;let _;switch(x){case Int8Array.BYTES_PER_ELEMENT:_=new Int8Array(o.buffer,E);break;case Int16Array.BYTES_PER_ELEMENT:_=new Int16Array(o.buffer,E);break;case Int32Array.BYTES_PER_ELEMENT:_=new Int32Array(o.buffer,E);break}c=0;for(let k=0;k<A;k++){const T=u[Ca*k+Qc],P=new Float32Array(T+2);S.push(P);for(let N=0;N<Ca-1;N++)P[N]=u[Ca*k+Qc+N+1];for(let N=0;N<T;N++)P[N+2]=P[N]+_[c++]}return{areContours:g,thickness:w,outlines:S,width:f,height:p}}catch(t){return Oe(`decompressSignature: ${t}`),null}}}class pg extends xE{constructor(){super(),super.updateProperties({fill:_e._defaultLineColor,"stroke-width":0})}clone(){const e=new pg;return e.updateAll(this),e}}class mg extends rh{constructor(e){super(e),super.updateProperties({stroke:_e._defaultLineColor,"stroke-width":1})}clone(){const e=new mg(this._viewParameters);return e.updateAll(this),e}}class Ps extends Fe{#e=!1;#t=null;#s=null;#n=null;static _type="signature";static _editorType=Ie.SIGNATURE;static _defaultDrawingOptions=null;constructor(e){super({...e,mustBeCommitted:!0,name:"signatureEditor"}),this._willKeepAspectRatio=!0,this.#s=e.signatureData||null,this.#t=null,this.defaultL10nId="pdfjs-editor-signature-editor1"}static initialize(e,t){_e.initialize(e,t),this._defaultDrawingOptions=new pg,this._defaultDrawnSignatureOptions=new mg(t.viewParameters)}static getDefaultDrawingOptions(e){const t=this._defaultDrawingOptions.clone();return t.updateProperties(e),t}static get supportMultipleDrawings(){return!1}static get typesMap(){return Ve(this,"typesMap",new Map)}static get isDrawer(){return!1}get telemetryFinalData(){return{type:"signature",hasDescription:!!this.#t}}static computeTelemetryFinalData(e){const t=e.get("hasDescription");return{hasAltText:t.get(!0)??0,hasNoAltText:t.get(!1)??0}}get isResizable(){return!0}onScaleChanging(){this._drawId!==null&&super.onScaleChanging()}render(){if(this.div)return this.div;let e,t;const{_isCopy:s}=this;if(s&&(this._isCopy=!1,e=this.x,t=this.y),super.render(),this._drawId===null)if(this.#s){const{lines:i,mustSmooth:r,areContours:o,description:c,uuid:u,heightInPage:h}=this.#s,{rawDims:{pageWidth:f,pageHeight:p},rotation:g}=this.parent.viewport,w=Ji.processDrawnLines({lines:i,pageWidth:f,pageHeight:p,rotation:g,innerMargin:Ps._INNER_MARGIN,mustSmooth:r,areContours:o});this.addSignature(w,h,c,u)}else this.div.setAttribute("data-l10n-args",JSON.stringify({description:""})),this.div.hidden=!0,this._uiManager.getSignature(this);else this.div.setAttribute("data-l10n-args",JSON.stringify({description:this.#t||""}));return s&&(this._isCopy=!0,this._moveAfterPaste(e,t)),this.div}setUuid(e){this.#n=e,this.addEditToolbar()}getUuid(){return this.#n}get description(){return this.#t}set description(e){this.#t=e,this.div&&(this.div.setAttribute("data-l10n-args",JSON.stringify({description:e})),super.addEditToolbar().then(t=>{t?.updateEditSignatureButton(e)}))}getSignaturePreview(){const{newCurves:e,areContours:t,thickness:s,width:i,height:r}=this.#s,o=Math.max(i,r),c=Ji.processDrawnLines({lines:{curves:e.map(u=>({points:u})),thickness:s,width:i,height:r},pageWidth:o,pageHeight:o,rotation:0,innerMargin:0,mustSmooth:!1,areContours:t});return{areContours:t,outline:c.outline}}get toolbarButtons(){return this._uiManager.signatureManager?[["editSignature",this._uiManager.signatureManager]]:super.toolbarButtons}addSignature(e,t,s,i){const{x:r,y:o}=this,{outline:c}=this.#s=e;this.#e=c instanceof Lp,this.description=s;let u;this.#e?u=Ps.getDefaultDrawingOptions():(u=Ps._defaultDrawnSignatureOptions.clone(),u.updateProperties({"stroke-width":c.thickness})),this._addOutlines({drawOutlines:c,drawingOptions:u});const[,h]=this.pageDimensions;let f=t/h;f=f>=1?.5:f,this.width*=f/this.height,this.width>=1&&(f*=.9/this.width,this.width=.9),this.height=f,this.setDims(),this.x=r,this.y=o,this.center(),this._onResized(),this.onScaleChanging(),this.rotate(),this._uiManager.addToAnnotationStorage(this),this.setUuid(i),this._reportTelemetry({action:"pdfjs.signature.inserted",data:{hasBeenSaved:!!i,hasDescription:!!s}}),this.div.hidden=!1}getFromImage(e){const{rawDims:{pageWidth:t,pageHeight:s},rotation:i}=this.parent.viewport;return Ji.process(e,t,s,i,Ps._INNER_MARGIN)}getFromText(e,t){const{rawDims:{pageWidth:s,pageHeight:i},rotation:r}=this.parent.viewport;return Ji.extractContoursFromText(e,t,s,i,r,Ps._INNER_MARGIN)}getDrawnSignature(e){const{rawDims:{pageWidth:t,pageHeight:s},rotation:i}=this.parent.viewport;return Ji.processDrawnLines({lines:e,pageWidth:t,pageHeight:s,rotation:i,innerMargin:Ps._INNER_MARGIN,mustSmooth:!1,areContours:!1})}createDrawingOptions({areContours:e,thickness:t}){e?this._drawingOptions=Ps.getDefaultDrawingOptions():(this._drawingOptions=Ps._defaultDrawnSignatureOptions.clone(),this._drawingOptions.updateProperties({"stroke-width":t}))}serialize(e=!1){if(this.isEmpty())return null;const{lines:t,points:s}=this.serializeDraw(e),{_drawingOptions:{"stroke-width":i}}=this,r=Object.assign(super.serialize(e),{isSignature:!0,areContours:this.#e,color:[0,0,0],thickness:this.#e?0:i});return this.addComment(r),e?(r.paths={lines:t,points:s},r.uuid=this.#n,r.isCopy=!0):r.lines=t,this.#t&&(r.accessibilityData={type:"Figure",alt:this.#t}),r}static deserializeDraw(e,t,s,i,r,o){return o.areContours?Lp.deserialize(e,t,s,i,r,o):bl.deserialize(e,t,s,i,r,o)}static async deserialize(e,t,s){const i=await super.deserialize(e,t,s);return i.#e=e.areContours,i.description=e.accessibilityData?.alt||"",i.#n=e.uuid,i}}class iz extends _e{#e=null;#t=null;#s=null;#n=null;#i=null;#r="";#o=null;#a=!1;#c=null;#l=!1;#d=!1;static _type="stamp";static _editorType=Ie.STAMP;constructor(e){super({...e,name:"stampEditor"}),this.#n=e.bitmapUrl,this.#i=e.bitmapFile,this.defaultL10nId="pdfjs-editor-stamp-editor"}static initialize(e,t){_e.initialize(e,t)}static isHandlingMimeForPasting(e){return Pu.includes(e)}static paste(e,t){t.pasteEditor({mode:Ie.STAMP},{bitmapFile:e.getAsFile()})}altTextFinish(){this._uiManager.useNewAltTextFlow&&(this.div.hidden=!1),super.altTextFinish()}get telemetryFinalData(){return{type:"stamp",hasAltText:!!this.altTextData?.altText}}static computeTelemetryFinalData(e){const t=e.get("hasAltText");return{hasAltText:t.get(!0)??0,hasNoAltText:t.get(!1)??0}}#h(e,t=!1){if(!e){this.remove();return}this.#e=e.bitmap,t||(this.#t=e.id,this.#l=e.isSvg),e.file&&(this.#r=e.file.name),this.#p()}#f(){if(this.#s=null,this._uiManager.enableWaiting(!1),!!this.#o){if(this._uiManager.useNewAltTextWhenAddingImage&&this._uiManager.useNewAltTextFlow&&this.#e){this.addEditToolbar().then(()=>{this._editToolbar.hide(),this._uiManager.editAltText(this,!0)});return}if(!this._uiManager.useNewAltTextWhenAddingImage&&this._uiManager.useNewAltTextFlow&&this.#e){this._reportTelemetry({action:"pdfjs.image.image_added",data:{alt_text_modal:!1,alt_text_type:"empty"}});try{this.mlGuessAltText()}catch{}}this.div.focus()}}async mlGuessAltText(e=null,t=!0){if(this.hasAltTextData())return null;const{mlManager:s}=this._uiManager;if(!s)throw new Error("No ML.");if(!await s.isEnabledFor("altText"))throw new Error("ML isn't enabled for alt text.");const{data:i,width:r,height:o}=e||this.copyCanvas(null,null,!0).imageData,c=await s.guess({name:"altText",request:{data:i,width:r,height:o,channels:i.length/(r*o)}});if(!c)throw new Error("No response from the AI service.");if(c.error)throw new Error("Error from the AI service.");if(c.cancel)return null;if(!c.output)throw new Error("No valid response from the AI service.");const u=c.output;return await this.setGuessedAltText(u),t&&!this.hasAltTextData()&&(this.altTextData={alt:u,decorative:!1}),u}#g(){if(this.#t){this._uiManager.enableWaiting(!0),this._uiManager.imageManager.getFromId(this.#t).then(s=>this.#h(s,!0)).finally(()=>this.#f());return}if(this.#n){const s=this.#n;this.#n=null,this._uiManager.enableWaiting(!0),this.#s=this._uiManager.imageManager.getFromUrl(s).then(i=>this.#h(i)).finally(()=>this.#f());return}if(this.#i){const s=this.#i;this.#i=null,this._uiManager.enableWaiting(!0),this.#s=this._uiManager.imageManager.getFromFile(s).then(i=>this.#h(i)).finally(()=>this.#f());return}const e=document.createElement("input");e.type="file",e.accept=Pu.join(",");const t=this._uiManager._signal;this.#s=new Promise(s=>{e.addEventListener("change",async()=>{if(!e.files||e.files.length===0)this.remove();else{this._uiManager.enableWaiting(!0);const i=await this._uiManager.imageManager.getFromFile(e.files[0]);this._reportTelemetry({action:"pdfjs.image.image_selected",data:{alt_text_modal:this._uiManager.useNewAltTextFlow}}),this.#h(i)}s()},{signal:t}),e.addEventListener("cancel",()=>{this.remove(),s()},{signal:t})}).finally(()=>this.#f()),e.click()}remove(){this.#t&&(this.#e=null,this._uiManager.imageManager.deleteId(this.#t),this.#o?.remove(),this.#o=null,this.#c&&(clearTimeout(this.#c),this.#c=null)),super.remove()}rebuild(){if(!this.parent){this.#t&&this.#g();return}super.rebuild(),this.div!==null&&(this.#t&&this.#o===null&&this.#g(),this.isAttachedToDOM||this.parent.add(this))}onceAdded(e){this._isDraggable=!0,e&&this.div.focus()}isEmpty(){return!(this.#s||this.#e||this.#n||this.#i||this.#t||this.#a)}get toolbarButtons(){return[["altText",this.createAltText()]]}get isResizable(){return!0}render(){if(this.div)return this.div;let e,t;return this._isCopy&&(e=this.x,t=this.y),super.render(),this.div.hidden=!0,this.createAltText(),this.#a||(this.#e?this.#p():this.#g()),this._isCopy&&this._moveAfterPaste(e,t),this._uiManager.addShouldRescale(this),this.div}setCanvas(e,t){const{id:s,bitmap:i}=this._uiManager.imageManager.getFromCanvas(e,t);t.remove(),s&&this._uiManager.imageManager.isValidId(s)&&(this.#t=s,i&&(this.#e=i),this.#a=!1,this.#p())}_onResized(){this.onScaleChanging()}onScaleChanging(){if(!this.parent)return;this.#c!==null&&clearTimeout(this.#c);const e=200;this.#c=setTimeout(()=>{this.#c=null,this.#m()},e)}#p(){const{div:e}=this;let{width:t,height:s}=this.#e;const[i,r]=this.pageDimensions,o=.75;if(this.width)t=this.width*i,s=this.height*r;else if(t>o*i||s>o*r){const u=Math.min(o*i/t,o*r/s);t*=u,s*=u}this._uiManager.enableWaiting(!1);const c=this.#o=document.createElement("canvas");c.setAttribute("role","img"),this.addContainer(c),this.width=t/i,this.height=s/r,this.setDims(),this._initialOptions?.isCentered?this.center():this.fixAndSetPosition(),this._initialOptions=null,(!this._uiManager.useNewAltTextWhenAddingImage||!this._uiManager.useNewAltTextFlow||this.annotationElementId)&&(e.hidden=!1),this.#m(),this.#d||(this.parent.addUndoableEditor(this),this.#d=!0),this._reportTelemetry({action:"inserted_image"}),this.#r&&this.div.setAttribute("aria-description",this.#r),this.annotationElementId||this._uiManager.a11yAlert("pdfjs-editor-stamp-added-alert")}copyCanvas(e,t,s=!1){e||(e=224);const{width:i,height:r}=this.#e,o=new ys;let c=this.#e,u=i,h=r,f=null;if(t){if(i>t||r>t){const N=Math.min(t/i,t/r);u=Math.floor(i*N),h=Math.floor(r*N)}f=document.createElement("canvas");const g=f.width=Math.ceil(u*o.sx),w=f.height=Math.ceil(h*o.sy);this.#l||(c=this.#u(g,w));const A=f.getContext("2d");A.filter=this._uiManager.hcmFilter;let x="white",S="#cfcfd8";this._uiManager.hcmFilter!=="none"?S="black":R4.isDarkMode&&(x="#8f8f9d",S="#42414d");const E=15,_=E*o.sx,k=E*o.sy,T=new OffscreenCanvas(_*2,k*2),P=T.getContext("2d");P.fillStyle=x,P.fillRect(0,0,_*2,k*2),P.fillStyle=S,P.fillRect(0,0,_,k),P.fillRect(_,k,_,k),A.fillStyle=A.createPattern(T,"repeat"),A.fillRect(0,0,g,w),A.drawImage(c,0,0,c.width,c.height,0,0,g,w)}let p=null;if(s){let g,w;if(o.symmetric&&c.width<e&&c.height<e)g=c.width,w=c.height;else if(c=this.#e,i>e||r>e){const S=Math.min(e/i,e/r);g=Math.floor(i*S),w=Math.floor(r*S),this.#l||(c=this.#u(g,w))}const x=new OffscreenCanvas(g,w).getContext("2d",{willReadFrequently:!0});x.drawImage(c,0,0,c.width,c.height,0,0,g,w),p={width:g,height:w,data:x.getImageData(0,0,g,w).data}}return{canvas:f,width:u,height:h,imageData:p}}#u(e,t){const{width:s,height:i}=this.#e;let r=s,o=i,c=this.#e;for(;r>2*e||o>2*t;){const u=r,h=o;r>2*e&&(r=r>=16384?Math.floor(r/2)-1:Math.ceil(r/2)),o>2*t&&(o=o>=16384?Math.floor(o/2)-1:Math.ceil(o/2));const f=new OffscreenCanvas(r,o);f.getContext("2d").drawImage(c,0,0,u,h,0,0,r,o),c=f.transferToImageBitmap()}return c}#m(){const[e,t]=this.parentDimensions,{width:s,height:i}=this,r=new ys,o=Math.ceil(s*e*r.sx),c=Math.ceil(i*t*r.sy),u=this.#o;if(!u||u.width===o&&u.height===c)return;u.width=o,u.height=c;const h=this.#l?this.#e:this.#u(o,c),f=u.getContext("2d");f.filter=this._uiManager.hcmFilter,f.drawImage(h,0,0,h.width,h.height,0,0,o,c)}#y(e){if(e){if(this.#l){const i=this._uiManager.imageManager.getSvgUrl(this.#t);if(i)return i}const t=document.createElement("canvas");return{width:t.width,height:t.height}=this.#e,t.getContext("2d").drawImage(this.#e,0,0),t.toDataURL()}if(this.#l){const[t,s]=this.pageDimensions,i=Math.round(this.width*t*pr.PDF_TO_CSS_UNITS),r=Math.round(this.height*s*pr.PDF_TO_CSS_UNITS),o=new OffscreenCanvas(i,r);return o.getContext("2d").drawImage(this.#e,0,0,this.#e.width,this.#e.height,0,0,i,r),o.transferToImageBitmap()}return structuredClone(this.#e)}static async deserialize(e,t,s){let i=null,r=!1;if(e instanceof yE){const{data:{rect:x,rotation:S,id:E,structParent:_,popupRef:k,richText:T,contentsObj:P,creationDate:N,modificationDate:M},container:I,parent:{page:{pageNumber:$}},canvas:q}=e;let Z,ie;q?(delete e.canvas,{id:Z,bitmap:ie}=s.imageManager.getFromCanvas(I.id,q),q.remove()):(r=!0,e._hasNoCanvas=!0);const U=(await t._structTree.getAriaAttributes(`${Qm}${E}`))?.get("aria-label")||"";i=e={annotationType:Ie.STAMP,bitmapId:Z,bitmap:ie,pageIndex:$-1,rect:x.slice(0),rotation:S,annotationElementId:E,id:E,deleted:!1,accessibilityData:{decorative:!1,altText:U},isSvg:!1,structParent:_,popupRef:k,richText:T,comment:P?.str||null,creationDate:N,modificationDate:M}}const o=await super.deserialize(e,t,s),{rect:c,bitmap:u,bitmapUrl:h,bitmapId:f,isSvg:p,accessibilityData:g}=e;r?(s.addMissingCanvas(e.id,o),o.#a=!0):f&&s.imageManager.isValidId(f)?(o.#t=f,u&&(o.#e=u)):o.#n=h,o.#l=p;const[w,A]=o.pageDimensions;return o.width=(c[2]-c[0])/w,o.height=(c[3]-c[1])/A,g&&(o.altTextData=g),o._initialData=i,e.comment&&o.setCommentData(e),o.#d=!!i,o}serialize(e=!1,t=null){if(this.isEmpty())return null;if(this.deleted)return this.serializeDeleted();const s=Object.assign(super.serialize(e),{bitmapId:this.#t,isSvg:this.#l});if(this.addComment(s),e)return s.bitmapUrl=this.#y(!0),s.accessibilityData=this.serializeAltText(!0),s.isCopy=!0,s;const{decorative:i,altText:r}=this.serializeAltText(!1);if(!i&&r&&(s.accessibilityData={type:"Figure",alt:r}),this.annotationElementId){const c=this.#w(s);return c.isSame?null:(c.isSameAltText?delete s.accessibilityData:s.accessibilityData.structParent=this._initialData.structParent??-1,s.id=this.annotationElementId,delete s.bitmapId,s)}if(t===null)return s;t.stamps||=new Map;const o=this.#l?(s.rect[2]-s.rect[0])*(s.rect[3]-s.rect[1]):null;if(!t.stamps.has(this.#t))t.stamps.set(this.#t,{area:o,serialized:s}),s.bitmap=this.#y(!1);else if(this.#l){const c=t.stamps.get(this.#t);o>c.area&&(c.area=o,c.serialized.bitmap.close(),c.serialized.bitmap=this.#y(!1))}return s}#w(e){const{pageIndex:t,accessibilityData:{altText:s}}=this._initialData,i=e.pageIndex===t,r=(e.accessibilityData?.alt||"")===s;return{isSame:!this.hasEditedComment&&!this._hasBeenMoved&&!this._hasBeenResized&&i&&r,isSameAltText:r}}renderAnnotationElement(e){return this.deleted?(e.hide(),null):(e.updateEdited({rect:this.getPDFRect(),popup:this.comment}),null)}}class Ns{#e;#t=!1;#s=null;#n=null;#i=null;#r=new Map;#o=!1;#a=!1;#c=!1;#l=null;#d=null;#h=null;#f=null;#g=null;#p=-1;#u;static _initialized=!1;static#m=new Map([Ht,fg,iz,Ct,Ps].map(e=>[e._editorType,e]));constructor({uiManager:e,pageIndex:t,div:s,structTreeLayer:i,accessibilityManager:r,annotationLayer:o,drawLayer:c,textLayer:u,viewport:h,l10n:f}){const p=[...Ns.#m.values()];if(!Ns._initialized){Ns._initialized=!0;for(const g of p)g.initialize(f,e)}e.registerEditorTypes(p),this.#u=e,this.pageIndex=t,this.div=s,this.#e=r,this.#s=o,this.viewport=h,this.#h=u,this.drawLayer=c,this._structTree=i,this.#u.addLayer(this)}get isEmpty(){return this.#r.size===0}get isInvisible(){return this.isEmpty&&this.#u.getMode()===Ie.NONE}updateToolbar(e){this.#u.updateToolbar(e)}updateMode(e=this.#u.getMode()){switch(this.#x(),e){case Ie.NONE:this.div.classList.toggle("nonEditing",!0),this.disableTextSelection(),this.togglePointerEvents(!1),this.toggleAnnotationLayerPointerEvents(!0),this.disableClick();return;case Ie.INK:this.disableTextSelection(),this.togglePointerEvents(!0),this.enableClick();break;case Ie.HIGHLIGHT:this.enableTextSelection(),this.togglePointerEvents(!1),this.disableClick();break;default:this.disableTextSelection(),this.togglePointerEvents(!0),this.enableClick()}this.toggleAnnotationLayerPointerEvents(!1);const{classList:t}=this.div;if(t.toggle("nonEditing",!1),e===Ie.POPUP)t.toggle("commentEditing",!0);else{t.toggle("commentEditing",!1);for(const s of Ns.#m.values())t.toggle(`${s._type}Editing`,e===s._editorType)}this.div.hidden=!1}hasTextLayer(e){return e===this.#h?.div}setEditingState(e){this.#u.setEditingState(e)}addCommands(e){this.#u.addCommands(e)}cleanUndoStack(e){this.#u.cleanUndoStack(e)}toggleDrawing(e=!1){this.div.classList.toggle("drawing",!e)}togglePointerEvents(e=!1){this.div.classList.toggle("disabled",!e)}toggleAnnotationLayerPointerEvents(e=!1){this.#s?.div.classList.toggle("disabled",!e)}get#y(){return this.#r.size!==0?this.#r.values():this.#u.getEditors(this.pageIndex)}async enable(){this.#c=!0,this.div.tabIndex=0,this.togglePointerEvents(!0),this.div.classList.toggle("nonEditing",!1),this.#g?.abort(),this.#g=null;const e=new Set;for(const s of this.#y)s.enableEditing(),s.show(!0),s.annotationElementId&&(this.#u.removeChangedExistingAnnotation(s),e.add(s.annotationElementId));const t=this.#s;if(t)for(const s of t.getEditableAnnotations()){if(s.hide(),this.#u.isDeletedAnnotationElement(s.data.id)||e.has(s.data.id))continue;const i=await this.deserialize(s);i&&(this.addOrRebuild(i),i.enableEditing())}this.#c=!1,this.#u._eventBus.dispatch("editorsrendered",{source:this,pageNumber:this.pageIndex+1})}disable(){if(this.#a=!0,this.div.tabIndex=-1,this.togglePointerEvents(!1),this.div.classList.toggle("nonEditing",!0),this.#h&&!this.#g){this.#g=new AbortController;const s=this.#u.combinedSignal(this.#g);this.#h.div.addEventListener("pointerdown",i=>{const{clientX:o,clientY:c,timeStamp:u}=i,h=this.#p;if(u-h>500){this.#p=u;return}this.#p=-1;const{classList:f}=this.div;f.toggle("getElements",!0);const p=document.elementsFromPoint(o,c);if(f.toggle("getElements",!1),!this.div.contains(p[0]))return;let g;const w=new RegExp(`^${Za}[0-9]+$`);for(const x of p)if(w.test(x.id)){g=x.id;break}if(!g)return;const A=this.#r.get(g);A?.annotationElementId===null&&(i.stopPropagation(),i.preventDefault(),A.dblclick(i))},{signal:s,capture:!0})}const e=this.#s;if(e){const s=new Map,i=new Map;for(const o of this.#y){if(o.disableEditing(),!o.annotationElementId){o.updateFakeAnnotationElement(e);continue}if(o.serialize()!==null){s.set(o.annotationElementId,o);continue}else i.set(o.annotationElementId,o);this.getEditableAnnotation(o.annotationElementId)?.show(),o.remove()}const r=e.getEditableAnnotations();for(const o of r){const{id:c}=o.data;if(this.#u.isDeletedAnnotationElement(c)){o.updateEdited({deleted:!0});continue}let u=i.get(c);if(u){u.resetAnnotationElement(o),u.show(!1),o.show();continue}u=s.get(c),u&&(this.#u.addChangedExistingAnnotation(u),u.renderAnnotationElement(o)&&u.show(!1)),o.show()}}this.#x(),this.isEmpty&&(this.div.hidden=!0);const{classList:t}=this.div;for(const s of Ns.#m.values())t.remove(`${s._type}Editing`);this.disableTextSelection(),this.toggleAnnotationLayerPointerEvents(!0),this.#a=!1}getEditableAnnotation(e){return this.#s?.getEditableAnnotation(e)||null}setActiveEditor(e){this.#u.getActive()!==e&&this.#u.setActiveEditor(e)}enableTextSelection(){if(this.div.tabIndex=-1,this.#h?.div&&!this.#f){this.#f=new AbortController;const e=this.#u.combinedSignal(this.#f);this.#h.div.addEventListener("pointerdown",this.#w.bind(this),{signal:e}),this.#h.div.classList.add("highlighting")}}disableTextSelection(){this.div.tabIndex=0,this.#h?.div&&this.#f&&(this.#f.abort(),this.#f=null,this.#h.div.classList.remove("highlighting"))}#w(e){this.#u.unselectAll();const{target:t}=e;if(t===this.#h.div||(t.getAttribute("role")==="img"||t.classList.contains("endOfContent"))&&this.#h.div.contains(t)){const{isMac:s}=qt.platform;if(e.button!==0||e.ctrlKey&&s)return;this.#u.showAllEditors("highlight",!0,!0),this.#h.div.classList.add("free"),this.toggleDrawing(),Ct.startHighlighting(this,this.#u.direction==="ltr",{target:this.#h.div,x:e.x,y:e.y}),this.#h.div.addEventListener("pointerup",()=>{this.#h.div.classList.remove("free"),this.toggleDrawing(!0)},{once:!0,signal:this.#u._signal}),e.preventDefault()}}enableClick(){if(this.#n)return;this.#n=new AbortController;const e=this.#u.combinedSignal(this.#n);this.div.addEventListener("pointerdown",this.pointerdown.bind(this),{signal:e});const t=this.pointerup.bind(this);this.div.addEventListener("pointerup",t,{signal:e}),this.div.addEventListener("pointercancel",t,{signal:e})}disableClick(){this.#n?.abort(),this.#n=null}attach(e){this.#r.set(e.id,e);const{annotationElementId:t}=e;t&&this.#u.isDeletedAnnotationElement(t)&&this.#u.removeDeletedAnnotationElement(e)}detach(e){this.#r.delete(e.id),this.#e?.removePointerInTextLayer(e.contentDiv),!this.#a&&e.annotationElementId&&this.#u.addDeletedAnnotationElement(e)}remove(e){this.detach(e),this.#u.removeEditor(e),e.div.remove(),e.isAttachedToDOM=!1}changeParent(e){e.parent!==this&&(e.parent&&e.annotationElementId&&(this.#u.addDeletedAnnotationElement(e.annotationElementId),_e.deleteAnnotationElement(e),e.annotationElementId=null),this.attach(e),e.parent?.detach(e),e.setParent(this),e.div&&e.isAttachedToDOM&&(e.div.remove(),this.div.append(e.div)))}add(e){if(!(e.parent===this&&e.isAttachedToDOM)){if(this.changeParent(e),this.#u.addEditor(e),this.attach(e),!e.isAttachedToDOM){const t=e.render();this.div.append(t),e.isAttachedToDOM=!0}e.fixAndSetPosition(),e.onceAdded(!this.#c),this.#u.addToAnnotationStorage(e),e._reportTelemetry(e.telemetryInitialData)}}moveEditorInDOM(e){if(!e.isAttachedToDOM)return;const{activeElement:t}=document;e.div.contains(t)&&!this.#i&&(e._focusEventsAllowed=!1,this.#i=setTimeout(()=>{this.#i=null,e.div.contains(document.activeElement)?e._focusEventsAllowed=!0:(e.div.addEventListener("focusin",()=>{e._focusEventsAllowed=!0},{once:!0,signal:this.#u._signal}),t.focus())},0)),e._structTreeParentId=this.#e?.moveElementInDOM(this.div,e.div,e.contentDiv,!0)}addOrRebuild(e){e.needsToBeRebuilt()?(e.parent||=this,e.rebuild(),e.show()):this.add(e)}addUndoableEditor(e){const t=()=>e._uiManager.rebuild(e),s=()=>{e.remove()};this.addCommands({cmd:t,undo:s,mustExec:!1})}getEditorByUID(e){for(const t of this.#r.values())if(t.uid===e)return t;return null}getNextId(){return this.#u.getId()}get#v(){return Ns.#m.get(this.#u.getMode())}combinedSignal(e){return this.#u.combinedSignal(e)}#E(e){const t=this.#v;return t?new t.prototype.constructor(e):null}canCreateNewEmptyEditor(){return this.#v?.canCreateNewEmptyEditor()}async pasteEditor(e,t){this.updateToolbar(e),await this.#u.updateMode(e.mode);const{offsetX:s,offsetY:i}=this.#A(),r=this.getNextId(),o=this.#E({parent:this,id:r,x:s,y:i,uiManager:this.#u,isCentered:!0,...t});o&&this.add(o)}async deserialize(e){return await Ns.#m.get(e.annotationType??e.annotationEditorType)?.deserialize(e,this,this.#u)||null}createAndAddNewEditor(e,t,s={}){const i=this.getNextId(),r=this.#E({parent:this,id:i,x:e.offsetX,y:e.offsetY,uiManager:this.#u,isCentered:t,...s});return r&&this.add(r),r}get boundingClientRect(){return this.div.getBoundingClientRect()}#A(){const{x:e,y:t,width:s,height:i}=this.boundingClientRect,r=Math.max(0,e),o=Math.max(0,t),c=Math.min(window.innerWidth,e+s),u=Math.min(window.innerHeight,t+i),h=(r+c)/2-e,f=(o+u)/2-t,[p,g]=this.viewport.rotation%180===0?[h,f]:[f,h];return{offsetX:p,offsetY:g}}addNewEditor(e={}){this.createAndAddNewEditor(this.#A(),!0,e)}setSelected(e){this.#u.setSelected(e)}toggleSelected(e){this.#u.toggleSelected(e)}unselect(e){this.#u.unselect(e)}pointerup(e){const{isMac:t}=qt.platform;if(e.button!==0||e.ctrlKey&&t||e.target!==this.div||!this.#o||(this.#o=!1,this.#v?.isDrawer&&this.#v.supportMultipleDrawings))return;if(!this.#t){this.#t=!0;return}const s=this.#u.getMode();if(s===Ie.STAMP||s===Ie.SIGNATURE){this.#u.unselectAll();return}this.createAndAddNewEditor(e,!1)}pointerdown(e){if(this.#u.getMode()===Ie.HIGHLIGHT&&this.enableTextSelection(),this.#o){this.#o=!1;return}const{isMac:t}=qt.platform;if(e.button!==0||e.ctrlKey&&t||e.target!==this.div)return;if(this.#o=!0,this.#v?.isDrawer){this.startDrawingSession(e);return}const s=this.#u.getActive();this.#t=!s||s.isEmpty()}startDrawingSession(e){if(this.div.focus({preventScroll:!0}),this.#l){this.#v.startDrawing(this,this.#u,!1,e);return}this.#u.setCurrentDrawingSession(this),this.#l=new AbortController;const t=this.#u.combinedSignal(this.#l);this.div.addEventListener("blur",({relatedTarget:s})=>{s&&!this.div.contains(s)&&(this.#d=null,this.commitOrRemove())},{signal:t}),this.#v.startDrawing(this,this.#u,!1,e)}pause(e){if(e){const{activeElement:t}=document;this.div.contains(t)&&(this.#d=t);return}this.#d&&setTimeout(()=>{this.#d?.focus(),this.#d=null},0)}endDrawingSession(e=!1){return this.#l?(this.#u.setCurrentDrawingSession(null),this.#l.abort(),this.#l=null,this.#d=null,this.#v.endDrawing(e)):null}findNewParent(e,t,s){const i=this.#u.findParent(t,s);return i===null||i===this?!1:(i.changeParent(e),!0)}commitOrRemove(){return this.#l?(this.endDrawingSession(),!0):!1}onScaleChanging(){this.#l&&this.#v.onScaleChangingWhenDrawing(this)}destroy(){this.commitOrRemove(),this.#u.getActive()?.parent===this&&(this.#u.commitOrRemove(),this.#u.setActiveEditor(null)),this.#i&&(clearTimeout(this.#i),this.#i=null);for(const e of this.#r.values())this.#e?.removePointerInTextLayer(e.contentDiv),e.setParent(null),e.isAttachedToDOM=!1,e.div.remove();this.div=null,this.#r.clear(),this.#u.removeLayer(this)}#x(){for(const e of this.#r.values())e.isEmpty()&&e.remove()}render({viewport:e}){this.viewport=e,Mi(this.div,e);for(const t of this.#u.getEditors(this.pageIndex))this.add(t),t.rebuild();this.updateMode()}update({viewport:e}){this.#u.commitOrRemove(),this.#x();const t=this.viewport.rotation,s=e.rotation;if(this.viewport=e,Mi(this.div,{rotation:s}),t!==s)for(const i of this.#r.values())i.rotate(s)}get pageDimensions(){const{pageWidth:e,pageHeight:t}=this.viewport.rawDims;return[e,t]}get scale(){return this.#u.viewParameters.realScale}}class Wt{#e=null;#t=new Map;#s=new Map;static#n=0;constructor({pageIndex:e}){this.pageIndex=e}setParent(e){if(!this.#e){this.#e=e;return}if(this.#e!==e){if(this.#t.size>0)for(const t of this.#t.values())t.remove(),e.append(t);this.#e=e}}static get _svgFactory(){return Ve(this,"_svgFactory",new tl)}static#i(e,[t,s,i,r]){const{style:o}=e;o.top=`${100*s}%`,o.left=`${100*t}%`,o.width=`${100*i}%`,o.height=`${100*r}%`}#r(){const e=Wt._svgFactory.create(1,1,!0);return this.#e.append(e),e.setAttribute("aria-hidden",!0),e}#o(e,t){const s=Wt._svgFactory.createElement("clipPath");e.append(s);const i=`clip_${t}`;s.setAttribute("id",i),s.setAttribute("clipPathUnits","objectBoundingBox");const r=Wt._svgFactory.createElement("use");return s.append(r),r.setAttribute("href",`#${t}`),r.classList.add("clip"),i}#a(e,t){for(const[s,i]of Object.entries(t))i===null?e.removeAttribute(s):e.setAttribute(s,i)}draw(e,t=!1,s=!1){const i=Wt.#n++,r=this.#r(),o=Wt._svgFactory.createElement("defs");r.append(o);const c=Wt._svgFactory.createElement("path");o.append(c);const u=`path_p${this.pageIndex}_${i}`;c.setAttribute("id",u),c.setAttribute("vector-effect","non-scaling-stroke"),t&&this.#s.set(i,c);const h=s?this.#o(o,u):null,f=Wt._svgFactory.createElement("use");return r.append(f),f.setAttribute("href",`#${u}`),this.updateProperties(r,e),this.#t.set(i,r),{id:i,clipPathId:`url(#${h})`}}drawOutline(e,t){const s=Wt.#n++,i=this.#r(),r=Wt._svgFactory.createElement("defs");i.append(r);const o=Wt._svgFactory.createElement("path");r.append(o);const c=`path_p${this.pageIndex}_${s}`;o.setAttribute("id",c),o.setAttribute("vector-effect","non-scaling-stroke");let u;if(t){const p=Wt._svgFactory.createElement("mask");r.append(p),u=`mask_p${this.pageIndex}_${s}`,p.setAttribute("id",u),p.setAttribute("maskUnits","objectBoundingBox");const g=Wt._svgFactory.createElement("rect");p.append(g),g.setAttribute("width","1"),g.setAttribute("height","1"),g.setAttribute("fill","white");const w=Wt._svgFactory.createElement("use");p.append(w),w.setAttribute("href",`#${c}`),w.setAttribute("stroke","none"),w.setAttribute("fill","black"),w.setAttribute("fill-rule","nonzero"),w.classList.add("mask")}const h=Wt._svgFactory.createElement("use");i.append(h),h.setAttribute("href",`#${c}`),u&&h.setAttribute("mask",`url(#${u})`);const f=h.cloneNode();return i.append(f),h.classList.add("mainOutline"),f.classList.add("secondaryOutline"),this.updateProperties(i,e),this.#t.set(s,i),s}finalizeDraw(e,t){this.#s.delete(e),this.updateProperties(e,t)}updateProperties(e,t){if(!t)return;const{root:s,bbox:i,rootClass:r,path:o}=t,c=typeof e=="number"?this.#t.get(e):e;if(c){if(s&&this.#a(c,s),i&&Wt.#i(c,i),r){const{classList:u}=c;for(const[h,f]of Object.entries(r))u.toggle(h,f)}if(o){const h=c.firstChild.firstChild;this.#a(h,o)}}}updateParent(e,t){if(t===this)return;const s=this.#t.get(e);s&&(t.#e.append(s),this.#t.delete(e),t.#t.set(e,s))}remove(e){this.#s.delete(e),this.#e!==null&&(this.#t.get(e).remove(),this.#t.delete(e))}destroy(){this.#e=null;for(const e of this.#t.values())e.remove();this.#t.clear(),this.#s.clear()}}globalThis._pdfjsTestingUtils={HighlightOutliner:Mp};globalThis.pdfjsLib={AbortException:ii,AnnotationEditorLayer:Ns,AnnotationEditorParamsType:Ge,AnnotationEditorType:Ie,AnnotationEditorUIManager:ri,AnnotationLayer:dg,AnnotationMode:Ms,AnnotationType:_t,applyOpacity:qS,build:dE,ColorPicker:On,createValidAbsoluteUrl:Xm,CSSConstants:GS,DOMSVGFactory:tl,DrawLayer:Wt,FeatureTest:qt,fetchData:Mo,findContrastColor:KS,getDocument:ag,getFilenameFromUrl:US,getPdfFilenameFromUrl:HS,getRGB:Do,getUuid:Ym,getXfaPageViewport:WS,GlobalWorkerOptions:Fi,ImageKind:Ia,InvalidPDFException:ku,isDataScheme:yl,isPdfFile:sh,isValidExplicitDest:QS,MathClamp:an,noContextMenu:$n,normalizeUnicode:$S,OPS:bo,OutputScale:ys,PasswordResponses:BS,PDFDataRangeTransport:cg,PDFDateString:Tu,PDFWorker:Gt,PermissionFlag:jS,PixelsPerInch:pr,RenderingCancelledException:nh,renderRichText:eg,ResponseException:Ya,setLayerDimensions:Mi,shadow:Ve,SignatureExtractor:Ji,stopEvent:yt,SupportedImageMimeTypes:Pu,TextLayer:Ja,TouchManager:wl,updateUrlHash:Zm,Util:ge,VerbosityLevel:pl,version:hE,XfaLayer:Jm};const rz=Object.freeze(Object.defineProperty({__proto__:null,AbortException:ii,AnnotationEditorLayer:Ns,AnnotationEditorParamsType:Ge,AnnotationEditorType:Ie,AnnotationEditorUIManager:ri,AnnotationLayer:dg,AnnotationMode:Ms,AnnotationType:_t,CSSConstants:GS,ColorPicker:On,DOMSVGFactory:tl,DrawLayer:Wt,FeatureTest:qt,GlobalWorkerOptions:Fi,ImageKind:Ia,InvalidPDFException:ku,MathClamp:an,OPS:bo,OutputScale:ys,PDFDataRangeTransport:cg,PDFDateString:Tu,PDFWorker:Gt,PasswordResponses:BS,PermissionFlag:jS,PixelsPerInch:pr,RenderingCancelledException:nh,ResponseException:Ya,SignatureExtractor:Ji,SupportedImageMimeTypes:Pu,TextLayer:Ja,TouchManager:wl,Util:ge,VerbosityLevel:pl,XfaLayer:Jm,applyOpacity:qS,build:dE,createValidAbsoluteUrl:Xm,fetchData:Mo,findContrastColor:KS,getDocument:ag,getFilenameFromUrl:US,getPdfFilenameFromUrl:HS,getRGB:Do,getUuid:Ym,getXfaPageViewport:WS,isDataScheme:yl,isPdfFile:sh,isValidExplicitDest:QS,noContextMenu:$n,normalizeUnicode:$S,renderRichText:eg,setLayerDimensions:Mi,shadow:Ve,stopEvent:yt,updateUrlHash:Zm,version:hE},Symbol.toStringTag,{value:"Module"}));function bE(n){var e,t,s="";if(typeof n=="string"||typeof n=="number")s+=n;else if(typeof n=="object")if(Array.isArray(n)){var i=n.length;for(e=0;e<i;e++)n[e]&&(t=bE(n[e]))&&(s&&(s+=" "),s+=t)}else for(t in n)n[t]&&(s&&(s+=" "),s+=t);return s}function oh(){for(var n,e,t=0,s="",i=arguments.length;t<i;t++)(n=arguments[t])&&(e=bE(n))&&(s&&(s+=" "),s+=e);return s}var db=Object.prototype.hasOwnProperty;function fb(n,e,t){for(t of n.keys())if(mo(t,e))return t}function mo(n,e){var t,s,i;if(n===e)return!0;if(n&&e&&(t=n.constructor)===e.constructor){if(t===Date)return n.getTime()===e.getTime();if(t===RegExp)return n.toString()===e.toString();if(t===Array){if((s=n.length)===e.length)for(;s--&&mo(n[s],e[s]););return s===-1}if(t===Set){if(n.size!==e.size)return!1;for(s of n)if(i=s,i&&typeof i=="object"&&(i=fb(e,i),!i)||!e.has(i))return!1;return!0}if(t===Map){if(n.size!==e.size)return!1;for(s of n)if(i=s[0],i&&typeof i=="object"&&(i=fb(e,i),!i)||!mo(s[1],e.get(i)))return!1;return!0}if(t===ArrayBuffer)n=new Uint8Array(n),e=new Uint8Array(e);else if(t===DataView){if((s=n.byteLength)===e.byteLength)for(;s--&&n.getInt8(s)===e.getInt8(s););return s===-1}if(ArrayBuffer.isView(n)){if((s=n.byteLength)===e.byteLength)for(;s--&&n[s]===e[s];);return s===-1}if(!t||typeof n=="object"){s=0;for(t in n)if(db.call(n,t)&&++s&&!db.call(e,t)||!(t in e)||!mo(n[t],e[t]))return!1;return Object.keys(e).length===s}}return n!==n&&e!==e}function Al(n){let e=!1;return{promise:new Promise((s,i)=>{n.then(r=>!e&&s(r)).catch(r=>!e&&i(r))}),cancel(){e=!0}}}const oz=["onCopy","onCut","onPaste"],az=["onCompositionEnd","onCompositionStart","onCompositionUpdate"],lz=["onFocus","onBlur"],cz=["onInput","onInvalid","onReset","onSubmit"],uz=["onLoad","onError"],hz=["onKeyDown","onKeyPress","onKeyUp"],dz=["onAbort","onCanPlay","onCanPlayThrough","onDurationChange","onEmptied","onEncrypted","onEnded","onError","onLoadedData","onLoadedMetadata","onLoadStart","onPause","onPlay","onPlaying","onProgress","onRateChange","onSeeked","onSeeking","onStalled","onSuspend","onTimeUpdate","onVolumeChange","onWaiting"],fz=["onClick","onContextMenu","onDoubleClick","onMouseDown","onMouseEnter","onMouseLeave","onMouseMove","onMouseOut","onMouseOver","onMouseUp"],pz=["onDrag","onDragEnd","onDragEnter","onDragExit","onDragLeave","onDragOver","onDragStart","onDrop"],mz=["onSelect"],gz=["onTouchCancel","onTouchEnd","onTouchMove","onTouchStart"],yz=["onPointerDown","onPointerMove","onPointerUp","onPointerCancel","onGotPointerCapture","onLostPointerCapture","onPointerEnter","onPointerLeave","onPointerOver","onPointerOut"],vz=["onScroll"],wz=["onWheel"],xz=["onAnimationStart","onAnimationEnd","onAnimationIteration"],bz=["onTransitionEnd"],Az=["onToggle"],Sz=["onChange"],Ez=[...oz,...az,...lz,...cz,...uz,...hz,...dz,...fz,...pz,...mz,...gz,...yz,...vz,...wz,...xz,...bz,...Sz,...Az];function AE(n,e){const t={};for(const s of Ez){const i=n[s];i&&(e?t[s]=(r=>i(r,e(s))):t[s]=i)}return t}var _z="Invariant failed";function tt(n,e){if(!n)throw new Error(_z)}var Nf,pb;function Cz(){if(pb)return Nf;pb=1;var n=function(){};return Nf=n,Nf}var kz=Cz();const cn=bb(kz),SE=F.createContext(null),Tz="noopener noreferrer nofollow";class Pz{constructor(){this.externalLinkEnabled=!0,this.externalLinkRel=void 0,this.externalLinkTarget=void 0,this.isInPresentationMode=!1,this.pdfDocument=void 0,this.pdfViewer=void 0}setDocument(e){this.pdfDocument=e}setViewer(e){this.pdfViewer=e}setExternalLinkRel(e){this.externalLinkRel=e}setExternalLinkTarget(e){this.externalLinkTarget=e}setHash(){}setHistory(){}get pagesCount(){return this.pdfDocument?this.pdfDocument.numPages:0}get page(){return tt(this.pdfViewer),this.pdfViewer.currentPageNumber||0}set page(e){tt(this.pdfViewer),this.pdfViewer.currentPageNumber=e}get rotation(){return 0}set rotation(e){}addLinkAttributes(e,t,s){e.href=t,e.rel=this.externalLinkRel||Tz,e.target=s?"_blank":this.externalLinkTarget||""}goToDestination(e){return new Promise(t=>{tt(this.pdfDocument),tt(e),typeof e=="string"?this.pdfDocument.getDestination(e).then(t):Array.isArray(e)?t(e):e.then(t)}).then(t=>{tt(Array.isArray(t));const s=t[0];new Promise(i=>{tt(this.pdfDocument),s instanceof Object?this.pdfDocument.getPageIndex(s).then(r=>{i(r)}).catch(()=>{tt(!1)}):typeof s=="number"?i(s):tt(!1)}).then(i=>{const r=i+1;tt(this.pdfViewer),tt(r>=1&&r<=this.pagesCount),this.pdfViewer.scrollPageIntoView({dest:t,pageIndex:i,pageNumber:r})})})}goToPage(e){const t=e-1;tt(this.pdfViewer),tt(e>=1&&e<=this.pagesCount),this.pdfViewer.scrollPageIntoView({pageIndex:t,pageNumber:e})}goToXY(){}cachePageRef(){}getDestinationHash(){return"#"}getAnchorUrl(){return"#"}executeNamedAction(){}executeSetOCGState(){}isPageVisible(){return!0}isPageCached(){return!0}navigateTo(e){this.goToDestination(e)}}function go({children:n,type:e}){return y.jsx("div",{className:`react-pdf__message react-pdf__message--${e}`,children:n})}const mb={NEED_PASSWORD:1,INCORRECT_PASSWORD:2};function Fz(n,e){switch(e.type){case"RESOLVE":return{value:e.value,error:void 0};case"REJECT":return{value:!1,error:e.error};case"RESET":return{value:void 0,error:void 0};default:return n}}function Ao(){return F.useReducer(Fz,{value:void 0,error:void 0})}const ah=typeof window<"u",EE=ah&&window.location.protocol==="file:";function Rz(n){return typeof n<"u"}function Yi(n){return Rz(n)&&n!==null}function Nz(n){return typeof n=="string"}function Mz(n){return n instanceof ArrayBuffer}function Dz(n){return tt(ah),n instanceof Blob}function Ip(n){return Nz(n)&&/^data:/.test(n)}function gb(n){tt(Ip(n));const[e="",t=""]=n.split(",");return e.split(";").indexOf("base64")!==-1?atob(t):unescape(t)}function Lz(){return ah&&window.devicePixelRatio||1}const _E="On Chromium based browsers, you can use --allow-file-access-from-files flag for debugging purposes.";function yb(){cn(!EE,`Loading PDF as base64 strings/URLs may not work on protocols other than HTTP/HTTPS. ${_E}`)}function Iz(){cn(!EE,`Loading PDF.js worker may not work on protocols other than HTTP/HTTPS. ${_E}`)}function gr(n){n?.cancel&&n.cancel()}function Op(n,e){return Object.defineProperty(n,"width",{get(){return this.view[2]*e},configurable:!0}),Object.defineProperty(n,"height",{get(){return this.view[3]*e},configurable:!0}),Object.defineProperty(n,"originalWidth",{get(){return this.view[2]},configurable:!0}),Object.defineProperty(n,"originalHeight",{get(){return this.view[3]},configurable:!0}),n}function Oz(n){return n.name==="RenderingCancelledException"}function jz(n){return new Promise((e,t)=>{const s=new FileReader;s.onload=()=>{if(!s.result)return t(new Error("Error while reading a file."));e(s.result)},s.onerror=i=>{if(!i.target)return t(new Error("Error while reading a file."));const{error:r}=i.target;if(!r)return t(new Error("Error while reading a file."));switch(r.code){case r.NOT_FOUND_ERR:return t(new Error("Error while reading a file: File not found."));case r.SECURITY_ERR:return t(new Error("Error while reading a file: Security error."));case r.ABORT_ERR:return t(new Error("Error while reading a file: Aborted."));default:return t(new Error("Error while reading a file."))}},s.readAsArrayBuffer(n)})}const{PDFDataRangeTransport:Bz}=rz,zz=(n,e)=>{switch(e){case mb.NEED_PASSWORD:{const t=prompt("Enter the password to open this PDF file.");n(t);break}case mb.INCORRECT_PASSWORD:{const t=prompt("Invalid password. Please try again.");n(t);break}}};function vb(n){return typeof n=="object"&&n!==null&&("data"in n||"range"in n||"url"in n)}const $z=F.forwardRef(function({children:e,className:t,error:s="Failed to load PDF file.",externalLinkRel:i,externalLinkTarget:r,file:o,inputRef:c,imageResourcesPath:u,loading:h="Loading PDF",noData:f="No PDF file specified.",onItemClick:p,onLoadError:g,onLoadProgress:w,onLoadSuccess:A,onPassword:x=zz,onSourceError:S,onSourceSuccess:E,options:_,renderMode:k,rotate:T,scale:P,...N},M){const[I,$]=Ao(),{value:q,error:Z}=I,[ie,U]=Ao(),{value:ee,error:ue}=ie,Q=F.useRef(new Pz),Y=F.useRef([]),W=F.useRef(void 0),oe=F.useRef(void 0);o&&o!==W.current&&vb(o)&&(cn(!mo(o,W.current),`File prop passed to <Document /> changed, but it's equal to previous one. This might result in unnecessary reloads. Consider memoizing the value passed to "file" prop.`),W.current=o),_&&_!==oe.current&&(cn(!mo(_,oe.current),`Options prop passed to <Document /> changed, but it's equal to previous one. This might result in unnecessary reloads. Consider memoizing the value passed to "options" prop.`),oe.current=_);const J=F.useRef({scrollPageIntoView:Ue=>{const{dest:Ze,pageNumber:rt,pageIndex:ft=rt-1}=Ue;if(p){p({dest:Ze,pageIndex:ft,pageNumber:rt});return}const Vn=Y.current[ft];if(Vn){Vn.scrollIntoView();return}cn(!1,`An internal link leading to page ${rt} was clicked, but neither <Document> was provided with onItemClick nor it was able to find the page within itself. Either provide onItemClick to <Document> and handle navigating by yourself or ensure that all pages are rendered within <Document>.`)}});F.useImperativeHandle(M,()=>({linkService:Q,pages:Y,viewer:J}),[]);function O(){E&&E()}function K(){Z&&(cn(!1,Z.toString()),S&&S(Z))}function he(){$({type:"RESET"})}F.useEffect(he,[o,$]);const be=F.useCallback(async()=>{if(!o)return null;if(typeof o=="string")return Ip(o)?{data:gb(o)}:(yb(),{url:o});if(o instanceof Bz)return{range:o};if(Mz(o))return{data:o};if(ah&&Dz(o))return{data:await jz(o)};if(tt(typeof o=="object"),tt(vb(o)),"url"in o&&typeof o.url=="string"){if(Ip(o.url)){const{url:Ue,...Ze}=o;return{data:gb(Ue),...Ze}}yb()}return o},[o]);F.useEffect(()=>{const Ue=Al(be());return Ue.promise.then(Ze=>{$({type:"RESOLVE",value:Ze})}).catch(Ze=>{$({type:"REJECT",error:Ze})}),()=>{gr(Ue)}},[be,$]),F.useEffect(()=>{if(!(typeof q>"u")){if(q===!1){K();return}O()}},[q]);function Ce(){ee&&(A&&A(ee),Y.current=new Array(ee.numPages),Q.current.setDocument(ee))}function Pe(){ue&&(cn(!1,ue.toString()),g&&g(ue))}F.useEffect(function(){U({type:"RESET"})},[U,q]),F.useEffect(function(){if(!q)return;const Ze=_?{...q,..._}:q,rt=ag(Ze);w&&(rt.onProgress=w),x&&(rt.onPassword=x);const ft=rt,Vn=ft.promise.then(zs=>{U({type:"RESOLVE",value:zs})}).catch(zs=>{ft.destroyed||U({type:"REJECT",error:zs})});return()=>{Vn.finally(()=>ft.destroy())}},[_,U,q]),F.useEffect(()=>{if(!(typeof ee>"u")){if(ee===!1){Pe();return}Ce()}},[ee]),F.useEffect(function(){Q.current.setViewer(J.current),Q.current.setExternalLinkRel(i),Q.current.setExternalLinkTarget(r)},[i,r]);const Ee=F.useCallback((Ue,Ze)=>{Y.current[Ue]=Ze},[]),je=F.useCallback(Ue=>{delete Y.current[Ue]},[]),Le=F.useMemo(()=>({imageResourcesPath:u,linkService:Q.current,onItemClick:p,pdf:ee,registerPage:Ee,renderMode:k,rotate:T,scale:P,unregisterPage:je}),[u,p,ee,Ee,k,T,P,je]),$e=F.useMemo(()=>AE(N,()=>ee),[N,ee]);function tn(){function Ue(rt){return!!rt?.pdf}if(!Ue(Le))throw new Error("pdf is undefined");const Ze=typeof e=="function"?e(Le):e;return y.jsx(SE.Provider,{value:Le,children:Ze})}function hn(){return o?ee==null?y.jsx(go,{type:"loading",children:typeof h=="function"?h():h}):ee===!1?y.jsx(go,{type:"error",children:typeof s=="function"?s():s}):tn():y.jsx(go,{type:"no-data",children:typeof f=="function"?f():f})}return y.jsx("div",{className:oh("react-pdf__Document",t),ref:c,...$e,children:hn()})});function CE(){return F.useContext(SE)}function kE(){for(var n=[],e=0;e<arguments.length;e++)n[e]=arguments[e];var t=n.filter(Boolean);if(t.length<=1){var s=t[0];return s||null}return function(r){for(var o=0,c=t;o<c.length;o++){var u=c[o];typeof u=="function"?u(r):u&&(u.current=r)}}}const TE=F.createContext(null);function lh(){return F.useContext(TE)}function Vz(){const n=CE(),e=lh();tt(e);const t={...n,...e},{imageResourcesPath:s,linkService:i,onGetAnnotationsError:r,onGetAnnotationsSuccess:o,onRenderAnnotationLayerError:c,onRenderAnnotationLayerSuccess:u,page:h,pdf:f,renderForms:p,rotate:g,scale:w=1}=t;tt(f),tt(h),tt(i);const[A,x]=Ao(),{value:S,error:E}=A,_=F.useRef(null);cn(Number.parseInt(window.getComputedStyle(document.body).getPropertyValue("--react-pdf-annotation-layer"),10)===1,"AnnotationLayer styles not found. Read more: https://github.com/wojtekmaj/react-pdf#support-for-annotations");function k(){S&&o&&o(S)}function T(){E&&(cn(!1,E.toString()),r&&r(E))}F.useEffect(function(){x({type:"RESET"})},[x,h]),F.useEffect(function(){if(!h)return;const $=Al(h.getAnnotations()),q=$;return $.promise.then(Z=>{x({type:"RESOLVE",value:Z})}).catch(Z=>{x({type:"REJECT",error:Z})}),()=>{gr(q)}},[x,h]),F.useEffect(()=>{if(S!==void 0){if(S===!1){T();return}k()}},[S]);function P(){u&&u()}function N(I){cn(!1,`${I}`),c&&c(I)}const M=F.useMemo(()=>h.getViewport({scale:w,rotation:g}),[h,g,w]);return F.useEffect(function(){if(!f||!h||!i||!S)return;const{current:$}=_;if(!$)return;const q=M.clone({dontFlip:!0}),Z={accessibilityManager:null,annotationCanvasMap:null,annotationEditorUIManager:null,annotationStorage:f.annotationStorage,commentManager:null,div:$,l10n:null,linkService:i,page:h,structTreeLayer:null,viewport:q},ie={annotations:S,annotationStorage:f.annotationStorage,div:$,imageResourcesPath:s,linkService:i,page:h,renderForms:p,viewport:q};$.innerHTML="";try{new dg(Z).render(ie),P()}catch(U){N(U)}return()=>{}},[S,s,i,h,f,p,M]),y.jsx("div",{className:oh("react-pdf__Page__annotations","annotationLayer"),ref:_})}const PE={Document:null,DocumentFragment:null,Part:"group",Sect:"group",Div:"group",Aside:"note",NonStruct:"none",P:null,H:"heading",Title:null,FENote:"note",Sub:"group",Lbl:null,Span:null,Em:null,Strong:null,Link:"link",Annot:"note",Form:"form",Ruby:null,RB:null,RT:null,RP:null,Warichu:null,WT:null,WP:null,L:"list",LI:"listitem",LBody:null,Table:"table",TR:"row",TH:"columnheader",TD:"cell",THead:"columnheader",TBody:null,TFoot:null,Caption:null,Figure:"figure",Formula:null,Artifact:null},Uz=/^H(\d+)$/;function Hz(n){return n in PE}function ch(n){return"children"in n}function FE(n){return ch(n)?n.children.length===1&&0 in n.children&&"id"in n.children[0]:!1}function Wz(n){const e={};if(ch(n)){const{role:t}=n,s=t.match(Uz);if(s)e.role="heading",e["aria-level"]=Number(s[1]);else if(Hz(t)){const i=PE[t];i&&(e.role=i)}}return e}function RE(n){const e={};if(ch(n)){if(n.alt!==void 0&&(e["aria-label"]=n.alt),n.lang!==void 0&&(e.lang=n.lang),FE(n)){const[t]=n.children;if(t){const s=RE(t);return{...e,...s}}}}else"id"in n&&(e["aria-owns"]=n.id);return e}function Gz(n){return n?{...Wz(n),...RE(n)}:null}function NE({className:n,node:e}){const t=F.useMemo(()=>Gz(e),[e]),s=F.useMemo(()=>!ch(e)||FE(e)?null:e.children.map((i,r)=>y.jsx(NE,{node:i},r)),[e]);return y.jsx("span",{className:n,...t,children:s})}function qz(){const n=lh();tt(n);const{onGetStructTreeError:e,onGetStructTreeSuccess:t}=n,[s,i]=Ao(),{value:r,error:o}=s,{customTextRenderer:c,page:u}=n;function h(){r&&t&&t(r)}function f(){o&&(cn(!1,o.toString()),e&&e(o))}return F.useEffect(function(){i({type:"RESET"})},[i,u]),F.useEffect(function(){if(c||!u)return;const g=Al(u.getStructTree()),w=g;return g.promise.then(A=>{i({type:"RESOLVE",value:A})}).catch(A=>{i({type:"REJECT",error:A})}),()=>gr(w)},[c,u,i]),F.useEffect(()=>{if(r!==void 0){if(r===!1){f();return}h()}},[r]),r?y.jsx(NE,{className:"react-pdf__Page__structTree structTree",node:r}):null}const wb=Ms;function Kz(n){const e=lh();tt(e);const t={...e,...n},{_className:s,canvasBackground:i,devicePixelRatio:r=Lz(),onRenderError:o,onRenderSuccess:c,page:u,renderForms:h,renderTextLayer:f,rotate:p,scale:g}=t,{canvasRef:w}=n;tt(u);const A=F.useRef(null);function x(){u&&c&&c(Op(u,g))}function S(T){Oz(T)||(cn(!1,T.toString()),o&&o(T))}const E=F.useMemo(()=>u.getViewport({scale:g*r,rotation:p}),[r,u,p,g]),_=F.useMemo(()=>u.getViewport({scale:g,rotation:p}),[u,p,g]);F.useEffect(function(){if(!u)return;u.cleanup();const{current:P}=A;if(!P)return;P.width=E.width,P.height=E.height,P.style.width=`${Math.floor(_.width)}px`,P.style.height=`${Math.floor(_.height)}px`,P.style.visibility="hidden";const N={annotationMode:h?wb.ENABLE_FORMS:wb.ENABLE,canvas:P,canvasContext:P.getContext("2d",{alpha:!1}),viewport:E};i&&(N.background=i);const M=u.render(N),I=M;return M.promise.then(()=>{P.style.visibility="",x()}).catch(S),()=>gr(I)},[i,u,h,E,_]);const k=F.useCallback(()=>{const{current:T}=A;T&&(T.width=0,T.height=0)},[]);return F.useEffect(()=>k,[k]),y.jsx("canvas",{className:`${s}__canvas`,dir:"ltr",ref:kE(w,A),style:{display:"block",userSelect:"none"},children:f?y.jsx(qz,{}):null})}function Xz(n){return"str"in n}function Zz(){const n=lh();tt(n);const{customTextRenderer:e,onGetTextError:t,onGetTextSuccess:s,onRenderTextLayerError:i,onRenderTextLayerSuccess:r,page:o,pageIndex:c,pageNumber:u,rotate:h,scale:f}=n;tt(o);const[p,g]=Ao(),{value:w,error:A}=p,x=F.useRef(null);cn(Number.parseInt(window.getComputedStyle(document.body).getPropertyValue("--react-pdf-text-layer"),10)===1,"TextLayer styles not found. Read more: https://github.com/wojtekmaj/react-pdf#support-for-text-layer");function S(){w&&s&&s(w)}function E(){A&&(cn(!1,A.toString()),t&&t(A))}F.useEffect(function(){g({type:"RESET"})},[o,g]),F.useEffect(function(){if(!o)return;const I=Al(o.getTextContent()),$=I;return I.promise.then(q=>{g({type:"RESOLVE",value:q})}).catch(q=>{g({type:"REJECT",error:q})}),()=>gr($)},[o,g]),F.useEffect(()=>{if(w!==void 0){if(w===!1){E();return}S()}},[w]);const _=F.useCallback(()=>{r&&r()},[r]),k=F.useCallback(M=>{cn(!1,M.toString()),i&&i(M)},[i]);function T(){const M=x.current;M&&M.classList.add("selecting")}function P(){const M=x.current;M&&M.classList.remove("selecting")}const N=F.useMemo(()=>o.getViewport({scale:f,rotation:h}),[o,h,f]);return F.useLayoutEffect(function(){if(!o||!w)return;const{current:I}=x;if(!I)return;I.innerHTML="";const $=o.streamTextContent({includeMarkedContent:!0}),q={container:I,textContentSource:$,viewport:N},Z=new Ja(q),ie=Z;return Z.render().then(()=>{const U=document.createElement("div");U.className="endOfContent",I.append(U);const ee=I.querySelectorAll('[role="presentation"]');if(e){let ue=0;w.items.forEach((Q,Y)=>{if(!Xz(Q))return;const W=ee[ue];if(!W)return;const oe=e({pageIndex:c,pageNumber:u,itemIndex:Y,...Q});W.innerHTML=oe,ue+=Q.str&&Q.hasEOL?2:1})}_()}).catch(k),()=>gr(ie)},[e,k,_,o,c,u,w,N]),y.jsx("div",{className:oh("react-pdf__Page__textContent","textLayer"),onMouseUp:P,onMouseDown:T,ref:x})}const xb=1;function Yz(n){const t={...CE(),...n},{_className:s="react-pdf__Page",_enableRegisterUnregisterPage:i=!0,canvasBackground:r,canvasRef:o,children:c,className:u,customRenderer:h,customTextRenderer:f,devicePixelRatio:p,error:g="Failed to load the page.",height:w,inputRef:A,loading:x="Loading page",noData:S="No page specified.",onGetAnnotationsError:E,onGetAnnotationsSuccess:_,onGetStructTreeError:k,onGetStructTreeSuccess:T,onGetTextError:P,onGetTextSuccess:N,onLoadError:M,onLoadSuccess:I,onRenderAnnotationLayerError:$,onRenderAnnotationLayerSuccess:q,onRenderError:Z,onRenderSuccess:ie,onRenderTextLayerError:U,onRenderTextLayerSuccess:ee,pageIndex:ue,pageNumber:Q,pdf:Y,registerPage:W,renderAnnotationLayer:oe=!0,renderForms:J=!1,renderMode:O="canvas",renderTextLayer:K=!0,rotate:he,scale:be=xb,unregisterPage:Ce,width:Pe,...Ee}=t,[je,Le]=Ao(),{value:$e,error:tn}=je,hn=F.useRef(null);tt(Y);const Ue=Yi(Q)?Q-1:ue??null,Ze=Q??(Yi(ue)?ue+1:null),rt=he??($e?$e.rotate:null),ft=F.useMemo(()=>{if(!$e)return null;let Be=1;const He=be??xb;if(Pe||w){const lt=$e.getViewport({scale:1,rotation:rt});Pe?Be=Pe/lt.width:w&&(Be=w/lt.height)}return He*Be},[w,$e,rt,be,Pe]);F.useEffect(function(){return()=>{Yi(Ue)&&i&&Ce&&Ce(Ue)}},[i,Y,Ue,Ce]);function Vn(){if(I){if(!$e||!ft)return;I(Op($e,ft))}if(i&&W){if(!Yi(Ue)||!hn.current)return;W(Ue,hn.current)}}function zs(){tn&&(cn(!1,tn.toString()),M&&M(tn))}F.useEffect(function(){Le({type:"RESET"})},[Le,Y,Ue]),F.useEffect(function(){if(!Y||!Ze)return;const He=Al(Y.getPage(Ze)),lt=He;return He.promise.then(vn=>{Le({type:"RESOLVE",value:vn})}).catch(vn=>{Le({type:"REJECT",error:vn})}),()=>gr(lt)},[Le,Y,Ze]),F.useEffect(()=>{if($e!==void 0){if($e===!1){zs();return}Vn()}},[$e,ft]);const xs=F.useMemo(()=>Yi(Ue)&&Ze&&Yi(rt)&&Yi(ft)?{_className:s,canvasBackground:r,customTextRenderer:f,devicePixelRatio:p,onGetAnnotationsError:E,onGetAnnotationsSuccess:_,onGetStructTreeError:k,onGetStructTreeSuccess:T,onGetTextError:P,onGetTextSuccess:N,onRenderAnnotationLayerError:$,onRenderAnnotationLayerSuccess:q,onRenderError:Z,onRenderSuccess:ie,onRenderTextLayerError:U,onRenderTextLayerSuccess:ee,page:$e,pageIndex:Ue,pageNumber:Ze,renderForms:J,renderTextLayer:K,rotate:rt,scale:ft}:null,[s,r,f,p,E,_,k,T,P,N,$,q,Z,ie,U,ee,$e,Ue,Ze,J,K,rt,ft]),D=F.useMemo(()=>AE(Ee,()=>$e&&(ft?Op($e,ft):void 0)),[Ee,$e,ft]),z=`${Ue}@${ft}/${rt}`;function X(){switch(O){case"custom":return tt(h),y.jsx(h,{},`${z}_custom`);case"none":return null;case"canvas":default:return y.jsx(Kz,{canvasRef:o},`${z}_canvas`)}}function de(){return K?y.jsx(Zz,{},`${z}_text`):null}function ce(){return oe?y.jsx(Vz,{},`${z}_annotations`):null}function ae(){function Be(lt){return!!lt?.page}if(!Be(xs))throw new Error("page is undefined");const He=typeof c=="function"?c(xs):c;return y.jsxs(TE.Provider,{value:xs,children:[X(),de(),ce(),He]})}function Se(){return Ze?Y===null||$e===void 0||$e===null?y.jsx(go,{type:"loading",children:typeof x=="function"?x():x}):Y===!1||$e===!1?y.jsx(go,{type:"error",children:typeof g=="function"?g():g}):ae():y.jsx(go,{type:"no-data",children:typeof S=="function"?S():S})}return y.jsx("div",{className:oh(s,u),"data-page-number":Ze,ref:kE(A,hn),style:{"--scale-round-x":"1px","--scale-round-y":"1px","--scale-factor":"1","--user-unit":`${ft}`,"--total-scale-factor":"calc(var(--scale-factor) * var(--user-unit))",backgroundColor:r||"white",position:"relative",minWidth:"min-content",minHeight:"min-content"},...D,children:Se()})}Iz();Fi.workerSrc="pdf.worker.mjs";Fi.workerSrc=new URL("/assets/pdf.worker.min-CXgfMxHN.mjs",import.meta.url).toString();function Qz({fileUrl:n,pageNumber:e}){const[t,s]=F.useState(null),i=e?t?Math.min(e,t):e:1;return y.jsx("div",{className:"w-full h-[75vh] lg:h-[82vh] bg-[#020617] rounded-lg border border-[#1F2937] shadow-[0_10px_40px_rgba(15,23,42,0.8)] overflow-auto flex items-start justify-center",children:y.jsx($z,{file:n,onLoadSuccess:({numPages:r})=>s(r),loading:y.jsx("div",{className:"p-4 text-[#9CA3AF] text-sm",children:"Loading code document..."}),error:r=>y.jsxs("div",{className:"p-4 text-red-400 text-sm space-y-1",children:[y.jsx("div",{children:"Failed to load PDF."}),r?.message&&y.jsx("div",{className:"text-[11px] text-[#F97316] break-all",children:r.message})]}),className:"flex justify-center w-full py-4",children:y.jsx(Yz,{pageNumber:i,renderTextLayer:!1,renderAnnotationLayer:!1,width:900})})})}function Jz({complianceId:n,onBack:e}){const{data:t,isLoading:s,error:i}=m4(n),[r,o]=F.useState("detailed"),[c,u]=F.useState(null),h=U=>{switch(U?.toLowerCase()){case"compliant":return"text-[#10B981] bg-[#10B981]/10 border-[#10B981]/20";case"non-compliant":return"text-[#EF4444] bg-[#EF4444]/10 border-[#EF4444]/20";default:return"text-[#94A3B8] bg-[#94A3B8]/10 border-[#94A3B8]/20"}},f=U=>{switch(U?.toLowerCase()){case"high":return"text-[#EF4444] bg-[#EF4444]/10 border-[#EF4444]/20";case"medium":return"text-[#F97316] bg-[#F97316]/10 border-[#F97316]/20";case"low":return"text-[#F59E0B] bg-[#F59E0B]/10 border-[#F59E0B]/20";default:return"text-[#6B7280] bg-[#6B7280]/10 border-[#6B7280]/20"}},p=t?.compliance_result,g=p?.relevant_sections||[],w=F.useMemo(()=>{const U=(g||[]).map(ue=>ue?.page).filter(ue=>typeof ue=="number"&&!isNaN(ue));return Array.from(new Set(U)).sort((ue,Q)=>ue-Q)},[g]),A=w.length>0?w[0]:1;F.useEffect(()=>{c===null&&A&&u(A)},[c,A]);const x=g4;if(s)return y.jsx("div",{className:"p-6 max-w-7xl mx-auto",children:y.jsx("p",{className:"text-[#6B7280]",children:"Loading compliance details..."})});if(i||!p)return y.jsxs("div",{className:"p-6 max-w-7xl mx-auto",children:[y.jsxs("button",{onClick:e,className:"flex items-center gap-2 text-[#6B7280] hover:text-[#F8FAFC] mb-4 transition-colors",children:[y.jsx(wu,{size:20}),"Back to Compliance List"]}),y.jsx("p",{className:"text-red-400",children:"Failed to load compliance details"})]});const{approved:S,score:E,confidence:_,summary:k,violations:T=[],text_based_findings:P=[],image_based_findings:N=[],detailed_analysis:M,recommendations:I=[],relevant_sections:$=[]}=p,q=[{id:"detailed",label:"Detailed Analysis",icon:jw},{id:"findings",label:"Findings",icon:Ga},{id:"violations",label:"Violations",icon:CM,count:T.length},{id:"recommendations",label:"Recommendations",icon:ru,count:I.length},{id:"codes",label:"Code References",icon:Ic},{id:"document",label:"Code Document",icon:Ic}],Z=S?"Approved":"Conditional Approval",ie=()=>{const U=window.open("","_blank");if(!U)return;const ee=T.map(J=>`
        <li>
          <strong>${J.code_section||""}</strong> - ${J.description||""} (${J.severity||""})
        </li>`).join(""),ue=P.map(J=>`
        <li>
          <strong>${J.category||""}</strong> - ${J.finding||""}
          ${J.status?`(<em>${J.status}</em>)`:""}
        </li>`).join(""),Q=N.map(J=>`
        <li>
          <strong>${J.diagram_type||""}</strong> - ${J.finding||""}
          ${J.visual_match?`(<em>${J.visual_match}</em>)`:""}
        </li>`).join(""),Y=I.map(J=>`
        <li>
          <strong>${J.priority||""} priority:</strong> ${J.recommendation||""}
          ${J.timeline?`(${J.timeline})`:""}
        </li>`).join(""),W=$.map(J=>`
        <li>
          <strong>Page ${J.page}</strong> - ${J.content||""}
        </li>`).join(""),oe=`
      <html>
        <head>
          <meta charset="utf-8" />
          <title>Compliance Report</title>
          <style>
            body { font-family: system-ui, -apple-system, BlinkMacSystemFont, "Segoe UI", sans-serif; padding: 24px; color: #0f172a; }
            h1, h2, h3 { color: #0f172a; }
            .pill { display:inline-block; padding:4px 10px; border-radius:999px; font-size:12px; }
            .pill-approved { background:#dcfce7; color:#15803d; }
            .pill-conditional { background:#fef3c7; color:#b45309; }
            .section { margin-bottom: 24px; }
            ul { padding-left: 20px; }
            li { margin-bottom: 6px; }
            .muted { color:#6b7280; font-size:12px; }
          </style>
        </head>
        <body>
          <h1>Compliance Report</h1>
          <div class="section">
            <h2>Overview</h2>
            <p><strong>Decision:</strong> <span class="pill ${S?"pill-approved":"pill-conditional"}">${Z}</span></p>
            <p><strong>Score:</strong> ${E}/100</p>
            <p><strong>Confidence:</strong> ${_}%</p>
            <p>${k||""}</p>
          </div>

          <div class="section">
            <h2>Text-based Findings</h2>
            <ul>${ue||"<li>No text findings</li>"}</ul>
          </div>

          <div class="section">
            <h2>Image-based Findings</h2>
            <ul>${Q||"<li>No image findings</li>"}</ul>
          </div>

          <div class="section">
            <h2>Violations</h2>
            <ul>${ee||"<li>No violations</li>"}</ul>
          </div>

          <div class="section">
            <h2>Recommendations</h2>
            <ul>${Y||"<li>No recommendations</li>"}</ul>
          </div>

          <div class="section">
            <h2>Relevant Code Sections</h2>
            <ul>${W||"<li>No referenced sections</li>"}</ul>
          </div>

          <p class="muted">Generated by AI Compliance Platform</p>
        </body>
      </html>
    `;U.document.open(),U.document.write(oe),U.document.close(),U.focus(),U.print()};return y.jsxs("div",{className:"p-6",children:[y.jsxs("button",{onClick:e,className:"flex items-center gap-2 text-[#6B7280] hover:text-[#F8FAFC] mb-4 transition-colors",children:[y.jsx(wu,{size:20}),"Back to Compliance List"]}),y.jsxs(we.div,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},exit:{opacity:0,y:-20},className:"max-w-7xl mx-auto pb-24",children:[y.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-3 gap-6 mb-8",children:[y.jsxs(kt,{className:"flex flex-col items-center justify-center p-6 bg-[#1E293B] border border-[#334155]",children:[y.jsx("h3",{className:"text-[#94A3B8] text-sm font-medium mb-2",children:"Overall Score"}),y.jsxs("div",{className:"flex items-end gap-2",children:[y.jsx("span",{className:"text-4xl font-bold text-[#F8FAFC]",children:E}),y.jsx("span",{className:"text-sm text-[#6B7280] mb-1",children:"/ 100"})]})]}),y.jsxs(kt,{className:"flex flex-col items-center justify-center p-6 bg-[#1E293B] border border-[#334155]",children:[y.jsx("h3",{className:"text-[#94A3B8] text-sm font-medium mb-2",children:"Confidence Level"}),y.jsx("div",{className:"flex items-end gap-2",children:y.jsxs("span",{className:"text-4xl font-bold text-[#F8FAFC]",children:[_,"%"]})})]}),y.jsxs(kt,{className:"flex flex-col items-center justify-center p-6 bg-[#1E293B] border border-[#334155]",children:[y.jsx("h3",{className:"text-[#94A3B8] text-sm font-medium mb-2",children:"Status"}),y.jsx("div",{className:`text-xl font-bold ${S?"text-[#10B981]":"text-[#F59E0B]"}`,children:Z})]})]}),y.jsxs(kt,{className:"mb-8 bg-[#1E293B] border border-[#334155] p-6",children:[y.jsx("h3",{className:"text-lg font-semibold text-[#F8FAFC] mb-3",children:"Executive Summary"}),y.jsx("p",{className:"text-[#94A3B8] leading-relaxed",children:k})]}),y.jsx("div",{className:"flex overflow-x-auto border-b border-[#334155] mb-6 gap-1 no-scrollbar",children:q.map(U=>y.jsxs("button",{onClick:()=>o(U.id),className:`flex items-center gap-2 px-6 py-3 font-medium transition-colors relative whitespace-nowrap ${r===U.id?"text-[#0B67FF]":"text-[#94A3B8] hover:text-[#F8FAFC] hover:bg-[#1E293B]"}`,children:[y.jsx(U.icon,{size:18}),U.label,U.count!==void 0&&U.count>0&&y.jsx("span",{className:`ml-1 text-xs px-2 py-0.5 rounded-full ${r===U.id?"bg-[#0B67FF]/10":"bg-[#334155]"}`,children:U.count}),r===U.id&&y.jsx(we.div,{layoutId:"activeTab",className:"absolute bottom-0 left-0 right-0 h-0.5 bg-[#0B67FF]"})]},U.id))}),y.jsxs("div",{className:"min-h-[400px]",children:[r==="detailed"&&y.jsx("div",{className:"space-y-6 animate-in fade-in duration-300 slide-in-from-bottom-2",children:y.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-6",children:[y.jsxs(kt,{className:"p-6 bg-[#1E293B] border border-[#334155]",children:[y.jsxs("div",{className:"flex items-center gap-3 mb-4",children:[y.jsx("div",{className:"p-2 bg-[#0B67FF]/10 rounded-lg",children:y.jsx(Ga,{className:"text-[#0B67FF]",size:24})}),y.jsx("h3",{className:"text-lg font-semibold text-[#F8FAFC]",children:"Text Analysis"})]}),y.jsxs("div",{className:"space-y-4",children:[y.jsxs("div",{children:[y.jsx("span",{className:"text-xs text-[#6B7280] uppercase tracking-wider font-semibold",children:"Summary"}),y.jsx("p",{className:"text-[#94A3B8] mt-1",children:M?.text_analysis_summary})]}),y.jsxs("div",{className:"flex justify-between items-center py-2 border-t border-[#334155]",children:[y.jsx("span",{className:"text-sm text-[#94A3B8]",children:"Compliance Categories"}),y.jsx("span",{className:"text-sm font-medium text-[#F8FAFC]",children:"4 Analyzed"})]})]})]}),y.jsxs(kt,{className:"p-6 bg-[#1E293B] border border-[#334155]",children:[y.jsxs("div",{className:"flex items-center gap-3 mb-4",children:[y.jsx("div",{className:"p-2 bg-[#06B6D4]/10 rounded-lg",children:y.jsx(oM,{className:"text-[#06B6D4]",size:24})}),y.jsx("h3",{className:"text-lg font-semibold text-[#F8FAFC]",children:"Image Analysis"})]}),y.jsxs("div",{className:"space-y-4",children:[y.jsxs("div",{children:[y.jsx("span",{className:"text-xs text-[#6B7280] uppercase tracking-wider font-semibold",children:"Summary"}),y.jsx("p",{className:"text-[#94A3B8] mt-1",children:M?.image_analysis_summary})]}),y.jsxs("div",{className:"flex justify-between items-center py-2 border-t border-[#334155]",children:[y.jsx("span",{className:"text-sm text-[#94A3B8]",children:"Diagram Aspects"}),y.jsx("span",{className:"text-sm font-medium text-[#F8FAFC]",children:"2 Reviewed"})]})]})]})]})}),r==="findings"&&y.jsxs("div",{className:"space-y-4 animate-in fade-in duration-300 slide-in-from-bottom-2",children:[P.map((U,ee)=>y.jsx(kt,{className:"p-5 bg-[#1E293B] border border-[#334155]",children:y.jsxs("div",{className:"flex flex-col md:flex-row md:items-start justify-between gap-4",children:[y.jsxs("div",{className:"flex-1",children:[y.jsxs("div",{className:"flex items-center gap-2 mb-2",children:[y.jsx("span",{className:"text-[#0B67FF] font-medium",children:U.category}),y.jsx("span",{className:"text-[#6B7280]",children:""}),y.jsx("span",{className:"text-[#94A3B8] text-sm",children:"Text Analysis"})]}),y.jsx("p",{className:"text-[#F8FAFC]",children:U.finding})]}),y.jsxs("div",{className:"flex items-center gap-3",children:[y.jsx("span",{className:`px-3 py-1 rounded-full text-xs font-medium ${h(U.status)}`,children:U.status}),U.impact&&y.jsxs("span",{className:`px-3 py-1 rounded-full text-xs font-medium ${f(U.impact)}`,children:[U.impact," Impact"]})]})]})},`text-${ee}`)),N.map((U,ee)=>y.jsx(kt,{className:"p-5 bg-[#1E293B] border border-[#334155]",children:y.jsxs("div",{className:"flex flex-col md:flex-row md:items-start justify-between gap-4",children:[y.jsxs("div",{className:"flex-1",children:[y.jsxs("div",{className:"flex items-center gap-2 mb-2",children:[y.jsx("span",{className:"text-[#06B6D4] font-medium",children:U.diagram_type}),y.jsx("span",{className:"text-[#6B7280]",children:""}),y.jsx("span",{className:"text-[#94A3B8] text-sm",children:"Image Analysis"})]}),y.jsx("p",{className:"text-[#F8FAFC]",children:U.finding})]}),y.jsx("div",{className:"flex items-center gap-3",children:y.jsx("span",{className:`px-3 py-1 rounded-full text-xs font-medium ${h(U.visual_match)}`,children:U.visual_match})})]})},`image-${ee}`))]}),r==="violations"&&y.jsxs("div",{className:"space-y-4 animate-in fade-in duration-300 slide-in-from-bottom-2",children:[T.length===0&&y.jsxs("div",{className:"text-center py-12 text-[#6B7280]",children:[y.jsx(ru,{size:48,className:"mx-auto mb-3 opacity-50 text-[#10B981]"}),y.jsx("p",{children:"No violations found. Good job!"})]}),T.map((U,ee)=>y.jsx(kt,{className:"p-5 bg-[#1E293B] border-l-4 border-l-[#EF4444] border-t border-r border-b border-[#334155]",children:y.jsxs("div",{className:"flex justify-between items-start gap-4",children:[y.jsxs("div",{children:[y.jsxs("div",{className:"flex items-center gap-2 mb-2",children:[y.jsxs("span",{className:"text-[#EF4444] font-medium flex items-center gap-1",children:[y.jsx(Pm,{size:16}),"Violation"]}),y.jsx("span",{className:"text-[#6B7280]",children:""}),y.jsxs("span",{className:"text-[#94A3B8] text-sm font-mono",children:["Code: ",U.code_section]})]}),y.jsx("p",{className:"text-[#F8FAFC] font-medium",children:U.description})]}),y.jsxs("span",{className:`px-3 py-1 rounded-full text-xs font-medium whitespace-nowrap ${f(U.severity)}`,children:[U.severity," Severity"]})]})},ee))]}),r==="recommendations"&&y.jsxs("div",{className:"space-y-4 animate-in fade-in duration-300 slide-in-from-bottom-2",children:[I.length===0&&y.jsxs("div",{className:"text-center py-12 text-[#6B7280]",children:[y.jsx(jw,{size:48,className:"mx-auto mb-3 opacity-50"}),y.jsx("p",{children:"No specific recommendations available."})]}),I.map((U,ee)=>y.jsxs(kt,{className:"p-5 bg-[#1E293B] border border-[#334155]",children:[y.jsxs("div",{className:"flex items-start justify-between gap-4 mb-3",children:[y.jsxs("span",{className:`text-xs font-medium px-2 py-1 rounded ${f(U.priority)}`,children:[U.priority," Priority"]}),y.jsx("span",{className:"text-xs text-[#6B7280]",children:U.timeline})]}),y.jsx("p",{className:"text-[#F8FAFC]",children:U.recommendation})]},ee))]}),r==="codes"&&y.jsx("div",{className:"space-y-3 animate-in fade-in duration-300 slide-in-from-bottom-2",children:$.map((U,ee)=>y.jsxs("div",{className:"p-4 rounded-lg bg-[#1E293B] border border-[#334155] hover:border-[#0B67FF]/50 transition-colors",children:[y.jsxs("div",{className:"flex items-center justify-between mb-3",children:[y.jsxs("div",{className:"flex items-center gap-2",children:[y.jsx(Ic,{size:16,className:"text-[#0B67FF]"}),y.jsx("span",{className:"text-sm font-medium text-[#F8FAFC]",children:U.content_type?.replace("_"," ").toUpperCase()||"CODE SECTION"})]}),y.jsxs("span",{className:"text-xs text-[#6B7280] px-2 py-1 bg-[#0F172A] rounded",children:["Page ",U.page]})]}),U.content&&y.jsx("p",{className:"text-sm text-[#94A3B8] line-clamp-3 mb-3 font-mono bg-[#0F172A] p-3 rounded border border-[#334155]",children:U.content}),y.jsxs("div",{className:"flex items-center justify-between",children:[y.jsxs("div",{className:"flex items-center gap-3",children:[y.jsx("div",{className:"h-1.5 w-24 bg-[#0F172A] rounded-full overflow-hidden",children:y.jsx("div",{className:"h-full bg-[#10B981]",style:{width:`${(U.similarity_score||0)*100}%`}})}),y.jsxs("span",{className:"text-xs font-medium text-[#10B981]",children:[Math.round((U.similarity_score||0)*100),"% Match"]})]}),U.type==="image"&&y.jsxs(zn,{variant:"ghost",className:"text-[#0B67FF] h-auto py-1 px-2",children:[y.jsx(qN,{size:14,className:"mr-1"}),"View Image"]})]})]},ee))}),r==="document"&&y.jsxs(kt,{className:"bg-[#020617] border border-[#334155] overflow-hidden flex flex-col animate-in fade-in duration-300 slide-in-from-bottom-2",children:[y.jsxs("div",{className:"px-4 py-3 border-b border-[#1E293B] bg-gradient-to-r from-[#020617] via-[#020617] to-[#020617]/60 flex flex-col gap-3 sm:flex-row sm:items-center sm:justify-between",children:[y.jsxs("div",{className:"flex items-center gap-2 text-xs sm:text-sm text-[#E5E7EB]",children:[y.jsx(Ic,{size:16,className:"text-[#0B67FF]"}),y.jsxs("div",{className:"flex flex-col",children:[y.jsx("span",{className:"font-medium",children:"North Bay Village, FL Unified Land Development Code"}),y.jsx("span",{className:"text-[11px] text-[#6B7280]",children:"View the official code pages referenced in this review."})]}),c&&y.jsxs("span",{className:"ml-2 px-2 py-0.5 rounded-full bg-[#0B67FF]/15 text-[11px] text-[#E5F0FF] border border-[#0B67FF]/40 whitespace-nowrap",children:["Page ",c]})]}),!x]}),y.jsx("div",{className:"px-4 py-2 border-b border-[#1E293B] bg-[#020617]",children:w.length===0?y.jsx("p",{className:"text-xs text-[#6B7280]",children:"No specific pages were referenced for this compliance result."}):y.jsxs("div",{className:"flex items-center gap-3",children:[y.jsx("span",{className:"text-[11px] text-[#6B7280] whitespace-nowrap",children:"Referenced pages:"}),y.jsx("div",{className:"flex-1 overflow-x-auto no-scrollbar",children:y.jsx("div",{className:"flex gap-2",children:w.map(U=>{const ee=c===U;return y.jsxs("button",{onClick:()=>u(U),className:`px-2.5 py-1 rounded-full text-[11px] font-medium border transition-colors whitespace-nowrap ${ee?"bg-[#0B67FF]/20 border-[#0B67FF] text-[#E5F0FF] shadow-sm shadow-[#0B67FF]/40":"bg-[#020617] border-[#1E293B] text-[#9CA3AF] hover:border-[#0B67FF]/70 hover:text-[#E5E7EB]"}`,children:["Page ",U]},U)})})})]})}),y.jsx("div",{className:"px-4 py-4 bg-[#020617]",children:c?y.jsx(Qz,{fileUrl:x,pageNumber:c}):y.jsx("p",{className:"text-sm text-[#6B7280]",children:"Unable to load the code document. Please ensure the PDF file is present in the project and correctly imported."})})]})]}),y.jsx("div",{className:"mt-8",children:y.jsx("div",{className:"max-w-7xl mx-auto flex items-center justify-between gap-4",children:y.jsxs("div",{className:"flex flex-1 md:flex-none items-center gap-3",children:[y.jsxs(zn,{className:"flex-1 md:flex-none bg-[#1E293B] hover:bg-[#334155] text-white border border-[#334155]",onClick:ie,children:[y.jsx(kA,{size:18,className:"mr-2"}),"Download Report"]}),y.jsxs(zn,{className:"flex-1 md:flex-none bg-[#EF4444] hover:bg-[#DC2626] text-white border-none",children:[y.jsx(AM,{size:18,className:"mr-2"}),"Request Revisions"]}),y.jsxs(zn,{className:"flex-1 md:flex-none bg-[#10B981] hover:bg-[#059669] text-white border-none",children:[y.jsx(ru,{size:18,className:"mr-2"}),"Approve Plan"]})]})})})]})]})}function e$({project:n,onBack:e}){console.log("project",n);const[t,s]=F.useState(!1),[i,r]=F.useState(null),[o,c]=F.useState(null),{data:u,isLoading:h,error:f,refetch:p}=p4(n.project_id),g=Mu(),w=F.useMemo(()=>(u||[]).map(S=>{const E=S.compliance_result;let _="pending";return typeof E?.approved=="boolean"&&(_=E.approved?"approved":"rejected"),{id:S.compliance_id,fileName:`Compliance #${S.compliance_id}`,uploadDate:S.revision_date?.split("T")[0]||"",status:_,score:typeof E?.score=="number"?E.score:0,checks:[]}}),[u]),A={approved:{color:"#10B981",label:"Approved",bg:"#10B981"},pending:{color:"#F97316",label:"Pending Review",bg:"#F97316"},rejected:{color:"#EF4444",label:"Needs Revision",bg:"#EF4444"}},x=A[n.status];return F.useEffect(()=>{if(!o)return;const S=new WebSocket(o.websocketUrl);return S.onmessage=E=>{try{const _=JSON.parse(E.data);if(_.task_id&&_.task_id!==o.taskId)return;(_.result||_.status==="completed")&&(g.invalidateQueries({queryKey:["compliances",n.project_id]}),c(null),S.close())}catch(_){console.error("Failed to parse WebSocket message",_)}},S.onerror=E=>{console.error("WebSocket error",E),S.close()},()=>{S.close()}},[o,n.project_id,g]),t?y.jsx(y4,{projectId:n.project_id,projectName:n.applicant_name,onBack:()=>{s(!1),p()},onTaskStarted:S=>{c({taskId:S.taskId,websocketUrl:S.websocketUrl}),s(!1),p()}}):i!==null?y.jsx(Jz,{complianceId:i,onBack:()=>r(null)}):y.jsxs("div",{className:"p-6 max-w-7xl mx-auto",children:[y.jsxs(we.button,{onClick:e,className:"flex items-center gap-2 text-[#6B7280] hover:text-[#F8FAFC] mb-6 transition-colors",whileHover:{x:-5},children:[y.jsx(wu,{size:20}),"Back to Projects"]}),y.jsx("div",{className:"grid grid-cols-1 gap-6 mb-6",children:y.jsxs(kt,{children:[y.jsx("div",{className:"flex items-start justify-between mb-4",children:y.jsxs("div",{className:"flex-1",children:[y.jsxs("div",{className:"flex items-center gap-3 mb-3",children:[y.jsx("div",{className:"w-12 h-12 bg-[#0B67FF]/20 rounded-lg flex items-center justify-center",children:y.jsx(Js,{size:24,className:"text-[#0B67FF]"})}),y.jsxs("div",{children:[y.jsx("h2",{children:n.applicant_name}),y.jsxs("div",{className:"flex items-center gap-2 text-[#6B7280] mt-1",children:[y.jsx(qa,{size:16}),y.jsx("span",{children:n.location})]})]})]}),y.jsx("div",{className:"inline-block px-4 py-2 rounded-lg",style:{backgroundColor:`${x.bg}20`,color:x.color},children:x.label})]})}),y.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-3 gap-4 mt-6 pt-6 border-t border-[#0B67FF]/20",children:[y.jsxs("div",{children:[y.jsx("p",{className:"text-[#6B7280] mb-1",children:"Project Type"}),y.jsx("p",{className:"text-[#F8FAFC]",children:n.building_type})]}),y.jsxs("div",{children:[y.jsx("p",{className:"text-[#6B7280] mb-1",children:"Start Date"}),y.jsxs("div",{className:"flex items-center gap-2",children:[y.jsx(cp,{size:16,className:"text-[#0B67FF]"}),y.jsx("span",{className:"text-[#F8FAFC]",children:n.submission_date})]})]})]})]})}),y.jsx("div",{className:"space-y-6",children:y.jsxs(kt,{children:[y.jsxs("div",{className:"flex items-center justify-between mb-6",children:[y.jsxs("h3",{children:["Compliance Checks (",w.length,")"]}),y.jsxs(we.button,{whileHover:{scale:1.05},whileTap:{scale:.95},onClick:()=>s(!0),className:"flex items-center gap-2 px-4 py-2.5 bg-[#0B67FF] hover:bg-[#0B67FF]/90 text-white rounded-lg transition-colors",children:[y.jsx(xM,{size:18}),y.jsx("span",{children:"New Compliance"})]})]}),h&&y.jsxs("div",{className:"text-center py-8 text-[#6B7280]",children:[y.jsx(up,{size:24,className:"mx-auto mb-2"}),y.jsx("p",{children:"Loading compliance checks..."})]}),f&&!h&&y.jsx("div",{className:"text-center py-8 text-red-400",children:"Failed to load compliance checks"}),!h&&!f&&y.jsxs("div",{className:"space-y-4",children:[w.map((S,E)=>{const _=A[S.status],k=S.status==="pending";return y.jsxs(we.div,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},transition:{delay:E*.1},className:`p-4 bg-[#0F172A] rounded-lg border border-[#0B67FF]/10 ${k?"cursor-not-allowed opacity-70":"cursor-pointer hover:border-[#0B67FF]/40"}`,onClick:()=>{k||r(S.id)},children:[y.jsxs("div",{className:"flex items-start justify-between mb-3",children:[y.jsxs("div",{className:"flex items-center gap-3 flex-1",children:[y.jsx("div",{className:"w-10 h-10 bg-[#06B6D4]/20 rounded-lg flex items-center justify-center flex-shrink-0",children:y.jsx(Ga,{size:20,className:"text-[#06B6D4]"})}),y.jsxs("div",{className:"flex-1",children:[y.jsx("p",{className:"text-[#F8FAFC] mb-1",children:S.fileName}),y.jsxs("p",{className:"text-[#6B7280]",children:["Uploaded ",S.uploadDate]})]})]}),y.jsx("div",{className:"px-3 py-1 rounded-lg text-white flex-shrink-0",style:{backgroundColor:_.bg},children:y.jsx("small",{children:_.label})})]}),S.status!=="pending"&&y.jsxs("div",{className:"mb-3",children:[y.jsxs("div",{className:"flex items-center justify-between mb-2",children:[y.jsx("small",{className:"text-[#6B7280]",children:"Compliance Score"}),y.jsxs("small",{style:{color:_.color},children:[S.score,"%"]})]}),y.jsx("div",{className:"w-full h-2 bg-[#1E293B] rounded-full overflow-hidden",children:y.jsx(we.div,{className:"h-full rounded-full",style:{backgroundColor:_.color},initial:{width:0},animate:{width:`${S.score}%`},transition:{duration:1,delay:E*.1}})})]}),S.checks.length>0&&y.jsx("div",{className:"space-y-2 mt-3 pt-3 border-t border-[#0B67FF]/10",children:S.checks.map((T,P)=>{console.log("check",T);const N=T.status==="passed";return y.jsxs("div",{className:"flex items-start gap-2",children:[N?y.jsx(ru,{size:16,className:"text-[#10B981] mt-0.5 flex-shrink-0"}):y.jsx(Pm,{size:16,className:"text-[#F97316] mt-0.5 flex-shrink-0"}),y.jsxs("div",{className:"flex-1",children:[y.jsx("p",{className:"text-[#F8FAFC]",children:T.name}),y.jsx("p",{className:"text-[#6B7280]",children:T.message})]})]},P)})}),S.status==="pending"&&y.jsxs("div",{className:"flex items-center gap-2 text-[#F97316] mt-3 pt-3 border-t border-[#0B67FF]/10",children:[y.jsx(up,{size:16}),y.jsx("small",{children:"Processing compliance check..."})]})]},S.id)}),w.length===0&&y.jsxs("div",{className:"text-center py-8 text-[#6B7280]",children:[y.jsx(Ga,{size:48,className:"mx-auto mb-3 opacity-50"}),y.jsx("p",{children:"No compliance checks yet"}),y.jsx("p",{children:'Click "New Compliance" to upload a document'})]})]})]})})]})}const t$={approved:{color:"#10B981",label:"Approved",bg:"#10B981"},pending:{color:"#F97316",label:"Pending",bg:"#F97316"},rejected:{color:"#EF4444",label:"Rejected",bg:"#EF4444"}},n$=n=>({project_id:n.project_id,applicant_name:n.applicant_name,location:n.location,submission_date:n.submission_date,status:"pending",progress:0,image:"https://images.unsplash.com/photo-1616418534243-ab757ff8ce3a?crop=entropy&cs=tinysrgb&fit=max&fm=jpg",building_type:n.building_type});function s$(){const[n,e]=F.useState(!1),[t,s]=F.useState(null),{projectsQuery:i}=OS(),o=(Array.isArray(i.data)?i.data:[]).map(n$),c=h=>s(h),u=()=>s(null);return i.isLoading?y.jsx("div",{className:"p-6 text-[#6B7280]",children:"Loading projects..."}):i.isError?y.jsx("div",{className:"p-6 text-red-400",children:"Failed to load projects. Please check your API URL or try again later."}):t?y.jsx(e$,{project:t,onBack:u}):y.jsxs("div",{className:"p-6",children:[y.jsxs("div",{className:"flex items-center justify-between mb-8",children:[y.jsxs("div",{children:[y.jsx("h2",{className:"mb-2",children:"Projects"}),y.jsx("p",{className:"text-[#6B7280]",children:"Manage and track all your architectural projects"})]}),y.jsx(we.button,{whileHover:{scale:1.05},whileTap:{scale:.95},onClick:()=>e(!0),className:"px-6 py-3 bg-[#0B67FF] hover:bg-[#0952CC] text-white rounded-lg transition-colors",children:"+ New Project"})]}),y.jsx("div",{className:"grid grid-cols-1 md:grid-cols-4 gap-4 mb-8",children:[{label:"Total Projects",value:o.length.toString(),icon:eM,color:"#0B67FF"},{label:"Approved",value:o.filter(h=>h.status==="approved").length.toString(),icon:PA,color:"#10B981"},{label:"Pending Review",value:o.filter(h=>h.status==="pending").length.toString(),icon:cp,color:"#F97316"},{label:"Needs Revision",value:o.filter(h=>h.status==="rejected").length.toString(),icon:qa,color:"#EF4444"}].map((h,f)=>{const p=h.icon;return y.jsx(we.div,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},transition:{delay:f*.1},children:y.jsx(kt,{hoverable:!1,className:"border border-[#0B67FF]/10",children:y.jsxs("div",{className:"flex items-center justify-between",children:[y.jsxs("div",{children:[y.jsx("p",{className:"text-[#6B7280] mb-1",children:h.label}),y.jsx("h2",{style:{color:h.color},children:h.value})]}),y.jsx("div",{className:"w-12 h-12 rounded-lg flex items-center justify-center",style:{backgroundColor:`${h.color}20`},children:y.jsx(p,{size:24,style:{color:h.color}})})]})})},f)})}),o.length===0?y.jsx("div",{className:"text-center py-20 text-[#6B7280]",children:"No projects found. Click + New Project to add your first project."}):y.jsx("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 gap-6",children:o.map((h,f)=>{const p=t$[h.status];return console.log("first",h),y.jsx(we.div,{initial:{opacity:0,y:30},animate:{opacity:1,y:0},transition:{delay:f*.1},onClick:()=>c(h),className:"cursor-pointer",children:y.jsxs(kt,{children:[y.jsxs("div",{className:"relative mb-4 rounded-lg overflow-hidden h-40",children:[y.jsx("img",{src:h.image,alt:h.applicant_name,className:"w-full h-full object-cover"}),y.jsx("div",{className:"absolute inset-0 bg-gradient-to-t from-black/60 to-transparent"}),y.jsx("div",{className:"absolute top-3 right-3 px-3 py-1 rounded-full text-white backdrop-blur-sm",style:{backgroundColor:`${p.bg}80`},children:y.jsx("small",{children:p.label})})]}),y.jsxs("div",{className:"flex items-start justify-between mb-3",children:[y.jsx("h3",{className:"flex-1",children:h.applicant_name}),y.jsx("button",{className:"text-[#6B7280] hover:text-[#F8FAFC] transition-colors",children:y.jsx(WN,{size:18})})]}),y.jsxs("div",{className:"flex items-center gap-2 text-[#6B7280] mb-3",children:[y.jsx(qa,{size:14}),y.jsx("small",{children:h.location})]}),y.jsxs("div",{className:"flex items-center gap-2 text-[#6B7280] mb-4",children:[y.jsx(cp,{size:14}),y.jsxs("small",{children:["Submitted ",h.submission_date]})]}),y.jsxs("div",{className:"mb-2",children:[y.jsxs("div",{className:"flex items-center justify-between mb-2",children:[y.jsx("small",{className:"text-[#6B7280]",children:"Completion"}),y.jsxs("small",{style:{color:p.color},children:[h.progress,"%"]})]}),y.jsx("div",{className:"w-full h-2 bg-[#0F172A] rounded-full overflow-hidden",children:y.jsx(we.div,{className:"h-full rounded-full",style:{backgroundColor:p.color},initial:{width:0},animate:{width:`${h.progress}%`},transition:{duration:1,delay:f*.1}})})]})]})},h.project_id)})}),y.jsx(c4,{isOpen:n,onClose:()=>e(!1)})]})}function i$(){return y.jsx(NT,{client:HT,children:y.jsx(Jk,{children:y.jsxs("div",{className:"min-h-screen bg-[#0F172A]",children:[y.jsx(Y3,{position:"top-center",reverseOrder:!1}),y.jsxs(Fk,{children:[y.jsx(_i,{path:"/",element:y.jsx(nD,{})}),y.jsx(_i,{path:"/login",element:y.jsx(J3,{})}),y.jsx(_i,{path:"/register",element:y.jsx(t4,{})}),y.jsxs(_i,{path:"/dashboard",element:y.jsx(n4,{children:y.jsx(oD,{})}),children:[y.jsx(_i,{index:!0,element:y.jsx(i4,{})}),y.jsx(_i,{path:"projects",element:y.jsx(s$,{})}),y.jsx(_i,{path:"settings",element:y.jsxs("div",{className:"p-6",children:[y.jsx("h2",{className:"mb-4",children:"Settings"}),y.jsx("p",{className:"text-[#6B7280]",children:"Settings page coming soon..."})]})})]})]})]})})})}LC.createRoot(document.getElementById("root")).render(y.jsx(i$,{}));
